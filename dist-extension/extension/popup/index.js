(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))r(o);new MutationObserver(o=>{for(const i of o)if(i.type==="childList")for(const l of i.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&r(l)}).observe(document,{childList:!0,subtree:!0});function n(o){const i={};return o.integrity&&(i.integrity=o.integrity),o.referrerPolicy&&(i.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?i.credentials="include":o.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function r(o){if(o.ep)return;o.ep=!0;const i=n(o);fetch(o.href,i)}})();var Eh={exports:{}},Ea={},kh={exports:{}},ae={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ps=Symbol.for("react.element"),_1=Symbol.for("react.portal"),N1=Symbol.for("react.fragment"),b1=Symbol.for("react.strict_mode"),P1=Symbol.for("react.profiler"),j1=Symbol.for("react.provider"),R1=Symbol.for("react.context"),L1=Symbol.for("react.forward_ref"),O1=Symbol.for("react.suspense"),D1=Symbol.for("react.memo"),M1=Symbol.for("react.lazy"),lp=Symbol.iterator;function z1(e){return e===null||typeof e!="object"?null:(e=lp&&e[lp]||e["@@iterator"],typeof e=="function"?e:null)}var Ah={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},Th=Object.assign,Ch={};function gi(e,t,n){this.props=e,this.context=t,this.refs=Ch,this.updater=n||Ah}gi.prototype.isReactComponent={};gi.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};gi.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function Ih(){}Ih.prototype=gi.prototype;function xd(e,t,n){this.props=e,this.context=t,this.refs=Ch,this.updater=n||Ah}var Sd=xd.prototype=new Ih;Sd.constructor=xd;Th(Sd,gi.prototype);Sd.isPureReactComponent=!0;var ap=Array.isArray,_h=Object.prototype.hasOwnProperty,vd={current:null},Nh={key:!0,ref:!0,__self:!0,__source:!0};function bh(e,t,n){var r,o={},i=null,l=null;if(t!=null)for(r in t.ref!==void 0&&(l=t.ref),t.key!==void 0&&(i=""+t.key),t)_h.call(t,r)&&!Nh.hasOwnProperty(r)&&(o[r]=t[r]);var c=arguments.length-2;if(c===1)o.children=n;else if(1<c){for(var u=Array(c),d=0;d<c;d++)u[d]=arguments[d+2];o.children=u}if(e&&e.defaultProps)for(r in c=e.defaultProps,c)o[r]===void 0&&(o[r]=c[r]);return{$$typeof:Ps,type:e,key:i,ref:l,props:o,_owner:vd.current}}function U1(e,t){return{$$typeof:Ps,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function wd(e){return typeof e=="object"&&e!==null&&e.$$typeof===Ps}function B1(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(n){return t[n]})}var cp=/\/+/g;function tc(e,t){return typeof e=="object"&&e!==null&&e.key!=null?B1(""+e.key):t.toString(36)}function Nl(e,t,n,r,o){var i=typeof e;(i==="undefined"||i==="boolean")&&(e=null);var l=!1;if(e===null)l=!0;else switch(i){case"string":case"number":l=!0;break;case"object":switch(e.$$typeof){case Ps:case _1:l=!0}}if(l)return l=e,o=o(l),e=r===""?"."+tc(l,0):r,ap(o)?(n="",e!=null&&(n=e.replace(cp,"$&/")+"/"),Nl(o,t,n,"",function(d){return d})):o!=null&&(wd(o)&&(o=U1(o,n+(!o.key||l&&l.key===o.key?"":(""+o.key).replace(cp,"$&/")+"/")+e)),t.push(o)),1;if(l=0,r=r===""?".":r+":",ap(e))for(var c=0;c<e.length;c++){i=e[c];var u=r+tc(i,c);l+=Nl(i,t,n,u,o)}else if(u=z1(e),typeof u=="function")for(e=u.call(e),c=0;!(i=e.next()).done;)i=i.value,u=r+tc(i,c++),l+=Nl(i,t,n,u,o);else if(i==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return l}function nl(e,t,n){if(e==null)return e;var r=[],o=0;return Nl(e,r,"","",function(i){return t.call(n,i,o++)}),r}function F1(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(n){(e._status===0||e._status===-1)&&(e._status=1,e._result=n)},function(n){(e._status===0||e._status===-1)&&(e._status=2,e._result=n)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var Nt={current:null},bl={transition:null},$1={ReactCurrentDispatcher:Nt,ReactCurrentBatchConfig:bl,ReactCurrentOwner:vd};function Ph(){throw Error("act(...) is not supported in production builds of React.")}ae.Children={map:nl,forEach:function(e,t,n){nl(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return nl(e,function(){t++}),t},toArray:function(e){return nl(e,function(t){return t})||[]},only:function(e){if(!wd(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};ae.Component=gi;ae.Fragment=N1;ae.Profiler=P1;ae.PureComponent=xd;ae.StrictMode=b1;ae.Suspense=O1;ae.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=$1;ae.act=Ph;ae.cloneElement=function(e,t,n){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var r=Th({},e.props),o=e.key,i=e.ref,l=e._owner;if(t!=null){if(t.ref!==void 0&&(i=t.ref,l=vd.current),t.key!==void 0&&(o=""+t.key),e.type&&e.type.defaultProps)var c=e.type.defaultProps;for(u in t)_h.call(t,u)&&!Nh.hasOwnProperty(u)&&(r[u]=t[u]===void 0&&c!==void 0?c[u]:t[u])}var u=arguments.length-2;if(u===1)r.children=n;else if(1<u){c=Array(u);for(var d=0;d<u;d++)c[d]=arguments[d+2];r.children=c}return{$$typeof:Ps,type:e.type,key:o,ref:i,props:r,_owner:l}};ae.createContext=function(e){return e={$$typeof:R1,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:j1,_context:e},e.Consumer=e};ae.createElement=bh;ae.createFactory=function(e){var t=bh.bind(null,e);return t.type=e,t};ae.createRef=function(){return{current:null}};ae.forwardRef=function(e){return{$$typeof:L1,render:e}};ae.isValidElement=wd;ae.lazy=function(e){return{$$typeof:M1,_payload:{_status:-1,_result:e},_init:F1}};ae.memo=function(e,t){return{$$typeof:D1,type:e,compare:t===void 0?null:t}};ae.startTransition=function(e){var t=bl.transition;bl.transition={};try{e()}finally{bl.transition=t}};ae.unstable_act=Ph;ae.useCallback=function(e,t){return Nt.current.useCallback(e,t)};ae.useContext=function(e){return Nt.current.useContext(e)};ae.useDebugValue=function(){};ae.useDeferredValue=function(e){return Nt.current.useDeferredValue(e)};ae.useEffect=function(e,t){return Nt.current.useEffect(e,t)};ae.useId=function(){return Nt.current.useId()};ae.useImperativeHandle=function(e,t,n){return Nt.current.useImperativeHandle(e,t,n)};ae.useInsertionEffect=function(e,t){return Nt.current.useInsertionEffect(e,t)};ae.useLayoutEffect=function(e,t){return Nt.current.useLayoutEffect(e,t)};ae.useMemo=function(e,t){return Nt.current.useMemo(e,t)};ae.useReducer=function(e,t,n){return Nt.current.useReducer(e,t,n)};ae.useRef=function(e){return Nt.current.useRef(e)};ae.useState=function(e){return Nt.current.useState(e)};ae.useSyncExternalStore=function(e,t,n){return Nt.current.useSyncExternalStore(e,t,n)};ae.useTransition=function(){return Nt.current.useTransition()};ae.version="18.3.1";kh.exports=ae;var S=kh.exports;/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var K1=S,H1=Symbol.for("react.element"),W1=Symbol.for("react.fragment"),V1=Object.prototype.hasOwnProperty,G1=K1.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,Q1={key:!0,ref:!0,__self:!0,__source:!0};function jh(e,t,n){var r,o={},i=null,l=null;n!==void 0&&(i=""+n),t.key!==void 0&&(i=""+t.key),t.ref!==void 0&&(l=t.ref);for(r in t)V1.call(t,r)&&!Q1.hasOwnProperty(r)&&(o[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps,t)o[r]===void 0&&(o[r]=t[r]);return{$$typeof:H1,type:e,key:i,ref:l,props:o,_owner:G1.current}}Ea.Fragment=W1;Ea.jsx=jh;Ea.jsxs=jh;Eh.exports=Ea;var s=Eh.exports,Rh={exports:{}},nn={},Lh={exports:{}},Oh={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(D,z){var H=D.length;D.push(z);e:for(;0<H;){var G=H-1>>>1,oe=D[G];if(0<o(oe,z))D[G]=z,D[H]=oe,H=G;else break e}}function n(D){return D.length===0?null:D[0]}function r(D){if(D.length===0)return null;var z=D[0],H=D.pop();if(H!==z){D[0]=H;e:for(var G=0,oe=D.length,Re=oe>>>1;G<Re;){var ve=2*(G+1)-1,q=D[ve],we=ve+1,W=D[we];if(0>o(q,H))we<oe&&0>o(W,q)?(D[G]=W,D[we]=H,G=we):(D[G]=q,D[ve]=H,G=ve);else if(we<oe&&0>o(W,H))D[G]=W,D[we]=H,G=we;else break e}}return z}function o(D,z){var H=D.sortIndex-z.sortIndex;return H!==0?H:D.id-z.id}if(typeof performance=="object"&&typeof performance.now=="function"){var i=performance;e.unstable_now=function(){return i.now()}}else{var l=Date,c=l.now();e.unstable_now=function(){return l.now()-c}}var u=[],d=[],p=1,h=null,g=3,x=!1,E=!1,w=!1,A=typeof setTimeout=="function"?setTimeout:null,f=typeof clearTimeout=="function"?clearTimeout:null,m=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function y(D){for(var z=n(d);z!==null;){if(z.callback===null)r(d);else if(z.startTime<=D)r(d),z.sortIndex=z.expirationTime,t(u,z);else break;z=n(d)}}function v(D){if(w=!1,y(D),!E)if(n(u)!==null)E=!0,le(_);else{var z=n(d);z!==null&&Se(v,z.startTime-D)}}function _(D,z){E=!1,w&&(w=!1,f(O),O=-1),x=!0;var H=g;try{for(y(z),h=n(u);h!==null&&(!(h.expirationTime>z)||D&&!xe());){var G=h.callback;if(typeof G=="function"){h.callback=null,g=h.priorityLevel;var oe=G(h.expirationTime<=z);z=e.unstable_now(),typeof oe=="function"?h.callback=oe:h===n(u)&&r(u),y(z)}else r(u);h=n(u)}if(h!==null)var Re=!0;else{var ve=n(d);ve!==null&&Se(v,ve.startTime-z),Re=!1}return Re}finally{h=null,g=H,x=!1}}var I=!1,P=null,O=-1,V=5,F=-1;function xe(){return!(e.unstable_now()-F<V)}function Q(){if(P!==null){var D=e.unstable_now();F=D;var z=!0;try{z=P(!0,D)}finally{z?ue():(I=!1,P=null)}}else I=!1}var ue;if(typeof m=="function")ue=function(){m(Q)};else if(typeof MessageChannel<"u"){var Oe=new MessageChannel,Ae=Oe.port2;Oe.port1.onmessage=Q,ue=function(){Ae.postMessage(null)}}else ue=function(){A(Q,0)};function le(D){P=D,I||(I=!0,ue())}function Se(D,z){O=A(function(){D(e.unstable_now())},z)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(D){D.callback=null},e.unstable_continueExecution=function(){E||x||(E=!0,le(_))},e.unstable_forceFrameRate=function(D){0>D||125<D?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):V=0<D?Math.floor(1e3/D):5},e.unstable_getCurrentPriorityLevel=function(){return g},e.unstable_getFirstCallbackNode=function(){return n(u)},e.unstable_next=function(D){switch(g){case 1:case 2:case 3:var z=3;break;default:z=g}var H=g;g=z;try{return D()}finally{g=H}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(D,z){switch(D){case 1:case 2:case 3:case 4:case 5:break;default:D=3}var H=g;g=D;try{return z()}finally{g=H}},e.unstable_scheduleCallback=function(D,z,H){var G=e.unstable_now();switch(typeof H=="object"&&H!==null?(H=H.delay,H=typeof H=="number"&&0<H?G+H:G):H=G,D){case 1:var oe=-1;break;case 2:oe=250;break;case 5:oe=1073741823;break;case 4:oe=1e4;break;default:oe=5e3}return oe=H+oe,D={id:p++,callback:z,priorityLevel:D,startTime:H,expirationTime:oe,sortIndex:-1},H>G?(D.sortIndex=H,t(d,D),n(u)===null&&D===n(d)&&(w?(f(O),O=-1):w=!0,Se(v,H-G))):(D.sortIndex=oe,t(u,D),E||x||(E=!0,le(_))),D},e.unstable_shouldYield=xe,e.unstable_wrapCallback=function(D){var z=g;return function(){var H=g;g=z;try{return D.apply(this,arguments)}finally{g=H}}}})(Oh);Lh.exports=Oh;var X1=Lh.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Y1=S,tn=X1;function R(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var Dh=new Set,as={};function lo(e,t){ti(e,t),ti(e+"Capture",t)}function ti(e,t){for(as[e]=t,e=0;e<t.length;e++)Dh.add(t[e])}var qn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),qc=Object.prototype.hasOwnProperty,J1=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,up={},dp={};function Z1(e){return qc.call(dp,e)?!0:qc.call(up,e)?!1:J1.test(e)?dp[e]=!0:(up[e]=!0,!1)}function q1(e,t,n,r){if(n!==null&&n.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function ex(e,t,n,r){if(t===null||typeof t>"u"||q1(e,t,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function bt(e,t,n,r,o,i,l){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=r,this.attributeNamespace=o,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=i,this.removeEmptyString=l}var ct={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){ct[e]=new bt(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];ct[t]=new bt(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){ct[e]=new bt(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){ct[e]=new bt(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){ct[e]=new bt(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){ct[e]=new bt(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){ct[e]=new bt(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){ct[e]=new bt(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){ct[e]=new bt(e,5,!1,e.toLowerCase(),null,!1,!1)});var Ed=/[\-:]([a-z])/g;function kd(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(Ed,kd);ct[t]=new bt(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(Ed,kd);ct[t]=new bt(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(Ed,kd);ct[t]=new bt(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){ct[e]=new bt(e,1,!1,e.toLowerCase(),null,!1,!1)});ct.xlinkHref=new bt("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){ct[e]=new bt(e,1,!1,e.toLowerCase(),null,!0,!0)});function Ad(e,t,n,r){var o=ct.hasOwnProperty(t)?ct[t]:null;(o!==null?o.type!==0:r||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(ex(t,n,o,r)&&(n=null),r||o===null?Z1(t)&&(n===null?e.removeAttribute(t):e.setAttribute(t,""+n)):o.mustUseProperty?e[o.propertyName]=n===null?o.type===3?!1:"":n:(t=o.attributeName,r=o.attributeNamespace,n===null?e.removeAttribute(t):(o=o.type,n=o===3||o===4&&n===!0?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}var rr=Y1.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,rl=Symbol.for("react.element"),_o=Symbol.for("react.portal"),No=Symbol.for("react.fragment"),Td=Symbol.for("react.strict_mode"),eu=Symbol.for("react.profiler"),Mh=Symbol.for("react.provider"),zh=Symbol.for("react.context"),Cd=Symbol.for("react.forward_ref"),tu=Symbol.for("react.suspense"),nu=Symbol.for("react.suspense_list"),Id=Symbol.for("react.memo"),fr=Symbol.for("react.lazy"),Uh=Symbol.for("react.offscreen"),fp=Symbol.iterator;function Ii(e){return e===null||typeof e!="object"?null:(e=fp&&e[fp]||e["@@iterator"],typeof e=="function"?e:null)}var Be=Object.assign,nc;function Bi(e){if(nc===void 0)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);nc=t&&t[1]||""}return`
`+nc+e}var rc=!1;function oc(e,t){if(!e||rc)return"";rc=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(d){var r=d}Reflect.construct(e,[],t)}else{try{t.call()}catch(d){r=d}e.call(t.prototype)}else{try{throw Error()}catch(d){r=d}e()}}catch(d){if(d&&r&&typeof d.stack=="string"){for(var o=d.stack.split(`
`),i=r.stack.split(`
`),l=o.length-1,c=i.length-1;1<=l&&0<=c&&o[l]!==i[c];)c--;for(;1<=l&&0<=c;l--,c--)if(o[l]!==i[c]){if(l!==1||c!==1)do if(l--,c--,0>c||o[l]!==i[c]){var u=`
`+o[l].replace(" at new "," at ");return e.displayName&&u.includes("<anonymous>")&&(u=u.replace("<anonymous>",e.displayName)),u}while(1<=l&&0<=c);break}}}finally{rc=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?Bi(e):""}function tx(e){switch(e.tag){case 5:return Bi(e.type);case 16:return Bi("Lazy");case 13:return Bi("Suspense");case 19:return Bi("SuspenseList");case 0:case 2:case 15:return e=oc(e.type,!1),e;case 11:return e=oc(e.type.render,!1),e;case 1:return e=oc(e.type,!0),e;default:return""}}function ru(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case No:return"Fragment";case _o:return"Portal";case eu:return"Profiler";case Td:return"StrictMode";case tu:return"Suspense";case nu:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case zh:return(e.displayName||"Context")+".Consumer";case Mh:return(e._context.displayName||"Context")+".Provider";case Cd:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case Id:return t=e.displayName||null,t!==null?t:ru(e.type)||"Memo";case fr:t=e._payload,e=e._init;try{return ru(e(t))}catch{}}return null}function nx(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return ru(t);case 8:return t===Td?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function jr(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function Bh(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function rx(e){var t=Bh(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var o=n.get,i=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return o.call(this)},set:function(l){r=""+l,i.call(this,l)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(l){r=""+l},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function ol(e){e._valueTracker||(e._valueTracker=rx(e))}function Fh(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=Bh(e)?e.checked?"true":"false":e.value),e=r,e!==n?(t.setValue(e),!0):!1}function Kl(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function ou(e,t){var n=t.checked;return Be({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??e._wrapperState.initialChecked})}function pp(e,t){var n=t.defaultValue==null?"":t.defaultValue,r=t.checked!=null?t.checked:t.defaultChecked;n=jr(t.value!=null?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function $h(e,t){t=t.checked,t!=null&&Ad(e,"checked",t,!1)}function iu(e,t){$h(e,t);var n=jr(t.value),r=t.type;if(n!=null)r==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if(r==="submit"||r==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?su(e,t.type,n):t.hasOwnProperty("defaultValue")&&su(e,t.type,jr(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function mp(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!(r!=="submit"&&r!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}n=e.name,n!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,n!==""&&(e.name=n)}function su(e,t,n){(t!=="number"||Kl(e.ownerDocument)!==e)&&(n==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var Fi=Array.isArray;function Fo(e,t,n,r){if(e=e.options,t){t={};for(var o=0;o<n.length;o++)t["$"+n[o]]=!0;for(n=0;n<e.length;n++)o=t.hasOwnProperty("$"+e[n].value),e[n].selected!==o&&(e[n].selected=o),o&&r&&(e[n].defaultSelected=!0)}else{for(n=""+jr(n),t=null,o=0;o<e.length;o++){if(e[o].value===n){e[o].selected=!0,r&&(e[o].defaultSelected=!0);return}t!==null||e[o].disabled||(t=e[o])}t!==null&&(t.selected=!0)}}function lu(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(R(91));return Be({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function hp(e,t){var n=t.value;if(n==null){if(n=t.children,t=t.defaultValue,n!=null){if(t!=null)throw Error(R(92));if(Fi(n)){if(1<n.length)throw Error(R(93));n=n[0]}t=n}t==null&&(t=""),n=t}e._wrapperState={initialValue:jr(n)}}function Kh(e,t){var n=jr(t.value),r=jr(t.defaultValue);n!=null&&(n=""+n,n!==e.value&&(e.value=n),t.defaultValue==null&&e.defaultValue!==n&&(e.defaultValue=n)),r!=null&&(e.defaultValue=""+r)}function gp(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function Hh(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function au(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?Hh(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var il,Wh=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,n,r,o){MSApp.execUnsafeLocalFunction(function(){return e(t,n,r,o)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(il=il||document.createElement("div"),il.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=il.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function cs(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&n.nodeType===3){n.nodeValue=t;return}}e.textContent=t}var Wi={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},ox=["Webkit","ms","Moz","O"];Object.keys(Wi).forEach(function(e){ox.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),Wi[t]=Wi[e]})});function Vh(e,t,n){return t==null||typeof t=="boolean"||t===""?"":n||typeof t!="number"||t===0||Wi.hasOwnProperty(e)&&Wi[e]?(""+t).trim():t+"px"}function Gh(e,t){e=e.style;for(var n in t)if(t.hasOwnProperty(n)){var r=n.indexOf("--")===0,o=Vh(n,t[n],r);n==="float"&&(n="cssFloat"),r?e.setProperty(n,o):e[n]=o}}var ix=Be({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function cu(e,t){if(t){if(ix[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(R(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(R(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(R(61))}if(t.style!=null&&typeof t.style!="object")throw Error(R(62))}}function uu(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var du=null;function _d(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var fu=null,$o=null,Ko=null;function yp(e){if(e=Ls(e)){if(typeof fu!="function")throw Error(R(280));var t=e.stateNode;t&&(t=Ia(t),fu(e.stateNode,e.type,t))}}function Qh(e){$o?Ko?Ko.push(e):Ko=[e]:$o=e}function Xh(){if($o){var e=$o,t=Ko;if(Ko=$o=null,yp(e),t)for(e=0;e<t.length;e++)yp(t[e])}}function Yh(e,t){return e(t)}function Jh(){}var ic=!1;function Zh(e,t,n){if(ic)return e(t,n);ic=!0;try{return Yh(e,t,n)}finally{ic=!1,($o!==null||Ko!==null)&&(Jh(),Xh())}}function us(e,t){var n=e.stateNode;if(n===null)return null;var r=Ia(n);if(r===null)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(e=e.type,r=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!r;break e;default:e=!1}if(e)return null;if(n&&typeof n!="function")throw Error(R(231,t,typeof n));return n}var pu=!1;if(qn)try{var _i={};Object.defineProperty(_i,"passive",{get:function(){pu=!0}}),window.addEventListener("test",_i,_i),window.removeEventListener("test",_i,_i)}catch{pu=!1}function sx(e,t,n,r,o,i,l,c,u){var d=Array.prototype.slice.call(arguments,3);try{t.apply(n,d)}catch(p){this.onError(p)}}var Vi=!1,Hl=null,Wl=!1,mu=null,lx={onError:function(e){Vi=!0,Hl=e}};function ax(e,t,n,r,o,i,l,c,u){Vi=!1,Hl=null,sx.apply(lx,arguments)}function cx(e,t,n,r,o,i,l,c,u){if(ax.apply(this,arguments),Vi){if(Vi){var d=Hl;Vi=!1,Hl=null}else throw Error(R(198));Wl||(Wl=!0,mu=d)}}function ao(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(n=t.return),e=t.return;while(e)}return t.tag===3?n:null}function qh(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function xp(e){if(ao(e)!==e)throw Error(R(188))}function ux(e){var t=e.alternate;if(!t){if(t=ao(e),t===null)throw Error(R(188));return t!==e?null:e}for(var n=e,r=t;;){var o=n.return;if(o===null)break;var i=o.alternate;if(i===null){if(r=o.return,r!==null){n=r;continue}break}if(o.child===i.child){for(i=o.child;i;){if(i===n)return xp(o),e;if(i===r)return xp(o),t;i=i.sibling}throw Error(R(188))}if(n.return!==r.return)n=o,r=i;else{for(var l=!1,c=o.child;c;){if(c===n){l=!0,n=o,r=i;break}if(c===r){l=!0,r=o,n=i;break}c=c.sibling}if(!l){for(c=i.child;c;){if(c===n){l=!0,n=i,r=o;break}if(c===r){l=!0,r=i,n=o;break}c=c.sibling}if(!l)throw Error(R(189))}}if(n.alternate!==r)throw Error(R(190))}if(n.tag!==3)throw Error(R(188));return n.stateNode.current===n?e:t}function eg(e){return e=ux(e),e!==null?tg(e):null}function tg(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=tg(e);if(t!==null)return t;e=e.sibling}return null}var ng=tn.unstable_scheduleCallback,Sp=tn.unstable_cancelCallback,dx=tn.unstable_shouldYield,fx=tn.unstable_requestPaint,Ve=tn.unstable_now,px=tn.unstable_getCurrentPriorityLevel,Nd=tn.unstable_ImmediatePriority,rg=tn.unstable_UserBlockingPriority,Vl=tn.unstable_NormalPriority,mx=tn.unstable_LowPriority,og=tn.unstable_IdlePriority,ka=null,Un=null;function hx(e){if(Un&&typeof Un.onCommitFiberRoot=="function")try{Un.onCommitFiberRoot(ka,e,void 0,(e.current.flags&128)===128)}catch{}}var _n=Math.clz32?Math.clz32:xx,gx=Math.log,yx=Math.LN2;function xx(e){return e>>>=0,e===0?32:31-(gx(e)/yx|0)|0}var sl=64,ll=4194304;function $i(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function Gl(e,t){var n=e.pendingLanes;if(n===0)return 0;var r=0,o=e.suspendedLanes,i=e.pingedLanes,l=n&268435455;if(l!==0){var c=l&~o;c!==0?r=$i(c):(i&=l,i!==0&&(r=$i(i)))}else l=n&~o,l!==0?r=$i(l):i!==0&&(r=$i(i));if(r===0)return 0;if(t!==0&&t!==r&&!(t&o)&&(o=r&-r,i=t&-t,o>=i||o===16&&(i&4194240)!==0))return t;if(r&4&&(r|=n&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=r;0<t;)n=31-_n(t),o=1<<n,r|=e[n],t&=~o;return r}function Sx(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function vx(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,o=e.expirationTimes,i=e.pendingLanes;0<i;){var l=31-_n(i),c=1<<l,u=o[l];u===-1?(!(c&n)||c&r)&&(o[l]=Sx(c,t)):u<=t&&(e.expiredLanes|=c),i&=~c}}function hu(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function ig(){var e=sl;return sl<<=1,!(sl&4194240)&&(sl=64),e}function sc(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function js(e,t,n){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-_n(t),e[t]=n}function wx(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var o=31-_n(n),i=1<<o;t[o]=0,r[o]=-1,e[o]=-1,n&=~i}}function bd(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-_n(n),o=1<<r;o&t|e[r]&t&&(e[r]|=t),n&=~o}}var ke=0;function sg(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var lg,Pd,ag,cg,ug,gu=!1,al=[],Ar=null,Tr=null,Cr=null,ds=new Map,fs=new Map,hr=[],Ex="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function vp(e,t){switch(e){case"focusin":case"focusout":Ar=null;break;case"dragenter":case"dragleave":Tr=null;break;case"mouseover":case"mouseout":Cr=null;break;case"pointerover":case"pointerout":ds.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":fs.delete(t.pointerId)}}function Ni(e,t,n,r,o,i){return e===null||e.nativeEvent!==i?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:i,targetContainers:[o]},t!==null&&(t=Ls(t),t!==null&&Pd(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,o!==null&&t.indexOf(o)===-1&&t.push(o),e)}function kx(e,t,n,r,o){switch(t){case"focusin":return Ar=Ni(Ar,e,t,n,r,o),!0;case"dragenter":return Tr=Ni(Tr,e,t,n,r,o),!0;case"mouseover":return Cr=Ni(Cr,e,t,n,r,o),!0;case"pointerover":var i=o.pointerId;return ds.set(i,Ni(ds.get(i)||null,e,t,n,r,o)),!0;case"gotpointercapture":return i=o.pointerId,fs.set(i,Ni(fs.get(i)||null,e,t,n,r,o)),!0}return!1}function dg(e){var t=Vr(e.target);if(t!==null){var n=ao(t);if(n!==null){if(t=n.tag,t===13){if(t=qh(n),t!==null){e.blockedOn=t,ug(e.priority,function(){ag(n)});return}}else if(t===3&&n.stateNode.current.memoizedState.isDehydrated){e.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Pl(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var n=yu(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(n===null){n=e.nativeEvent;var r=new n.constructor(n.type,n);du=r,n.target.dispatchEvent(r),du=null}else return t=Ls(n),t!==null&&Pd(t),e.blockedOn=n,!1;t.shift()}return!0}function wp(e,t,n){Pl(e)&&n.delete(t)}function Ax(){gu=!1,Ar!==null&&Pl(Ar)&&(Ar=null),Tr!==null&&Pl(Tr)&&(Tr=null),Cr!==null&&Pl(Cr)&&(Cr=null),ds.forEach(wp),fs.forEach(wp)}function bi(e,t){e.blockedOn===t&&(e.blockedOn=null,gu||(gu=!0,tn.unstable_scheduleCallback(tn.unstable_NormalPriority,Ax)))}function ps(e){function t(o){return bi(o,e)}if(0<al.length){bi(al[0],e);for(var n=1;n<al.length;n++){var r=al[n];r.blockedOn===e&&(r.blockedOn=null)}}for(Ar!==null&&bi(Ar,e),Tr!==null&&bi(Tr,e),Cr!==null&&bi(Cr,e),ds.forEach(t),fs.forEach(t),n=0;n<hr.length;n++)r=hr[n],r.blockedOn===e&&(r.blockedOn=null);for(;0<hr.length&&(n=hr[0],n.blockedOn===null);)dg(n),n.blockedOn===null&&hr.shift()}var Ho=rr.ReactCurrentBatchConfig,Ql=!0;function Tx(e,t,n,r){var o=ke,i=Ho.transition;Ho.transition=null;try{ke=1,jd(e,t,n,r)}finally{ke=o,Ho.transition=i}}function Cx(e,t,n,r){var o=ke,i=Ho.transition;Ho.transition=null;try{ke=4,jd(e,t,n,r)}finally{ke=o,Ho.transition=i}}function jd(e,t,n,r){if(Ql){var o=yu(e,t,n,r);if(o===null)gc(e,t,r,Xl,n),vp(e,r);else if(kx(o,e,t,n,r))r.stopPropagation();else if(vp(e,r),t&4&&-1<Ex.indexOf(e)){for(;o!==null;){var i=Ls(o);if(i!==null&&lg(i),i=yu(e,t,n,r),i===null&&gc(e,t,r,Xl,n),i===o)break;o=i}o!==null&&r.stopPropagation()}else gc(e,t,r,null,n)}}var Xl=null;function yu(e,t,n,r){if(Xl=null,e=_d(r),e=Vr(e),e!==null)if(t=ao(e),t===null)e=null;else if(n=t.tag,n===13){if(e=qh(t),e!==null)return e;e=null}else if(n===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Xl=e,null}function fg(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(px()){case Nd:return 1;case rg:return 4;case Vl:case mx:return 16;case og:return 536870912;default:return 16}default:return 16}}var xr=null,Rd=null,jl=null;function pg(){if(jl)return jl;var e,t=Rd,n=t.length,r,o="value"in xr?xr.value:xr.textContent,i=o.length;for(e=0;e<n&&t[e]===o[e];e++);var l=n-e;for(r=1;r<=l&&t[n-r]===o[i-r];r++);return jl=o.slice(e,1<r?1-r:void 0)}function Rl(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function cl(){return!0}function Ep(){return!1}function rn(e){function t(n,r,o,i,l){this._reactName=n,this._targetInst=o,this.type=r,this.nativeEvent=i,this.target=l,this.currentTarget=null;for(var c in e)e.hasOwnProperty(c)&&(n=e[c],this[c]=n?n(i):i[c]);return this.isDefaultPrevented=(i.defaultPrevented!=null?i.defaultPrevented:i.returnValue===!1)?cl:Ep,this.isPropagationStopped=Ep,this}return Be(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=cl)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=cl)},persist:function(){},isPersistent:cl}),t}var yi={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Ld=rn(yi),Rs=Be({},yi,{view:0,detail:0}),Ix=rn(Rs),lc,ac,Pi,Aa=Be({},Rs,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Od,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Pi&&(Pi&&e.type==="mousemove"?(lc=e.screenX-Pi.screenX,ac=e.screenY-Pi.screenY):ac=lc=0,Pi=e),lc)},movementY:function(e){return"movementY"in e?e.movementY:ac}}),kp=rn(Aa),_x=Be({},Aa,{dataTransfer:0}),Nx=rn(_x),bx=Be({},Rs,{relatedTarget:0}),cc=rn(bx),Px=Be({},yi,{animationName:0,elapsedTime:0,pseudoElement:0}),jx=rn(Px),Rx=Be({},yi,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),Lx=rn(Rx),Ox=Be({},yi,{data:0}),Ap=rn(Ox),Dx={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Mx={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},zx={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Ux(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=zx[e])?!!t[e]:!1}function Od(){return Ux}var Bx=Be({},Rs,{key:function(e){if(e.key){var t=Dx[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=Rl(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?Mx[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Od,charCode:function(e){return e.type==="keypress"?Rl(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Rl(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),Fx=rn(Bx),$x=Be({},Aa,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Tp=rn($x),Kx=Be({},Rs,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Od}),Hx=rn(Kx),Wx=Be({},yi,{propertyName:0,elapsedTime:0,pseudoElement:0}),Vx=rn(Wx),Gx=Be({},Aa,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Qx=rn(Gx),Xx=[9,13,27,32],Dd=qn&&"CompositionEvent"in window,Gi=null;qn&&"documentMode"in document&&(Gi=document.documentMode);var Yx=qn&&"TextEvent"in window&&!Gi,mg=qn&&(!Dd||Gi&&8<Gi&&11>=Gi),Cp=" ",Ip=!1;function hg(e,t){switch(e){case"keyup":return Xx.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function gg(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var bo=!1;function Jx(e,t){switch(e){case"compositionend":return gg(t);case"keypress":return t.which!==32?null:(Ip=!0,Cp);case"textInput":return e=t.data,e===Cp&&Ip?null:e;default:return null}}function Zx(e,t){if(bo)return e==="compositionend"||!Dd&&hg(e,t)?(e=pg(),jl=Rd=xr=null,bo=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return mg&&t.locale!=="ko"?null:t.data;default:return null}}var qx={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function _p(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!qx[e.type]:t==="textarea"}function yg(e,t,n,r){Qh(r),t=Yl(t,"onChange"),0<t.length&&(n=new Ld("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var Qi=null,ms=null;function eS(e){_g(e,0)}function Ta(e){var t=Ro(e);if(Fh(t))return e}function tS(e,t){if(e==="change")return t}var xg=!1;if(qn){var uc;if(qn){var dc="oninput"in document;if(!dc){var Np=document.createElement("div");Np.setAttribute("oninput","return;"),dc=typeof Np.oninput=="function"}uc=dc}else uc=!1;xg=uc&&(!document.documentMode||9<document.documentMode)}function bp(){Qi&&(Qi.detachEvent("onpropertychange",Sg),ms=Qi=null)}function Sg(e){if(e.propertyName==="value"&&Ta(ms)){var t=[];yg(t,ms,e,_d(e)),Zh(eS,t)}}function nS(e,t,n){e==="focusin"?(bp(),Qi=t,ms=n,Qi.attachEvent("onpropertychange",Sg)):e==="focusout"&&bp()}function rS(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Ta(ms)}function oS(e,t){if(e==="click")return Ta(t)}function iS(e,t){if(e==="input"||e==="change")return Ta(t)}function sS(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var bn=typeof Object.is=="function"?Object.is:sS;function hs(e,t){if(bn(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var o=n[r];if(!qc.call(t,o)||!bn(e[o],t[o]))return!1}return!0}function Pp(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function jp(e,t){var n=Pp(e);e=0;for(var r;n;){if(n.nodeType===3){if(r=e+n.textContent.length,e<=t&&r>=t)return{node:n,offset:t-e};e=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=Pp(n)}}function vg(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?vg(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function wg(){for(var e=window,t=Kl();t instanceof e.HTMLIFrameElement;){try{var n=typeof t.contentWindow.location.href=="string"}catch{n=!1}if(n)e=t.contentWindow;else break;t=Kl(e.document)}return t}function Md(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function lS(e){var t=wg(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&vg(n.ownerDocument.documentElement,n)){if(r!==null&&Md(n)){if(t=r.start,e=r.end,e===void 0&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if(e=(t=n.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var o=n.textContent.length,i=Math.min(r.start,o);r=r.end===void 0?i:Math.min(r.end,o),!e.extend&&i>r&&(o=r,r=i,i=o),o=jp(n,i);var l=jp(n,r);o&&l&&(e.rangeCount!==1||e.anchorNode!==o.node||e.anchorOffset!==o.offset||e.focusNode!==l.node||e.focusOffset!==l.offset)&&(t=t.createRange(),t.setStart(o.node,o.offset),e.removeAllRanges(),i>r?(e.addRange(t),e.extend(l.node,l.offset)):(t.setEnd(l.node,l.offset),e.addRange(t)))}}for(t=[],e=n;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<t.length;n++)e=t[n],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var aS=qn&&"documentMode"in document&&11>=document.documentMode,Po=null,xu=null,Xi=null,Su=!1;function Rp(e,t,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;Su||Po==null||Po!==Kl(r)||(r=Po,"selectionStart"in r&&Md(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),Xi&&hs(Xi,r)||(Xi=r,r=Yl(xu,"onSelect"),0<r.length&&(t=new Ld("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=Po)))}function ul(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var jo={animationend:ul("Animation","AnimationEnd"),animationiteration:ul("Animation","AnimationIteration"),animationstart:ul("Animation","AnimationStart"),transitionend:ul("Transition","TransitionEnd")},fc={},Eg={};qn&&(Eg=document.createElement("div").style,"AnimationEvent"in window||(delete jo.animationend.animation,delete jo.animationiteration.animation,delete jo.animationstart.animation),"TransitionEvent"in window||delete jo.transitionend.transition);function Ca(e){if(fc[e])return fc[e];if(!jo[e])return e;var t=jo[e],n;for(n in t)if(t.hasOwnProperty(n)&&n in Eg)return fc[e]=t[n];return e}var kg=Ca("animationend"),Ag=Ca("animationiteration"),Tg=Ca("animationstart"),Cg=Ca("transitionend"),Ig=new Map,Lp="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Or(e,t){Ig.set(e,t),lo(t,[e])}for(var pc=0;pc<Lp.length;pc++){var mc=Lp[pc],cS=mc.toLowerCase(),uS=mc[0].toUpperCase()+mc.slice(1);Or(cS,"on"+uS)}Or(kg,"onAnimationEnd");Or(Ag,"onAnimationIteration");Or(Tg,"onAnimationStart");Or("dblclick","onDoubleClick");Or("focusin","onFocus");Or("focusout","onBlur");Or(Cg,"onTransitionEnd");ti("onMouseEnter",["mouseout","mouseover"]);ti("onMouseLeave",["mouseout","mouseover"]);ti("onPointerEnter",["pointerout","pointerover"]);ti("onPointerLeave",["pointerout","pointerover"]);lo("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));lo("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));lo("onBeforeInput",["compositionend","keypress","textInput","paste"]);lo("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));lo("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));lo("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Ki="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),dS=new Set("cancel close invalid load scroll toggle".split(" ").concat(Ki));function Op(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,cx(r,t,void 0,e),e.currentTarget=null}function _g(e,t){t=(t&4)!==0;for(var n=0;n<e.length;n++){var r=e[n],o=r.event;r=r.listeners;e:{var i=void 0;if(t)for(var l=r.length-1;0<=l;l--){var c=r[l],u=c.instance,d=c.currentTarget;if(c=c.listener,u!==i&&o.isPropagationStopped())break e;Op(o,c,d),i=u}else for(l=0;l<r.length;l++){if(c=r[l],u=c.instance,d=c.currentTarget,c=c.listener,u!==i&&o.isPropagationStopped())break e;Op(o,c,d),i=u}}}if(Wl)throw e=mu,Wl=!1,mu=null,e}function Pe(e,t){var n=t[Au];n===void 0&&(n=t[Au]=new Set);var r=e+"__bubble";n.has(r)||(Ng(t,e,2,!1),n.add(r))}function hc(e,t,n){var r=0;t&&(r|=4),Ng(n,e,r,t)}var dl="_reactListening"+Math.random().toString(36).slice(2);function gs(e){if(!e[dl]){e[dl]=!0,Dh.forEach(function(n){n!=="selectionchange"&&(dS.has(n)||hc(n,!1,e),hc(n,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[dl]||(t[dl]=!0,hc("selectionchange",!1,t))}}function Ng(e,t,n,r){switch(fg(t)){case 1:var o=Tx;break;case 4:o=Cx;break;default:o=jd}n=o.bind(null,t,n,e),o=void 0,!pu||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(o=!0),r?o!==void 0?e.addEventListener(t,n,{capture:!0,passive:o}):e.addEventListener(t,n,!0):o!==void 0?e.addEventListener(t,n,{passive:o}):e.addEventListener(t,n,!1)}function gc(e,t,n,r,o){var i=r;if(!(t&1)&&!(t&2)&&r!==null)e:for(;;){if(r===null)return;var l=r.tag;if(l===3||l===4){var c=r.stateNode.containerInfo;if(c===o||c.nodeType===8&&c.parentNode===o)break;if(l===4)for(l=r.return;l!==null;){var u=l.tag;if((u===3||u===4)&&(u=l.stateNode.containerInfo,u===o||u.nodeType===8&&u.parentNode===o))return;l=l.return}for(;c!==null;){if(l=Vr(c),l===null)return;if(u=l.tag,u===5||u===6){r=i=l;continue e}c=c.parentNode}}r=r.return}Zh(function(){var d=i,p=_d(n),h=[];e:{var g=Ig.get(e);if(g!==void 0){var x=Ld,E=e;switch(e){case"keypress":if(Rl(n)===0)break e;case"keydown":case"keyup":x=Fx;break;case"focusin":E="focus",x=cc;break;case"focusout":E="blur",x=cc;break;case"beforeblur":case"afterblur":x=cc;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":x=kp;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":x=Nx;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":x=Hx;break;case kg:case Ag:case Tg:x=jx;break;case Cg:x=Vx;break;case"scroll":x=Ix;break;case"wheel":x=Qx;break;case"copy":case"cut":case"paste":x=Lx;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":x=Tp}var w=(t&4)!==0,A=!w&&e==="scroll",f=w?g!==null?g+"Capture":null:g;w=[];for(var m=d,y;m!==null;){y=m;var v=y.stateNode;if(y.tag===5&&v!==null&&(y=v,f!==null&&(v=us(m,f),v!=null&&w.push(ys(m,v,y)))),A)break;m=m.return}0<w.length&&(g=new x(g,E,null,n,p),h.push({event:g,listeners:w}))}}if(!(t&7)){e:{if(g=e==="mouseover"||e==="pointerover",x=e==="mouseout"||e==="pointerout",g&&n!==du&&(E=n.relatedTarget||n.fromElement)&&(Vr(E)||E[er]))break e;if((x||g)&&(g=p.window===p?p:(g=p.ownerDocument)?g.defaultView||g.parentWindow:window,x?(E=n.relatedTarget||n.toElement,x=d,E=E?Vr(E):null,E!==null&&(A=ao(E),E!==A||E.tag!==5&&E.tag!==6)&&(E=null)):(x=null,E=d),x!==E)){if(w=kp,v="onMouseLeave",f="onMouseEnter",m="mouse",(e==="pointerout"||e==="pointerover")&&(w=Tp,v="onPointerLeave",f="onPointerEnter",m="pointer"),A=x==null?g:Ro(x),y=E==null?g:Ro(E),g=new w(v,m+"leave",x,n,p),g.target=A,g.relatedTarget=y,v=null,Vr(p)===d&&(w=new w(f,m+"enter",E,n,p),w.target=y,w.relatedTarget=A,v=w),A=v,x&&E)t:{for(w=x,f=E,m=0,y=w;y;y=Eo(y))m++;for(y=0,v=f;v;v=Eo(v))y++;for(;0<m-y;)w=Eo(w),m--;for(;0<y-m;)f=Eo(f),y--;for(;m--;){if(w===f||f!==null&&w===f.alternate)break t;w=Eo(w),f=Eo(f)}w=null}else w=null;x!==null&&Dp(h,g,x,w,!1),E!==null&&A!==null&&Dp(h,A,E,w,!0)}}e:{if(g=d?Ro(d):window,x=g.nodeName&&g.nodeName.toLowerCase(),x==="select"||x==="input"&&g.type==="file")var _=tS;else if(_p(g))if(xg)_=iS;else{_=rS;var I=nS}else(x=g.nodeName)&&x.toLowerCase()==="input"&&(g.type==="checkbox"||g.type==="radio")&&(_=oS);if(_&&(_=_(e,d))){yg(h,_,n,p);break e}I&&I(e,g,d),e==="focusout"&&(I=g._wrapperState)&&I.controlled&&g.type==="number"&&su(g,"number",g.value)}switch(I=d?Ro(d):window,e){case"focusin":(_p(I)||I.contentEditable==="true")&&(Po=I,xu=d,Xi=null);break;case"focusout":Xi=xu=Po=null;break;case"mousedown":Su=!0;break;case"contextmenu":case"mouseup":case"dragend":Su=!1,Rp(h,n,p);break;case"selectionchange":if(aS)break;case"keydown":case"keyup":Rp(h,n,p)}var P;if(Dd)e:{switch(e){case"compositionstart":var O="onCompositionStart";break e;case"compositionend":O="onCompositionEnd";break e;case"compositionupdate":O="onCompositionUpdate";break e}O=void 0}else bo?hg(e,n)&&(O="onCompositionEnd"):e==="keydown"&&n.keyCode===229&&(O="onCompositionStart");O&&(mg&&n.locale!=="ko"&&(bo||O!=="onCompositionStart"?O==="onCompositionEnd"&&bo&&(P=pg()):(xr=p,Rd="value"in xr?xr.value:xr.textContent,bo=!0)),I=Yl(d,O),0<I.length&&(O=new Ap(O,e,null,n,p),h.push({event:O,listeners:I}),P?O.data=P:(P=gg(n),P!==null&&(O.data=P)))),(P=Yx?Jx(e,n):Zx(e,n))&&(d=Yl(d,"onBeforeInput"),0<d.length&&(p=new Ap("onBeforeInput","beforeinput",null,n,p),h.push({event:p,listeners:d}),p.data=P))}_g(h,t)})}function ys(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Yl(e,t){for(var n=t+"Capture",r=[];e!==null;){var o=e,i=o.stateNode;o.tag===5&&i!==null&&(o=i,i=us(e,n),i!=null&&r.unshift(ys(e,i,o)),i=us(e,t),i!=null&&r.push(ys(e,i,o))),e=e.return}return r}function Eo(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function Dp(e,t,n,r,o){for(var i=t._reactName,l=[];n!==null&&n!==r;){var c=n,u=c.alternate,d=c.stateNode;if(u!==null&&u===r)break;c.tag===5&&d!==null&&(c=d,o?(u=us(n,i),u!=null&&l.unshift(ys(n,u,c))):o||(u=us(n,i),u!=null&&l.push(ys(n,u,c)))),n=n.return}l.length!==0&&e.push({event:t,listeners:l})}var fS=/\r\n?/g,pS=/\u0000|\uFFFD/g;function Mp(e){return(typeof e=="string"?e:""+e).replace(fS,`
`).replace(pS,"")}function fl(e,t,n){if(t=Mp(t),Mp(e)!==t&&n)throw Error(R(425))}function Jl(){}var vu=null,wu=null;function Eu(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var ku=typeof setTimeout=="function"?setTimeout:void 0,mS=typeof clearTimeout=="function"?clearTimeout:void 0,zp=typeof Promise=="function"?Promise:void 0,hS=typeof queueMicrotask=="function"?queueMicrotask:typeof zp<"u"?function(e){return zp.resolve(null).then(e).catch(gS)}:ku;function gS(e){setTimeout(function(){throw e})}function yc(e,t){var n=t,r=0;do{var o=n.nextSibling;if(e.removeChild(n),o&&o.nodeType===8)if(n=o.data,n==="/$"){if(r===0){e.removeChild(o),ps(t);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=o}while(n);ps(t)}function Ir(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function Up(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="$"||n==="$!"||n==="$?"){if(t===0)return e;t--}else n==="/$"&&t++}e=e.previousSibling}return null}var xi=Math.random().toString(36).slice(2),Dn="__reactFiber$"+xi,xs="__reactProps$"+xi,er="__reactContainer$"+xi,Au="__reactEvents$"+xi,yS="__reactListeners$"+xi,xS="__reactHandles$"+xi;function Vr(e){var t=e[Dn];if(t)return t;for(var n=e.parentNode;n;){if(t=n[er]||n[Dn]){if(n=t.alternate,t.child!==null||n!==null&&n.child!==null)for(e=Up(e);e!==null;){if(n=e[Dn])return n;e=Up(e)}return t}e=n,n=e.parentNode}return null}function Ls(e){return e=e[Dn]||e[er],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function Ro(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(R(33))}function Ia(e){return e[xs]||null}var Tu=[],Lo=-1;function Dr(e){return{current:e}}function je(e){0>Lo||(e.current=Tu[Lo],Tu[Lo]=null,Lo--)}function Ne(e,t){Lo++,Tu[Lo]=e.current,e.current=t}var Rr={},vt=Dr(Rr),Mt=Dr(!1),qr=Rr;function ni(e,t){var n=e.type.contextTypes;if(!n)return Rr;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var o={},i;for(i in n)o[i]=t[i];return r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=o),o}function zt(e){return e=e.childContextTypes,e!=null}function Zl(){je(Mt),je(vt)}function Bp(e,t,n){if(vt.current!==Rr)throw Error(R(168));Ne(vt,t),Ne(Mt,n)}function bg(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var o in r)if(!(o in t))throw Error(R(108,nx(e)||"Unknown",o));return Be({},n,r)}function ql(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Rr,qr=vt.current,Ne(vt,e),Ne(Mt,Mt.current),!0}function Fp(e,t,n){var r=e.stateNode;if(!r)throw Error(R(169));n?(e=bg(e,t,qr),r.__reactInternalMemoizedMergedChildContext=e,je(Mt),je(vt),Ne(vt,e)):je(Mt),Ne(Mt,n)}var Gn=null,_a=!1,xc=!1;function Pg(e){Gn===null?Gn=[e]:Gn.push(e)}function SS(e){_a=!0,Pg(e)}function Mr(){if(!xc&&Gn!==null){xc=!0;var e=0,t=ke;try{var n=Gn;for(ke=1;e<n.length;e++){var r=n[e];do r=r(!0);while(r!==null)}Gn=null,_a=!1}catch(o){throw Gn!==null&&(Gn=Gn.slice(e+1)),ng(Nd,Mr),o}finally{ke=t,xc=!1}}return null}var Oo=[],Do=0,ea=null,ta=0,cn=[],un=0,eo=null,Qn=1,Xn="";function Hr(e,t){Oo[Do++]=ta,Oo[Do++]=ea,ea=e,ta=t}function jg(e,t,n){cn[un++]=Qn,cn[un++]=Xn,cn[un++]=eo,eo=e;var r=Qn;e=Xn;var o=32-_n(r)-1;r&=~(1<<o),n+=1;var i=32-_n(t)+o;if(30<i){var l=o-o%5;i=(r&(1<<l)-1).toString(32),r>>=l,o-=l,Qn=1<<32-_n(t)+o|n<<o|r,Xn=i+e}else Qn=1<<i|n<<o|r,Xn=e}function zd(e){e.return!==null&&(Hr(e,1),jg(e,1,0))}function Ud(e){for(;e===ea;)ea=Oo[--Do],Oo[Do]=null,ta=Oo[--Do],Oo[Do]=null;for(;e===eo;)eo=cn[--un],cn[un]=null,Xn=cn[--un],cn[un]=null,Qn=cn[--un],cn[un]=null}var en=null,Zt=null,Le=!1,Cn=null;function Rg(e,t){var n=dn(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,t=e.deletions,t===null?(e.deletions=[n],e.flags|=16):t.push(n)}function $p(e,t){switch(e.tag){case 5:var n=e.type;return t=t.nodeType!==1||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,en=e,Zt=Ir(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,en=e,Zt=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(n=eo!==null?{id:Qn,overflow:Xn}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},n=dn(18,null,null,0),n.stateNode=t,n.return=e,e.child=n,en=e,Zt=null,!0):!1;default:return!1}}function Cu(e){return(e.mode&1)!==0&&(e.flags&128)===0}function Iu(e){if(Le){var t=Zt;if(t){var n=t;if(!$p(e,t)){if(Cu(e))throw Error(R(418));t=Ir(n.nextSibling);var r=en;t&&$p(e,t)?Rg(r,n):(e.flags=e.flags&-4097|2,Le=!1,en=e)}}else{if(Cu(e))throw Error(R(418));e.flags=e.flags&-4097|2,Le=!1,en=e}}}function Kp(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;en=e}function pl(e){if(e!==en)return!1;if(!Le)return Kp(e),Le=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!Eu(e.type,e.memoizedProps)),t&&(t=Zt)){if(Cu(e))throw Lg(),Error(R(418));for(;t;)Rg(e,t),t=Ir(t.nextSibling)}if(Kp(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(R(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="/$"){if(t===0){Zt=Ir(e.nextSibling);break e}t--}else n!=="$"&&n!=="$!"&&n!=="$?"||t++}e=e.nextSibling}Zt=null}}else Zt=en?Ir(e.stateNode.nextSibling):null;return!0}function Lg(){for(var e=Zt;e;)e=Ir(e.nextSibling)}function ri(){Zt=en=null,Le=!1}function Bd(e){Cn===null?Cn=[e]:Cn.push(e)}var vS=rr.ReactCurrentBatchConfig;function ji(e,t,n){if(e=n.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(R(309));var r=n.stateNode}if(!r)throw Error(R(147,e));var o=r,i=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===i?t.ref:(t=function(l){var c=o.refs;l===null?delete c[i]:c[i]=l},t._stringRef=i,t)}if(typeof e!="string")throw Error(R(284));if(!n._owner)throw Error(R(290,e))}return e}function ml(e,t){throw e=Object.prototype.toString.call(t),Error(R(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function Hp(e){var t=e._init;return t(e._payload)}function Og(e){function t(f,m){if(e){var y=f.deletions;y===null?(f.deletions=[m],f.flags|=16):y.push(m)}}function n(f,m){if(!e)return null;for(;m!==null;)t(f,m),m=m.sibling;return null}function r(f,m){for(f=new Map;m!==null;)m.key!==null?f.set(m.key,m):f.set(m.index,m),m=m.sibling;return f}function o(f,m){return f=Pr(f,m),f.index=0,f.sibling=null,f}function i(f,m,y){return f.index=y,e?(y=f.alternate,y!==null?(y=y.index,y<m?(f.flags|=2,m):y):(f.flags|=2,m)):(f.flags|=1048576,m)}function l(f){return e&&f.alternate===null&&(f.flags|=2),f}function c(f,m,y,v){return m===null||m.tag!==6?(m=Tc(y,f.mode,v),m.return=f,m):(m=o(m,y),m.return=f,m)}function u(f,m,y,v){var _=y.type;return _===No?p(f,m,y.props.children,v,y.key):m!==null&&(m.elementType===_||typeof _=="object"&&_!==null&&_.$$typeof===fr&&Hp(_)===m.type)?(v=o(m,y.props),v.ref=ji(f,m,y),v.return=f,v):(v=Bl(y.type,y.key,y.props,null,f.mode,v),v.ref=ji(f,m,y),v.return=f,v)}function d(f,m,y,v){return m===null||m.tag!==4||m.stateNode.containerInfo!==y.containerInfo||m.stateNode.implementation!==y.implementation?(m=Cc(y,f.mode,v),m.return=f,m):(m=o(m,y.children||[]),m.return=f,m)}function p(f,m,y,v,_){return m===null||m.tag!==7?(m=Zr(y,f.mode,v,_),m.return=f,m):(m=o(m,y),m.return=f,m)}function h(f,m,y){if(typeof m=="string"&&m!==""||typeof m=="number")return m=Tc(""+m,f.mode,y),m.return=f,m;if(typeof m=="object"&&m!==null){switch(m.$$typeof){case rl:return y=Bl(m.type,m.key,m.props,null,f.mode,y),y.ref=ji(f,null,m),y.return=f,y;case _o:return m=Cc(m,f.mode,y),m.return=f,m;case fr:var v=m._init;return h(f,v(m._payload),y)}if(Fi(m)||Ii(m))return m=Zr(m,f.mode,y,null),m.return=f,m;ml(f,m)}return null}function g(f,m,y,v){var _=m!==null?m.key:null;if(typeof y=="string"&&y!==""||typeof y=="number")return _!==null?null:c(f,m,""+y,v);if(typeof y=="object"&&y!==null){switch(y.$$typeof){case rl:return y.key===_?u(f,m,y,v):null;case _o:return y.key===_?d(f,m,y,v):null;case fr:return _=y._init,g(f,m,_(y._payload),v)}if(Fi(y)||Ii(y))return _!==null?null:p(f,m,y,v,null);ml(f,y)}return null}function x(f,m,y,v,_){if(typeof v=="string"&&v!==""||typeof v=="number")return f=f.get(y)||null,c(m,f,""+v,_);if(typeof v=="object"&&v!==null){switch(v.$$typeof){case rl:return f=f.get(v.key===null?y:v.key)||null,u(m,f,v,_);case _o:return f=f.get(v.key===null?y:v.key)||null,d(m,f,v,_);case fr:var I=v._init;return x(f,m,y,I(v._payload),_)}if(Fi(v)||Ii(v))return f=f.get(y)||null,p(m,f,v,_,null);ml(m,v)}return null}function E(f,m,y,v){for(var _=null,I=null,P=m,O=m=0,V=null;P!==null&&O<y.length;O++){P.index>O?(V=P,P=null):V=P.sibling;var F=g(f,P,y[O],v);if(F===null){P===null&&(P=V);break}e&&P&&F.alternate===null&&t(f,P),m=i(F,m,O),I===null?_=F:I.sibling=F,I=F,P=V}if(O===y.length)return n(f,P),Le&&Hr(f,O),_;if(P===null){for(;O<y.length;O++)P=h(f,y[O],v),P!==null&&(m=i(P,m,O),I===null?_=P:I.sibling=P,I=P);return Le&&Hr(f,O),_}for(P=r(f,P);O<y.length;O++)V=x(P,f,O,y[O],v),V!==null&&(e&&V.alternate!==null&&P.delete(V.key===null?O:V.key),m=i(V,m,O),I===null?_=V:I.sibling=V,I=V);return e&&P.forEach(function(xe){return t(f,xe)}),Le&&Hr(f,O),_}function w(f,m,y,v){var _=Ii(y);if(typeof _!="function")throw Error(R(150));if(y=_.call(y),y==null)throw Error(R(151));for(var I=_=null,P=m,O=m=0,V=null,F=y.next();P!==null&&!F.done;O++,F=y.next()){P.index>O?(V=P,P=null):V=P.sibling;var xe=g(f,P,F.value,v);if(xe===null){P===null&&(P=V);break}e&&P&&xe.alternate===null&&t(f,P),m=i(xe,m,O),I===null?_=xe:I.sibling=xe,I=xe,P=V}if(F.done)return n(f,P),Le&&Hr(f,O),_;if(P===null){for(;!F.done;O++,F=y.next())F=h(f,F.value,v),F!==null&&(m=i(F,m,O),I===null?_=F:I.sibling=F,I=F);return Le&&Hr(f,O),_}for(P=r(f,P);!F.done;O++,F=y.next())F=x(P,f,O,F.value,v),F!==null&&(e&&F.alternate!==null&&P.delete(F.key===null?O:F.key),m=i(F,m,O),I===null?_=F:I.sibling=F,I=F);return e&&P.forEach(function(Q){return t(f,Q)}),Le&&Hr(f,O),_}function A(f,m,y,v){if(typeof y=="object"&&y!==null&&y.type===No&&y.key===null&&(y=y.props.children),typeof y=="object"&&y!==null){switch(y.$$typeof){case rl:e:{for(var _=y.key,I=m;I!==null;){if(I.key===_){if(_=y.type,_===No){if(I.tag===7){n(f,I.sibling),m=o(I,y.props.children),m.return=f,f=m;break e}}else if(I.elementType===_||typeof _=="object"&&_!==null&&_.$$typeof===fr&&Hp(_)===I.type){n(f,I.sibling),m=o(I,y.props),m.ref=ji(f,I,y),m.return=f,f=m;break e}n(f,I);break}else t(f,I);I=I.sibling}y.type===No?(m=Zr(y.props.children,f.mode,v,y.key),m.return=f,f=m):(v=Bl(y.type,y.key,y.props,null,f.mode,v),v.ref=ji(f,m,y),v.return=f,f=v)}return l(f);case _o:e:{for(I=y.key;m!==null;){if(m.key===I)if(m.tag===4&&m.stateNode.containerInfo===y.containerInfo&&m.stateNode.implementation===y.implementation){n(f,m.sibling),m=o(m,y.children||[]),m.return=f,f=m;break e}else{n(f,m);break}else t(f,m);m=m.sibling}m=Cc(y,f.mode,v),m.return=f,f=m}return l(f);case fr:return I=y._init,A(f,m,I(y._payload),v)}if(Fi(y))return E(f,m,y,v);if(Ii(y))return w(f,m,y,v);ml(f,y)}return typeof y=="string"&&y!==""||typeof y=="number"?(y=""+y,m!==null&&m.tag===6?(n(f,m.sibling),m=o(m,y),m.return=f,f=m):(n(f,m),m=Tc(y,f.mode,v),m.return=f,f=m),l(f)):n(f,m)}return A}var oi=Og(!0),Dg=Og(!1),na=Dr(null),ra=null,Mo=null,Fd=null;function $d(){Fd=Mo=ra=null}function Kd(e){var t=na.current;je(na),e._currentValue=t}function _u(e,t,n){for(;e!==null;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,r!==null&&(r.childLanes|=t)):r!==null&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function Wo(e,t){ra=e,Fd=Mo=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(Dt=!0),e.firstContext=null)}function gn(e){var t=e._currentValue;if(Fd!==e)if(e={context:e,memoizedValue:t,next:null},Mo===null){if(ra===null)throw Error(R(308));Mo=e,ra.dependencies={lanes:0,firstContext:e}}else Mo=Mo.next=e;return t}var Gr=null;function Hd(e){Gr===null?Gr=[e]:Gr.push(e)}function Mg(e,t,n,r){var o=t.interleaved;return o===null?(n.next=n,Hd(t)):(n.next=o.next,o.next=n),t.interleaved=n,tr(e,r)}function tr(e,t){e.lanes|=t;var n=e.alternate;for(n!==null&&(n.lanes|=t),n=e,e=e.return;e!==null;)e.childLanes|=t,n=e.alternate,n!==null&&(n.childLanes|=t),n=e,e=e.return;return n.tag===3?n.stateNode:null}var pr=!1;function Wd(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function zg(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Jn(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function _r(e,t,n){var r=e.updateQueue;if(r===null)return null;if(r=r.shared,ye&2){var o=r.pending;return o===null?t.next=t:(t.next=o.next,o.next=t),r.pending=t,tr(e,n)}return o=r.interleaved,o===null?(t.next=t,Hd(r)):(t.next=o.next,o.next=t),r.interleaved=t,tr(e,n)}function Ll(e,t,n){if(t=t.updateQueue,t!==null&&(t=t.shared,(n&4194240)!==0)){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,bd(e,n)}}function Wp(e,t){var n=e.updateQueue,r=e.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var o=null,i=null;if(n=n.firstBaseUpdate,n!==null){do{var l={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};i===null?o=i=l:i=i.next=l,n=n.next}while(n!==null);i===null?o=i=t:i=i.next=t}else o=i=t;n={baseState:r.baseState,firstBaseUpdate:o,lastBaseUpdate:i,shared:r.shared,effects:r.effects},e.updateQueue=n;return}e=n.lastBaseUpdate,e===null?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function oa(e,t,n,r){var o=e.updateQueue;pr=!1;var i=o.firstBaseUpdate,l=o.lastBaseUpdate,c=o.shared.pending;if(c!==null){o.shared.pending=null;var u=c,d=u.next;u.next=null,l===null?i=d:l.next=d,l=u;var p=e.alternate;p!==null&&(p=p.updateQueue,c=p.lastBaseUpdate,c!==l&&(c===null?p.firstBaseUpdate=d:c.next=d,p.lastBaseUpdate=u))}if(i!==null){var h=o.baseState;l=0,p=d=u=null,c=i;do{var g=c.lane,x=c.eventTime;if((r&g)===g){p!==null&&(p=p.next={eventTime:x,lane:0,tag:c.tag,payload:c.payload,callback:c.callback,next:null});e:{var E=e,w=c;switch(g=t,x=n,w.tag){case 1:if(E=w.payload,typeof E=="function"){h=E.call(x,h,g);break e}h=E;break e;case 3:E.flags=E.flags&-65537|128;case 0:if(E=w.payload,g=typeof E=="function"?E.call(x,h,g):E,g==null)break e;h=Be({},h,g);break e;case 2:pr=!0}}c.callback!==null&&c.lane!==0&&(e.flags|=64,g=o.effects,g===null?o.effects=[c]:g.push(c))}else x={eventTime:x,lane:g,tag:c.tag,payload:c.payload,callback:c.callback,next:null},p===null?(d=p=x,u=h):p=p.next=x,l|=g;if(c=c.next,c===null){if(c=o.shared.pending,c===null)break;g=c,c=g.next,g.next=null,o.lastBaseUpdate=g,o.shared.pending=null}}while(!0);if(p===null&&(u=h),o.baseState=u,o.firstBaseUpdate=d,o.lastBaseUpdate=p,t=o.shared.interleaved,t!==null){o=t;do l|=o.lane,o=o.next;while(o!==t)}else i===null&&(o.shared.lanes=0);no|=l,e.lanes=l,e.memoizedState=h}}function Vp(e,t,n){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var r=e[t],o=r.callback;if(o!==null){if(r.callback=null,r=n,typeof o!="function")throw Error(R(191,o));o.call(r)}}}var Os={},Bn=Dr(Os),Ss=Dr(Os),vs=Dr(Os);function Qr(e){if(e===Os)throw Error(R(174));return e}function Vd(e,t){switch(Ne(vs,t),Ne(Ss,e),Ne(Bn,Os),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:au(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=au(t,e)}je(Bn),Ne(Bn,t)}function ii(){je(Bn),je(Ss),je(vs)}function Ug(e){Qr(vs.current);var t=Qr(Bn.current),n=au(t,e.type);t!==n&&(Ne(Ss,e),Ne(Bn,n))}function Gd(e){Ss.current===e&&(je(Bn),je(Ss))}var ze=Dr(0);function ia(e){for(var t=e;t!==null;){if(t.tag===13){var n=t.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var Sc=[];function Qd(){for(var e=0;e<Sc.length;e++)Sc[e]._workInProgressVersionPrimary=null;Sc.length=0}var Ol=rr.ReactCurrentDispatcher,vc=rr.ReactCurrentBatchConfig,to=0,Ue=null,tt=null,ot=null,sa=!1,Yi=!1,ws=0,wS=0;function ht(){throw Error(R(321))}function Xd(e,t){if(t===null)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!bn(e[n],t[n]))return!1;return!0}function Yd(e,t,n,r,o,i){if(to=i,Ue=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,Ol.current=e===null||e.memoizedState===null?TS:CS,e=n(r,o),Yi){i=0;do{if(Yi=!1,ws=0,25<=i)throw Error(R(301));i+=1,ot=tt=null,t.updateQueue=null,Ol.current=IS,e=n(r,o)}while(Yi)}if(Ol.current=la,t=tt!==null&&tt.next!==null,to=0,ot=tt=Ue=null,sa=!1,t)throw Error(R(300));return e}function Jd(){var e=ws!==0;return ws=0,e}function Ln(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return ot===null?Ue.memoizedState=ot=e:ot=ot.next=e,ot}function yn(){if(tt===null){var e=Ue.alternate;e=e!==null?e.memoizedState:null}else e=tt.next;var t=ot===null?Ue.memoizedState:ot.next;if(t!==null)ot=t,tt=e;else{if(e===null)throw Error(R(310));tt=e,e={memoizedState:tt.memoizedState,baseState:tt.baseState,baseQueue:tt.baseQueue,queue:tt.queue,next:null},ot===null?Ue.memoizedState=ot=e:ot=ot.next=e}return ot}function Es(e,t){return typeof t=="function"?t(e):t}function wc(e){var t=yn(),n=t.queue;if(n===null)throw Error(R(311));n.lastRenderedReducer=e;var r=tt,o=r.baseQueue,i=n.pending;if(i!==null){if(o!==null){var l=o.next;o.next=i.next,i.next=l}r.baseQueue=o=i,n.pending=null}if(o!==null){i=o.next,r=r.baseState;var c=l=null,u=null,d=i;do{var p=d.lane;if((to&p)===p)u!==null&&(u=u.next={lane:0,action:d.action,hasEagerState:d.hasEagerState,eagerState:d.eagerState,next:null}),r=d.hasEagerState?d.eagerState:e(r,d.action);else{var h={lane:p,action:d.action,hasEagerState:d.hasEagerState,eagerState:d.eagerState,next:null};u===null?(c=u=h,l=r):u=u.next=h,Ue.lanes|=p,no|=p}d=d.next}while(d!==null&&d!==i);u===null?l=r:u.next=c,bn(r,t.memoizedState)||(Dt=!0),t.memoizedState=r,t.baseState=l,t.baseQueue=u,n.lastRenderedState=r}if(e=n.interleaved,e!==null){o=e;do i=o.lane,Ue.lanes|=i,no|=i,o=o.next;while(o!==e)}else o===null&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function Ec(e){var t=yn(),n=t.queue;if(n===null)throw Error(R(311));n.lastRenderedReducer=e;var r=n.dispatch,o=n.pending,i=t.memoizedState;if(o!==null){n.pending=null;var l=o=o.next;do i=e(i,l.action),l=l.next;while(l!==o);bn(i,t.memoizedState)||(Dt=!0),t.memoizedState=i,t.baseQueue===null&&(t.baseState=i),n.lastRenderedState=i}return[i,r]}function Bg(){}function Fg(e,t){var n=Ue,r=yn(),o=t(),i=!bn(r.memoizedState,o);if(i&&(r.memoizedState=o,Dt=!0),r=r.queue,Zd(Hg.bind(null,n,r,e),[e]),r.getSnapshot!==t||i||ot!==null&&ot.memoizedState.tag&1){if(n.flags|=2048,ks(9,Kg.bind(null,n,r,o,t),void 0,null),it===null)throw Error(R(349));to&30||$g(n,t,o)}return o}function $g(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},t=Ue.updateQueue,t===null?(t={lastEffect:null,stores:null},Ue.updateQueue=t,t.stores=[e]):(n=t.stores,n===null?t.stores=[e]:n.push(e))}function Kg(e,t,n,r){t.value=n,t.getSnapshot=r,Wg(t)&&Vg(e)}function Hg(e,t,n){return n(function(){Wg(t)&&Vg(e)})}function Wg(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!bn(e,n)}catch{return!0}}function Vg(e){var t=tr(e,1);t!==null&&Nn(t,e,1,-1)}function Gp(e){var t=Ln();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Es,lastRenderedState:e},t.queue=e,e=e.dispatch=AS.bind(null,Ue,e),[t.memoizedState,e]}function ks(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},t=Ue.updateQueue,t===null?(t={lastEffect:null,stores:null},Ue.updateQueue=t,t.lastEffect=e.next=e):(n=t.lastEffect,n===null?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e)),e}function Gg(){return yn().memoizedState}function Dl(e,t,n,r){var o=Ln();Ue.flags|=e,o.memoizedState=ks(1|t,n,void 0,r===void 0?null:r)}function Na(e,t,n,r){var o=yn();r=r===void 0?null:r;var i=void 0;if(tt!==null){var l=tt.memoizedState;if(i=l.destroy,r!==null&&Xd(r,l.deps)){o.memoizedState=ks(t,n,i,r);return}}Ue.flags|=e,o.memoizedState=ks(1|t,n,i,r)}function Qp(e,t){return Dl(8390656,8,e,t)}function Zd(e,t){return Na(2048,8,e,t)}function Qg(e,t){return Na(4,2,e,t)}function Xg(e,t){return Na(4,4,e,t)}function Yg(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function Jg(e,t,n){return n=n!=null?n.concat([e]):null,Na(4,4,Yg.bind(null,t,e),n)}function qd(){}function Zg(e,t){var n=yn();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&Xd(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function qg(e,t){var n=yn();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&Xd(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function e0(e,t,n){return to&21?(bn(n,t)||(n=ig(),Ue.lanes|=n,no|=n,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,Dt=!0),e.memoizedState=n)}function ES(e,t){var n=ke;ke=n!==0&&4>n?n:4,e(!0);var r=vc.transition;vc.transition={};try{e(!1),t()}finally{ke=n,vc.transition=r}}function t0(){return yn().memoizedState}function kS(e,t,n){var r=br(e);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},n0(e))r0(t,n);else if(n=Mg(e,t,n,r),n!==null){var o=_t();Nn(n,e,r,o),o0(n,t,r)}}function AS(e,t,n){var r=br(e),o={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(n0(e))r0(t,o);else{var i=e.alternate;if(e.lanes===0&&(i===null||i.lanes===0)&&(i=t.lastRenderedReducer,i!==null))try{var l=t.lastRenderedState,c=i(l,n);if(o.hasEagerState=!0,o.eagerState=c,bn(c,l)){var u=t.interleaved;u===null?(o.next=o,Hd(t)):(o.next=u.next,u.next=o),t.interleaved=o;return}}catch{}finally{}n=Mg(e,t,o,r),n!==null&&(o=_t(),Nn(n,e,r,o),o0(n,t,r))}}function n0(e){var t=e.alternate;return e===Ue||t!==null&&t===Ue}function r0(e,t){Yi=sa=!0;var n=e.pending;n===null?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function o0(e,t,n){if(n&4194240){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,bd(e,n)}}var la={readContext:gn,useCallback:ht,useContext:ht,useEffect:ht,useImperativeHandle:ht,useInsertionEffect:ht,useLayoutEffect:ht,useMemo:ht,useReducer:ht,useRef:ht,useState:ht,useDebugValue:ht,useDeferredValue:ht,useTransition:ht,useMutableSource:ht,useSyncExternalStore:ht,useId:ht,unstable_isNewReconciler:!1},TS={readContext:gn,useCallback:function(e,t){return Ln().memoizedState=[e,t===void 0?null:t],e},useContext:gn,useEffect:Qp,useImperativeHandle:function(e,t,n){return n=n!=null?n.concat([e]):null,Dl(4194308,4,Yg.bind(null,t,e),n)},useLayoutEffect:function(e,t){return Dl(4194308,4,e,t)},useInsertionEffect:function(e,t){return Dl(4,2,e,t)},useMemo:function(e,t){var n=Ln();return t=t===void 0?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=Ln();return t=n!==void 0?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=kS.bind(null,Ue,e),[r.memoizedState,e]},useRef:function(e){var t=Ln();return e={current:e},t.memoizedState=e},useState:Gp,useDebugValue:qd,useDeferredValue:function(e){return Ln().memoizedState=e},useTransition:function(){var e=Gp(!1),t=e[0];return e=ES.bind(null,e[1]),Ln().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=Ue,o=Ln();if(Le){if(n===void 0)throw Error(R(407));n=n()}else{if(n=t(),it===null)throw Error(R(349));to&30||$g(r,t,n)}o.memoizedState=n;var i={value:n,getSnapshot:t};return o.queue=i,Qp(Hg.bind(null,r,i,e),[e]),r.flags|=2048,ks(9,Kg.bind(null,r,i,n,t),void 0,null),n},useId:function(){var e=Ln(),t=it.identifierPrefix;if(Le){var n=Xn,r=Qn;n=(r&~(1<<32-_n(r)-1)).toString(32)+n,t=":"+t+"R"+n,n=ws++,0<n&&(t+="H"+n.toString(32)),t+=":"}else n=wS++,t=":"+t+"r"+n.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},CS={readContext:gn,useCallback:Zg,useContext:gn,useEffect:Zd,useImperativeHandle:Jg,useInsertionEffect:Qg,useLayoutEffect:Xg,useMemo:qg,useReducer:wc,useRef:Gg,useState:function(){return wc(Es)},useDebugValue:qd,useDeferredValue:function(e){var t=yn();return e0(t,tt.memoizedState,e)},useTransition:function(){var e=wc(Es)[0],t=yn().memoizedState;return[e,t]},useMutableSource:Bg,useSyncExternalStore:Fg,useId:t0,unstable_isNewReconciler:!1},IS={readContext:gn,useCallback:Zg,useContext:gn,useEffect:Zd,useImperativeHandle:Jg,useInsertionEffect:Qg,useLayoutEffect:Xg,useMemo:qg,useReducer:Ec,useRef:Gg,useState:function(){return Ec(Es)},useDebugValue:qd,useDeferredValue:function(e){var t=yn();return tt===null?t.memoizedState=e:e0(t,tt.memoizedState,e)},useTransition:function(){var e=Ec(Es)[0],t=yn().memoizedState;return[e,t]},useMutableSource:Bg,useSyncExternalStore:Fg,useId:t0,unstable_isNewReconciler:!1};function kn(e,t){if(e&&e.defaultProps){t=Be({},t),e=e.defaultProps;for(var n in e)t[n]===void 0&&(t[n]=e[n]);return t}return t}function Nu(e,t,n,r){t=e.memoizedState,n=n(r,t),n=n==null?t:Be({},t,n),e.memoizedState=n,e.lanes===0&&(e.updateQueue.baseState=n)}var ba={isMounted:function(e){return(e=e._reactInternals)?ao(e)===e:!1},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=_t(),o=br(e),i=Jn(r,o);i.payload=t,n!=null&&(i.callback=n),t=_r(e,i,o),t!==null&&(Nn(t,e,o,r),Ll(t,e,o))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=_t(),o=br(e),i=Jn(r,o);i.tag=1,i.payload=t,n!=null&&(i.callback=n),t=_r(e,i,o),t!==null&&(Nn(t,e,o,r),Ll(t,e,o))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=_t(),r=br(e),o=Jn(n,r);o.tag=2,t!=null&&(o.callback=t),t=_r(e,o,r),t!==null&&(Nn(t,e,r,n),Ll(t,e,r))}};function Xp(e,t,n,r,o,i,l){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(r,i,l):t.prototype&&t.prototype.isPureReactComponent?!hs(n,r)||!hs(o,i):!0}function i0(e,t,n){var r=!1,o=Rr,i=t.contextType;return typeof i=="object"&&i!==null?i=gn(i):(o=zt(t)?qr:vt.current,r=t.contextTypes,i=(r=r!=null)?ni(e,o):Rr),t=new t(n,i),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=ba,e.stateNode=t,t._reactInternals=e,r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=o,e.__reactInternalMemoizedMaskedChildContext=i),t}function Yp(e,t,n,r){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(n,r),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&ba.enqueueReplaceState(t,t.state,null)}function bu(e,t,n,r){var o=e.stateNode;o.props=n,o.state=e.memoizedState,o.refs={},Wd(e);var i=t.contextType;typeof i=="object"&&i!==null?o.context=gn(i):(i=zt(t)?qr:vt.current,o.context=ni(e,i)),o.state=e.memoizedState,i=t.getDerivedStateFromProps,typeof i=="function"&&(Nu(e,t,i,n),o.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof o.getSnapshotBeforeUpdate=="function"||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(t=o.state,typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount(),t!==o.state&&ba.enqueueReplaceState(o,o.state,null),oa(e,n,o,r),o.state=e.memoizedState),typeof o.componentDidMount=="function"&&(e.flags|=4194308)}function si(e,t){try{var n="",r=t;do n+=tx(r),r=r.return;while(r);var o=n}catch(i){o=`
Error generating stack: `+i.message+`
`+i.stack}return{value:e,source:t,stack:o,digest:null}}function kc(e,t,n){return{value:e,source:null,stack:n??null,digest:t??null}}function Pu(e,t){try{console.error(t.value)}catch(n){setTimeout(function(){throw n})}}var _S=typeof WeakMap=="function"?WeakMap:Map;function s0(e,t,n){n=Jn(-1,n),n.tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){ca||(ca=!0,Fu=r),Pu(e,t)},n}function l0(e,t,n){n=Jn(-1,n),n.tag=3;var r=e.type.getDerivedStateFromError;if(typeof r=="function"){var o=t.value;n.payload=function(){return r(o)},n.callback=function(){Pu(e,t)}}var i=e.stateNode;return i!==null&&typeof i.componentDidCatch=="function"&&(n.callback=function(){Pu(e,t),typeof r!="function"&&(Nr===null?Nr=new Set([this]):Nr.add(this));var l=t.stack;this.componentDidCatch(t.value,{componentStack:l!==null?l:""})}),n}function Jp(e,t,n){var r=e.pingCache;if(r===null){r=e.pingCache=new _S;var o=new Set;r.set(t,o)}else o=r.get(t),o===void 0&&(o=new Set,r.set(t,o));o.has(n)||(o.add(n),e=$S.bind(null,e,t,n),t.then(e,e))}function Zp(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function qp(e,t,n,r,o){return e.mode&1?(e.flags|=65536,e.lanes=o,e):(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(t=Jn(-1,1),t.tag=2,_r(n,t,1))),n.lanes|=1),e)}var NS=rr.ReactCurrentOwner,Dt=!1;function It(e,t,n,r){t.child=e===null?Dg(t,null,n,r):oi(t,e.child,n,r)}function em(e,t,n,r,o){n=n.render;var i=t.ref;return Wo(t,o),r=Yd(e,t,n,r,i,o),n=Jd(),e!==null&&!Dt?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~o,nr(e,t,o)):(Le&&n&&zd(t),t.flags|=1,It(e,t,r,o),t.child)}function tm(e,t,n,r,o){if(e===null){var i=n.type;return typeof i=="function"&&!af(i)&&i.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(t.tag=15,t.type=i,a0(e,t,i,r,o)):(e=Bl(n.type,null,r,t,t.mode,o),e.ref=t.ref,e.return=t,t.child=e)}if(i=e.child,!(e.lanes&o)){var l=i.memoizedProps;if(n=n.compare,n=n!==null?n:hs,n(l,r)&&e.ref===t.ref)return nr(e,t,o)}return t.flags|=1,e=Pr(i,r),e.ref=t.ref,e.return=t,t.child=e}function a0(e,t,n,r,o){if(e!==null){var i=e.memoizedProps;if(hs(i,r)&&e.ref===t.ref)if(Dt=!1,t.pendingProps=r=i,(e.lanes&o)!==0)e.flags&131072&&(Dt=!0);else return t.lanes=e.lanes,nr(e,t,o)}return ju(e,t,n,r,o)}function c0(e,t,n){var r=t.pendingProps,o=r.children,i=e!==null?e.memoizedState:null;if(r.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},Ne(Uo,Jt),Jt|=n;else{if(!(n&1073741824))return e=i!==null?i.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,Ne(Uo,Jt),Jt|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=i!==null?i.baseLanes:n,Ne(Uo,Jt),Jt|=r}else i!==null?(r=i.baseLanes|n,t.memoizedState=null):r=n,Ne(Uo,Jt),Jt|=r;return It(e,t,o,n),t.child}function u0(e,t){var n=t.ref;(e===null&&n!==null||e!==null&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function ju(e,t,n,r,o){var i=zt(n)?qr:vt.current;return i=ni(t,i),Wo(t,o),n=Yd(e,t,n,r,i,o),r=Jd(),e!==null&&!Dt?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~o,nr(e,t,o)):(Le&&r&&zd(t),t.flags|=1,It(e,t,n,o),t.child)}function nm(e,t,n,r,o){if(zt(n)){var i=!0;ql(t)}else i=!1;if(Wo(t,o),t.stateNode===null)Ml(e,t),i0(t,n,r),bu(t,n,r,o),r=!0;else if(e===null){var l=t.stateNode,c=t.memoizedProps;l.props=c;var u=l.context,d=n.contextType;typeof d=="object"&&d!==null?d=gn(d):(d=zt(n)?qr:vt.current,d=ni(t,d));var p=n.getDerivedStateFromProps,h=typeof p=="function"||typeof l.getSnapshotBeforeUpdate=="function";h||typeof l.UNSAFE_componentWillReceiveProps!="function"&&typeof l.componentWillReceiveProps!="function"||(c!==r||u!==d)&&Yp(t,l,r,d),pr=!1;var g=t.memoizedState;l.state=g,oa(t,r,l,o),u=t.memoizedState,c!==r||g!==u||Mt.current||pr?(typeof p=="function"&&(Nu(t,n,p,r),u=t.memoizedState),(c=pr||Xp(t,n,c,r,g,u,d))?(h||typeof l.UNSAFE_componentWillMount!="function"&&typeof l.componentWillMount!="function"||(typeof l.componentWillMount=="function"&&l.componentWillMount(),typeof l.UNSAFE_componentWillMount=="function"&&l.UNSAFE_componentWillMount()),typeof l.componentDidMount=="function"&&(t.flags|=4194308)):(typeof l.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=u),l.props=r,l.state=u,l.context=d,r=c):(typeof l.componentDidMount=="function"&&(t.flags|=4194308),r=!1)}else{l=t.stateNode,zg(e,t),c=t.memoizedProps,d=t.type===t.elementType?c:kn(t.type,c),l.props=d,h=t.pendingProps,g=l.context,u=n.contextType,typeof u=="object"&&u!==null?u=gn(u):(u=zt(n)?qr:vt.current,u=ni(t,u));var x=n.getDerivedStateFromProps;(p=typeof x=="function"||typeof l.getSnapshotBeforeUpdate=="function")||typeof l.UNSAFE_componentWillReceiveProps!="function"&&typeof l.componentWillReceiveProps!="function"||(c!==h||g!==u)&&Yp(t,l,r,u),pr=!1,g=t.memoizedState,l.state=g,oa(t,r,l,o);var E=t.memoizedState;c!==h||g!==E||Mt.current||pr?(typeof x=="function"&&(Nu(t,n,x,r),E=t.memoizedState),(d=pr||Xp(t,n,d,r,g,E,u)||!1)?(p||typeof l.UNSAFE_componentWillUpdate!="function"&&typeof l.componentWillUpdate!="function"||(typeof l.componentWillUpdate=="function"&&l.componentWillUpdate(r,E,u),typeof l.UNSAFE_componentWillUpdate=="function"&&l.UNSAFE_componentWillUpdate(r,E,u)),typeof l.componentDidUpdate=="function"&&(t.flags|=4),typeof l.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof l.componentDidUpdate!="function"||c===e.memoizedProps&&g===e.memoizedState||(t.flags|=4),typeof l.getSnapshotBeforeUpdate!="function"||c===e.memoizedProps&&g===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=E),l.props=r,l.state=E,l.context=u,r=d):(typeof l.componentDidUpdate!="function"||c===e.memoizedProps&&g===e.memoizedState||(t.flags|=4),typeof l.getSnapshotBeforeUpdate!="function"||c===e.memoizedProps&&g===e.memoizedState||(t.flags|=1024),r=!1)}return Ru(e,t,n,r,i,o)}function Ru(e,t,n,r,o,i){u0(e,t);var l=(t.flags&128)!==0;if(!r&&!l)return o&&Fp(t,n,!1),nr(e,t,i);r=t.stateNode,NS.current=t;var c=l&&typeof n.getDerivedStateFromError!="function"?null:r.render();return t.flags|=1,e!==null&&l?(t.child=oi(t,e.child,null,i),t.child=oi(t,null,c,i)):It(e,t,c,i),t.memoizedState=r.state,o&&Fp(t,n,!0),t.child}function d0(e){var t=e.stateNode;t.pendingContext?Bp(e,t.pendingContext,t.pendingContext!==t.context):t.context&&Bp(e,t.context,!1),Vd(e,t.containerInfo)}function rm(e,t,n,r,o){return ri(),Bd(o),t.flags|=256,It(e,t,n,r),t.child}var Lu={dehydrated:null,treeContext:null,retryLane:0};function Ou(e){return{baseLanes:e,cachePool:null,transitions:null}}function f0(e,t,n){var r=t.pendingProps,o=ze.current,i=!1,l=(t.flags&128)!==0,c;if((c=l)||(c=e!==null&&e.memoizedState===null?!1:(o&2)!==0),c?(i=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(o|=1),Ne(ze,o&1),e===null)return Iu(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(l=r.children,e=r.fallback,i?(r=t.mode,i=t.child,l={mode:"hidden",children:l},!(r&1)&&i!==null?(i.childLanes=0,i.pendingProps=l):i=Ra(l,r,0,null),e=Zr(e,r,n,null),i.return=t,e.return=t,i.sibling=e,t.child=i,t.child.memoizedState=Ou(n),t.memoizedState=Lu,e):ef(t,l));if(o=e.memoizedState,o!==null&&(c=o.dehydrated,c!==null))return bS(e,t,l,r,c,o,n);if(i){i=r.fallback,l=t.mode,o=e.child,c=o.sibling;var u={mode:"hidden",children:r.children};return!(l&1)&&t.child!==o?(r=t.child,r.childLanes=0,r.pendingProps=u,t.deletions=null):(r=Pr(o,u),r.subtreeFlags=o.subtreeFlags&14680064),c!==null?i=Pr(c,i):(i=Zr(i,l,n,null),i.flags|=2),i.return=t,r.return=t,r.sibling=i,t.child=r,r=i,i=t.child,l=e.child.memoizedState,l=l===null?Ou(n):{baseLanes:l.baseLanes|n,cachePool:null,transitions:l.transitions},i.memoizedState=l,i.childLanes=e.childLanes&~n,t.memoizedState=Lu,r}return i=e.child,e=i.sibling,r=Pr(i,{mode:"visible",children:r.children}),!(t.mode&1)&&(r.lanes=n),r.return=t,r.sibling=null,e!==null&&(n=t.deletions,n===null?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=r,t.memoizedState=null,r}function ef(e,t){return t=Ra({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function hl(e,t,n,r){return r!==null&&Bd(r),oi(t,e.child,null,n),e=ef(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function bS(e,t,n,r,o,i,l){if(n)return t.flags&256?(t.flags&=-257,r=kc(Error(R(422))),hl(e,t,l,r)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(i=r.fallback,o=t.mode,r=Ra({mode:"visible",children:r.children},o,0,null),i=Zr(i,o,l,null),i.flags|=2,r.return=t,i.return=t,r.sibling=i,t.child=r,t.mode&1&&oi(t,e.child,null,l),t.child.memoizedState=Ou(l),t.memoizedState=Lu,i);if(!(t.mode&1))return hl(e,t,l,null);if(o.data==="$!"){if(r=o.nextSibling&&o.nextSibling.dataset,r)var c=r.dgst;return r=c,i=Error(R(419)),r=kc(i,r,void 0),hl(e,t,l,r)}if(c=(l&e.childLanes)!==0,Dt||c){if(r=it,r!==null){switch(l&-l){case 4:o=2;break;case 16:o=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:o=32;break;case 536870912:o=268435456;break;default:o=0}o=o&(r.suspendedLanes|l)?0:o,o!==0&&o!==i.retryLane&&(i.retryLane=o,tr(e,o),Nn(r,e,o,-1))}return lf(),r=kc(Error(R(421))),hl(e,t,l,r)}return o.data==="$?"?(t.flags|=128,t.child=e.child,t=KS.bind(null,e),o._reactRetry=t,null):(e=i.treeContext,Zt=Ir(o.nextSibling),en=t,Le=!0,Cn=null,e!==null&&(cn[un++]=Qn,cn[un++]=Xn,cn[un++]=eo,Qn=e.id,Xn=e.overflow,eo=t),t=ef(t,r.children),t.flags|=4096,t)}function om(e,t,n){e.lanes|=t;var r=e.alternate;r!==null&&(r.lanes|=t),_u(e.return,t,n)}function Ac(e,t,n,r,o){var i=e.memoizedState;i===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:o}:(i.isBackwards=t,i.rendering=null,i.renderingStartTime=0,i.last=r,i.tail=n,i.tailMode=o)}function p0(e,t,n){var r=t.pendingProps,o=r.revealOrder,i=r.tail;if(It(e,t,r.children,n),r=ze.current,r&2)r=r&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&om(e,n,t);else if(e.tag===19)om(e,n,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(Ne(ze,r),!(t.mode&1))t.memoizedState=null;else switch(o){case"forwards":for(n=t.child,o=null;n!==null;)e=n.alternate,e!==null&&ia(e)===null&&(o=n),n=n.sibling;n=o,n===null?(o=t.child,t.child=null):(o=n.sibling,n.sibling=null),Ac(t,!1,o,n,i);break;case"backwards":for(n=null,o=t.child,t.child=null;o!==null;){if(e=o.alternate,e!==null&&ia(e)===null){t.child=o;break}e=o.sibling,o.sibling=n,n=o,o=e}Ac(t,!0,n,null,i);break;case"together":Ac(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Ml(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function nr(e,t,n){if(e!==null&&(t.dependencies=e.dependencies),no|=t.lanes,!(n&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(R(153));if(t.child!==null){for(e=t.child,n=Pr(e,e.pendingProps),t.child=n,n.return=t;e.sibling!==null;)e=e.sibling,n=n.sibling=Pr(e,e.pendingProps),n.return=t;n.sibling=null}return t.child}function PS(e,t,n){switch(t.tag){case 3:d0(t),ri();break;case 5:Ug(t);break;case 1:zt(t.type)&&ql(t);break;case 4:Vd(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,o=t.memoizedProps.value;Ne(na,r._currentValue),r._currentValue=o;break;case 13:if(r=t.memoizedState,r!==null)return r.dehydrated!==null?(Ne(ze,ze.current&1),t.flags|=128,null):n&t.child.childLanes?f0(e,t,n):(Ne(ze,ze.current&1),e=nr(e,t,n),e!==null?e.sibling:null);Ne(ze,ze.current&1);break;case 19:if(r=(n&t.childLanes)!==0,e.flags&128){if(r)return p0(e,t,n);t.flags|=128}if(o=t.memoizedState,o!==null&&(o.rendering=null,o.tail=null,o.lastEffect=null),Ne(ze,ze.current),r)break;return null;case 22:case 23:return t.lanes=0,c0(e,t,n)}return nr(e,t,n)}var m0,Du,h0,g0;m0=function(e,t){for(var n=t.child;n!==null;){if(n.tag===5||n.tag===6)e.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};Du=function(){};h0=function(e,t,n,r){var o=e.memoizedProps;if(o!==r){e=t.stateNode,Qr(Bn.current);var i=null;switch(n){case"input":o=ou(e,o),r=ou(e,r),i=[];break;case"select":o=Be({},o,{value:void 0}),r=Be({},r,{value:void 0}),i=[];break;case"textarea":o=lu(e,o),r=lu(e,r),i=[];break;default:typeof o.onClick!="function"&&typeof r.onClick=="function"&&(e.onclick=Jl)}cu(n,r);var l;n=null;for(d in o)if(!r.hasOwnProperty(d)&&o.hasOwnProperty(d)&&o[d]!=null)if(d==="style"){var c=o[d];for(l in c)c.hasOwnProperty(l)&&(n||(n={}),n[l]="")}else d!=="dangerouslySetInnerHTML"&&d!=="children"&&d!=="suppressContentEditableWarning"&&d!=="suppressHydrationWarning"&&d!=="autoFocus"&&(as.hasOwnProperty(d)?i||(i=[]):(i=i||[]).push(d,null));for(d in r){var u=r[d];if(c=o!=null?o[d]:void 0,r.hasOwnProperty(d)&&u!==c&&(u!=null||c!=null))if(d==="style")if(c){for(l in c)!c.hasOwnProperty(l)||u&&u.hasOwnProperty(l)||(n||(n={}),n[l]="");for(l in u)u.hasOwnProperty(l)&&c[l]!==u[l]&&(n||(n={}),n[l]=u[l])}else n||(i||(i=[]),i.push(d,n)),n=u;else d==="dangerouslySetInnerHTML"?(u=u?u.__html:void 0,c=c?c.__html:void 0,u!=null&&c!==u&&(i=i||[]).push(d,u)):d==="children"?typeof u!="string"&&typeof u!="number"||(i=i||[]).push(d,""+u):d!=="suppressContentEditableWarning"&&d!=="suppressHydrationWarning"&&(as.hasOwnProperty(d)?(u!=null&&d==="onScroll"&&Pe("scroll",e),i||c===u||(i=[])):(i=i||[]).push(d,u))}n&&(i=i||[]).push("style",n);var d=i;(t.updateQueue=d)&&(t.flags|=4)}};g0=function(e,t,n,r){n!==r&&(t.flags|=4)};function Ri(e,t){if(!Le)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;t!==null;)t.alternate!==null&&(n=t),t=t.sibling;n===null?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:r.sibling=null}}function gt(e){var t=e.alternate!==null&&e.alternate.child===e.child,n=0,r=0;if(t)for(var o=e.child;o!==null;)n|=o.lanes|o.childLanes,r|=o.subtreeFlags&14680064,r|=o.flags&14680064,o.return=e,o=o.sibling;else for(o=e.child;o!==null;)n|=o.lanes|o.childLanes,r|=o.subtreeFlags,r|=o.flags,o.return=e,o=o.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function jS(e,t,n){var r=t.pendingProps;switch(Ud(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return gt(t),null;case 1:return zt(t.type)&&Zl(),gt(t),null;case 3:return r=t.stateNode,ii(),je(Mt),je(vt),Qd(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(e===null||e.child===null)&&(pl(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,Cn!==null&&(Hu(Cn),Cn=null))),Du(e,t),gt(t),null;case 5:Gd(t);var o=Qr(vs.current);if(n=t.type,e!==null&&t.stateNode!=null)h0(e,t,n,r,o),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(t.stateNode===null)throw Error(R(166));return gt(t),null}if(e=Qr(Bn.current),pl(t)){r=t.stateNode,n=t.type;var i=t.memoizedProps;switch(r[Dn]=t,r[xs]=i,e=(t.mode&1)!==0,n){case"dialog":Pe("cancel",r),Pe("close",r);break;case"iframe":case"object":case"embed":Pe("load",r);break;case"video":case"audio":for(o=0;o<Ki.length;o++)Pe(Ki[o],r);break;case"source":Pe("error",r);break;case"img":case"image":case"link":Pe("error",r),Pe("load",r);break;case"details":Pe("toggle",r);break;case"input":pp(r,i),Pe("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!i.multiple},Pe("invalid",r);break;case"textarea":hp(r,i),Pe("invalid",r)}cu(n,i),o=null;for(var l in i)if(i.hasOwnProperty(l)){var c=i[l];l==="children"?typeof c=="string"?r.textContent!==c&&(i.suppressHydrationWarning!==!0&&fl(r.textContent,c,e),o=["children",c]):typeof c=="number"&&r.textContent!==""+c&&(i.suppressHydrationWarning!==!0&&fl(r.textContent,c,e),o=["children",""+c]):as.hasOwnProperty(l)&&c!=null&&l==="onScroll"&&Pe("scroll",r)}switch(n){case"input":ol(r),mp(r,i,!0);break;case"textarea":ol(r),gp(r);break;case"select":case"option":break;default:typeof i.onClick=="function"&&(r.onclick=Jl)}r=o,t.updateQueue=r,r!==null&&(t.flags|=4)}else{l=o.nodeType===9?o:o.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=Hh(n)),e==="http://www.w3.org/1999/xhtml"?n==="script"?(e=l.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof r.is=="string"?e=l.createElement(n,{is:r.is}):(e=l.createElement(n),n==="select"&&(l=e,r.multiple?l.multiple=!0:r.size&&(l.size=r.size))):e=l.createElementNS(e,n),e[Dn]=t,e[xs]=r,m0(e,t,!1,!1),t.stateNode=e;e:{switch(l=uu(n,r),n){case"dialog":Pe("cancel",e),Pe("close",e),o=r;break;case"iframe":case"object":case"embed":Pe("load",e),o=r;break;case"video":case"audio":for(o=0;o<Ki.length;o++)Pe(Ki[o],e);o=r;break;case"source":Pe("error",e),o=r;break;case"img":case"image":case"link":Pe("error",e),Pe("load",e),o=r;break;case"details":Pe("toggle",e),o=r;break;case"input":pp(e,r),o=ou(e,r),Pe("invalid",e);break;case"option":o=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},o=Be({},r,{value:void 0}),Pe("invalid",e);break;case"textarea":hp(e,r),o=lu(e,r),Pe("invalid",e);break;default:o=r}cu(n,o),c=o;for(i in c)if(c.hasOwnProperty(i)){var u=c[i];i==="style"?Gh(e,u):i==="dangerouslySetInnerHTML"?(u=u?u.__html:void 0,u!=null&&Wh(e,u)):i==="children"?typeof u=="string"?(n!=="textarea"||u!=="")&&cs(e,u):typeof u=="number"&&cs(e,""+u):i!=="suppressContentEditableWarning"&&i!=="suppressHydrationWarning"&&i!=="autoFocus"&&(as.hasOwnProperty(i)?u!=null&&i==="onScroll"&&Pe("scroll",e):u!=null&&Ad(e,i,u,l))}switch(n){case"input":ol(e),mp(e,r,!1);break;case"textarea":ol(e),gp(e);break;case"option":r.value!=null&&e.setAttribute("value",""+jr(r.value));break;case"select":e.multiple=!!r.multiple,i=r.value,i!=null?Fo(e,!!r.multiple,i,!1):r.defaultValue!=null&&Fo(e,!!r.multiple,r.defaultValue,!0);break;default:typeof o.onClick=="function"&&(e.onclick=Jl)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return gt(t),null;case 6:if(e&&t.stateNode!=null)g0(e,t,e.memoizedProps,r);else{if(typeof r!="string"&&t.stateNode===null)throw Error(R(166));if(n=Qr(vs.current),Qr(Bn.current),pl(t)){if(r=t.stateNode,n=t.memoizedProps,r[Dn]=t,(i=r.nodeValue!==n)&&(e=en,e!==null))switch(e.tag){case 3:fl(r.nodeValue,n,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&fl(r.nodeValue,n,(e.mode&1)!==0)}i&&(t.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[Dn]=t,t.stateNode=r}return gt(t),null;case 13:if(je(ze),r=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(Le&&Zt!==null&&t.mode&1&&!(t.flags&128))Lg(),ri(),t.flags|=98560,i=!1;else if(i=pl(t),r!==null&&r.dehydrated!==null){if(e===null){if(!i)throw Error(R(318));if(i=t.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(R(317));i[Dn]=t}else ri(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;gt(t),i=!1}else Cn!==null&&(Hu(Cn),Cn=null),i=!0;if(!i)return t.flags&65536?t:null}return t.flags&128?(t.lanes=n,t):(r=r!==null,r!==(e!==null&&e.memoizedState!==null)&&r&&(t.child.flags|=8192,t.mode&1&&(e===null||ze.current&1?nt===0&&(nt=3):lf())),t.updateQueue!==null&&(t.flags|=4),gt(t),null);case 4:return ii(),Du(e,t),e===null&&gs(t.stateNode.containerInfo),gt(t),null;case 10:return Kd(t.type._context),gt(t),null;case 17:return zt(t.type)&&Zl(),gt(t),null;case 19:if(je(ze),i=t.memoizedState,i===null)return gt(t),null;if(r=(t.flags&128)!==0,l=i.rendering,l===null)if(r)Ri(i,!1);else{if(nt!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(l=ia(e),l!==null){for(t.flags|=128,Ri(i,!1),r=l.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;n!==null;)i=n,e=r,i.flags&=14680066,l=i.alternate,l===null?(i.childLanes=0,i.lanes=e,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=l.childLanes,i.lanes=l.lanes,i.child=l.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=l.memoizedProps,i.memoizedState=l.memoizedState,i.updateQueue=l.updateQueue,i.type=l.type,e=l.dependencies,i.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return Ne(ze,ze.current&1|2),t.child}e=e.sibling}i.tail!==null&&Ve()>li&&(t.flags|=128,r=!0,Ri(i,!1),t.lanes=4194304)}else{if(!r)if(e=ia(l),e!==null){if(t.flags|=128,r=!0,n=e.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),Ri(i,!0),i.tail===null&&i.tailMode==="hidden"&&!l.alternate&&!Le)return gt(t),null}else 2*Ve()-i.renderingStartTime>li&&n!==1073741824&&(t.flags|=128,r=!0,Ri(i,!1),t.lanes=4194304);i.isBackwards?(l.sibling=t.child,t.child=l):(n=i.last,n!==null?n.sibling=l:t.child=l,i.last=l)}return i.tail!==null?(t=i.tail,i.rendering=t,i.tail=t.sibling,i.renderingStartTime=Ve(),t.sibling=null,n=ze.current,Ne(ze,r?n&1|2:n&1),t):(gt(t),null);case 22:case 23:return sf(),r=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==r&&(t.flags|=8192),r&&t.mode&1?Jt&1073741824&&(gt(t),t.subtreeFlags&6&&(t.flags|=8192)):gt(t),null;case 24:return null;case 25:return null}throw Error(R(156,t.tag))}function RS(e,t){switch(Ud(t),t.tag){case 1:return zt(t.type)&&Zl(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return ii(),je(Mt),je(vt),Qd(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return Gd(t),null;case 13:if(je(ze),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(R(340));ri()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return je(ze),null;case 4:return ii(),null;case 10:return Kd(t.type._context),null;case 22:case 23:return sf(),null;case 24:return null;default:return null}}var gl=!1,yt=!1,LS=typeof WeakSet=="function"?WeakSet:Set,K=null;function zo(e,t){var n=e.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){Fe(e,t,r)}else n.current=null}function Mu(e,t,n){try{n()}catch(r){Fe(e,t,r)}}var im=!1;function OS(e,t){if(vu=Ql,e=wg(),Md(e)){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{n=(n=e.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var o=r.anchorOffset,i=r.focusNode;r=r.focusOffset;try{n.nodeType,i.nodeType}catch{n=null;break e}var l=0,c=-1,u=-1,d=0,p=0,h=e,g=null;t:for(;;){for(var x;h!==n||o!==0&&h.nodeType!==3||(c=l+o),h!==i||r!==0&&h.nodeType!==3||(u=l+r),h.nodeType===3&&(l+=h.nodeValue.length),(x=h.firstChild)!==null;)g=h,h=x;for(;;){if(h===e)break t;if(g===n&&++d===o&&(c=l),g===i&&++p===r&&(u=l),(x=h.nextSibling)!==null)break;h=g,g=h.parentNode}h=x}n=c===-1||u===-1?null:{start:c,end:u}}else n=null}n=n||{start:0,end:0}}else n=null;for(wu={focusedElem:e,selectionRange:n},Ql=!1,K=t;K!==null;)if(t=K,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,K=e;else for(;K!==null;){t=K;try{var E=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(E!==null){var w=E.memoizedProps,A=E.memoizedState,f=t.stateNode,m=f.getSnapshotBeforeUpdate(t.elementType===t.type?w:kn(t.type,w),A);f.__reactInternalSnapshotBeforeUpdate=m}break;case 3:var y=t.stateNode.containerInfo;y.nodeType===1?y.textContent="":y.nodeType===9&&y.documentElement&&y.removeChild(y.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(R(163))}}catch(v){Fe(t,t.return,v)}if(e=t.sibling,e!==null){e.return=t.return,K=e;break}K=t.return}return E=im,im=!1,E}function Ji(e,t,n){var r=t.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var o=r=r.next;do{if((o.tag&e)===e){var i=o.destroy;o.destroy=void 0,i!==void 0&&Mu(t,n,i)}o=o.next}while(o!==r)}}function Pa(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function zu(e){var t=e.ref;if(t!==null){var n=e.stateNode;switch(e.tag){case 5:e=n;break;default:e=n}typeof t=="function"?t(e):t.current=e}}function y0(e){var t=e.alternate;t!==null&&(e.alternate=null,y0(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[Dn],delete t[xs],delete t[Au],delete t[yS],delete t[xS])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function x0(e){return e.tag===5||e.tag===3||e.tag===4}function sm(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||x0(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Uu(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.nodeType===8?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(n.nodeType===8?(t=n.parentNode,t.insertBefore(e,n)):(t=n,t.appendChild(e)),n=n._reactRootContainer,n!=null||t.onclick!==null||(t.onclick=Jl));else if(r!==4&&(e=e.child,e!==null))for(Uu(e,t,n),e=e.sibling;e!==null;)Uu(e,t,n),e=e.sibling}function Bu(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(r!==4&&(e=e.child,e!==null))for(Bu(e,t,n),e=e.sibling;e!==null;)Bu(e,t,n),e=e.sibling}var lt=null,Tn=!1;function cr(e,t,n){for(n=n.child;n!==null;)S0(e,t,n),n=n.sibling}function S0(e,t,n){if(Un&&typeof Un.onCommitFiberUnmount=="function")try{Un.onCommitFiberUnmount(ka,n)}catch{}switch(n.tag){case 5:yt||zo(n,t);case 6:var r=lt,o=Tn;lt=null,cr(e,t,n),lt=r,Tn=o,lt!==null&&(Tn?(e=lt,n=n.stateNode,e.nodeType===8?e.parentNode.removeChild(n):e.removeChild(n)):lt.removeChild(n.stateNode));break;case 18:lt!==null&&(Tn?(e=lt,n=n.stateNode,e.nodeType===8?yc(e.parentNode,n):e.nodeType===1&&yc(e,n),ps(e)):yc(lt,n.stateNode));break;case 4:r=lt,o=Tn,lt=n.stateNode.containerInfo,Tn=!0,cr(e,t,n),lt=r,Tn=o;break;case 0:case 11:case 14:case 15:if(!yt&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){o=r=r.next;do{var i=o,l=i.destroy;i=i.tag,l!==void 0&&(i&2||i&4)&&Mu(n,t,l),o=o.next}while(o!==r)}cr(e,t,n);break;case 1:if(!yt&&(zo(n,t),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(c){Fe(n,t,c)}cr(e,t,n);break;case 21:cr(e,t,n);break;case 22:n.mode&1?(yt=(r=yt)||n.memoizedState!==null,cr(e,t,n),yt=r):cr(e,t,n);break;default:cr(e,t,n)}}function lm(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var n=e.stateNode;n===null&&(n=e.stateNode=new LS),t.forEach(function(r){var o=HS.bind(null,e,r);n.has(r)||(n.add(r),r.then(o,o))})}}function En(e,t){var n=t.deletions;if(n!==null)for(var r=0;r<n.length;r++){var o=n[r];try{var i=e,l=t,c=l;e:for(;c!==null;){switch(c.tag){case 5:lt=c.stateNode,Tn=!1;break e;case 3:lt=c.stateNode.containerInfo,Tn=!0;break e;case 4:lt=c.stateNode.containerInfo,Tn=!0;break e}c=c.return}if(lt===null)throw Error(R(160));S0(i,l,o),lt=null,Tn=!1;var u=o.alternate;u!==null&&(u.return=null),o.return=null}catch(d){Fe(o,t,d)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)v0(t,e),t=t.sibling}function v0(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(En(t,e),Rn(e),r&4){try{Ji(3,e,e.return),Pa(3,e)}catch(w){Fe(e,e.return,w)}try{Ji(5,e,e.return)}catch(w){Fe(e,e.return,w)}}break;case 1:En(t,e),Rn(e),r&512&&n!==null&&zo(n,n.return);break;case 5:if(En(t,e),Rn(e),r&512&&n!==null&&zo(n,n.return),e.flags&32){var o=e.stateNode;try{cs(o,"")}catch(w){Fe(e,e.return,w)}}if(r&4&&(o=e.stateNode,o!=null)){var i=e.memoizedProps,l=n!==null?n.memoizedProps:i,c=e.type,u=e.updateQueue;if(e.updateQueue=null,u!==null)try{c==="input"&&i.type==="radio"&&i.name!=null&&$h(o,i),uu(c,l);var d=uu(c,i);for(l=0;l<u.length;l+=2){var p=u[l],h=u[l+1];p==="style"?Gh(o,h):p==="dangerouslySetInnerHTML"?Wh(o,h):p==="children"?cs(o,h):Ad(o,p,h,d)}switch(c){case"input":iu(o,i);break;case"textarea":Kh(o,i);break;case"select":var g=o._wrapperState.wasMultiple;o._wrapperState.wasMultiple=!!i.multiple;var x=i.value;x!=null?Fo(o,!!i.multiple,x,!1):g!==!!i.multiple&&(i.defaultValue!=null?Fo(o,!!i.multiple,i.defaultValue,!0):Fo(o,!!i.multiple,i.multiple?[]:"",!1))}o[xs]=i}catch(w){Fe(e,e.return,w)}}break;case 6:if(En(t,e),Rn(e),r&4){if(e.stateNode===null)throw Error(R(162));o=e.stateNode,i=e.memoizedProps;try{o.nodeValue=i}catch(w){Fe(e,e.return,w)}}break;case 3:if(En(t,e),Rn(e),r&4&&n!==null&&n.memoizedState.isDehydrated)try{ps(t.containerInfo)}catch(w){Fe(e,e.return,w)}break;case 4:En(t,e),Rn(e);break;case 13:En(t,e),Rn(e),o=e.child,o.flags&8192&&(i=o.memoizedState!==null,o.stateNode.isHidden=i,!i||o.alternate!==null&&o.alternate.memoizedState!==null||(rf=Ve())),r&4&&lm(e);break;case 22:if(p=n!==null&&n.memoizedState!==null,e.mode&1?(yt=(d=yt)||p,En(t,e),yt=d):En(t,e),Rn(e),r&8192){if(d=e.memoizedState!==null,(e.stateNode.isHidden=d)&&!p&&e.mode&1)for(K=e,p=e.child;p!==null;){for(h=K=p;K!==null;){switch(g=K,x=g.child,g.tag){case 0:case 11:case 14:case 15:Ji(4,g,g.return);break;case 1:zo(g,g.return);var E=g.stateNode;if(typeof E.componentWillUnmount=="function"){r=g,n=g.return;try{t=r,E.props=t.memoizedProps,E.state=t.memoizedState,E.componentWillUnmount()}catch(w){Fe(r,n,w)}}break;case 5:zo(g,g.return);break;case 22:if(g.memoizedState!==null){cm(h);continue}}x!==null?(x.return=g,K=x):cm(h)}p=p.sibling}e:for(p=null,h=e;;){if(h.tag===5){if(p===null){p=h;try{o=h.stateNode,d?(i=o.style,typeof i.setProperty=="function"?i.setProperty("display","none","important"):i.display="none"):(c=h.stateNode,u=h.memoizedProps.style,l=u!=null&&u.hasOwnProperty("display")?u.display:null,c.style.display=Vh("display",l))}catch(w){Fe(e,e.return,w)}}}else if(h.tag===6){if(p===null)try{h.stateNode.nodeValue=d?"":h.memoizedProps}catch(w){Fe(e,e.return,w)}}else if((h.tag!==22&&h.tag!==23||h.memoizedState===null||h===e)&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===e)break e;for(;h.sibling===null;){if(h.return===null||h.return===e)break e;p===h&&(p=null),h=h.return}p===h&&(p=null),h.sibling.return=h.return,h=h.sibling}}break;case 19:En(t,e),Rn(e),r&4&&lm(e);break;case 21:break;default:En(t,e),Rn(e)}}function Rn(e){var t=e.flags;if(t&2){try{e:{for(var n=e.return;n!==null;){if(x0(n)){var r=n;break e}n=n.return}throw Error(R(160))}switch(r.tag){case 5:var o=r.stateNode;r.flags&32&&(cs(o,""),r.flags&=-33);var i=sm(e);Bu(e,i,o);break;case 3:case 4:var l=r.stateNode.containerInfo,c=sm(e);Uu(e,c,l);break;default:throw Error(R(161))}}catch(u){Fe(e,e.return,u)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function DS(e,t,n){K=e,w0(e)}function w0(e,t,n){for(var r=(e.mode&1)!==0;K!==null;){var o=K,i=o.child;if(o.tag===22&&r){var l=o.memoizedState!==null||gl;if(!l){var c=o.alternate,u=c!==null&&c.memoizedState!==null||yt;c=gl;var d=yt;if(gl=l,(yt=u)&&!d)for(K=o;K!==null;)l=K,u=l.child,l.tag===22&&l.memoizedState!==null?um(o):u!==null?(u.return=l,K=u):um(o);for(;i!==null;)K=i,w0(i),i=i.sibling;K=o,gl=c,yt=d}am(e)}else o.subtreeFlags&8772&&i!==null?(i.return=o,K=i):am(e)}}function am(e){for(;K!==null;){var t=K;if(t.flags&8772){var n=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:yt||Pa(5,t);break;case 1:var r=t.stateNode;if(t.flags&4&&!yt)if(n===null)r.componentDidMount();else{var o=t.elementType===t.type?n.memoizedProps:kn(t.type,n.memoizedProps);r.componentDidUpdate(o,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var i=t.updateQueue;i!==null&&Vp(t,i,r);break;case 3:var l=t.updateQueue;if(l!==null){if(n=null,t.child!==null)switch(t.child.tag){case 5:n=t.child.stateNode;break;case 1:n=t.child.stateNode}Vp(t,l,n)}break;case 5:var c=t.stateNode;if(n===null&&t.flags&4){n=c;var u=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":u.autoFocus&&n.focus();break;case"img":u.src&&(n.src=u.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var d=t.alternate;if(d!==null){var p=d.memoizedState;if(p!==null){var h=p.dehydrated;h!==null&&ps(h)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(R(163))}yt||t.flags&512&&zu(t)}catch(g){Fe(t,t.return,g)}}if(t===e){K=null;break}if(n=t.sibling,n!==null){n.return=t.return,K=n;break}K=t.return}}function cm(e){for(;K!==null;){var t=K;if(t===e){K=null;break}var n=t.sibling;if(n!==null){n.return=t.return,K=n;break}K=t.return}}function um(e){for(;K!==null;){var t=K;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{Pa(4,t)}catch(u){Fe(t,n,u)}break;case 1:var r=t.stateNode;if(typeof r.componentDidMount=="function"){var o=t.return;try{r.componentDidMount()}catch(u){Fe(t,o,u)}}var i=t.return;try{zu(t)}catch(u){Fe(t,i,u)}break;case 5:var l=t.return;try{zu(t)}catch(u){Fe(t,l,u)}}}catch(u){Fe(t,t.return,u)}if(t===e){K=null;break}var c=t.sibling;if(c!==null){c.return=t.return,K=c;break}K=t.return}}var MS=Math.ceil,aa=rr.ReactCurrentDispatcher,tf=rr.ReactCurrentOwner,hn=rr.ReactCurrentBatchConfig,ye=0,it=null,Ze=null,at=0,Jt=0,Uo=Dr(0),nt=0,As=null,no=0,ja=0,nf=0,Zi=null,Ot=null,rf=0,li=1/0,Wn=null,ca=!1,Fu=null,Nr=null,yl=!1,Sr=null,ua=0,qi=0,$u=null,zl=-1,Ul=0;function _t(){return ye&6?Ve():zl!==-1?zl:zl=Ve()}function br(e){return e.mode&1?ye&2&&at!==0?at&-at:vS.transition!==null?(Ul===0&&(Ul=ig()),Ul):(e=ke,e!==0||(e=window.event,e=e===void 0?16:fg(e.type)),e):1}function Nn(e,t,n,r){if(50<qi)throw qi=0,$u=null,Error(R(185));js(e,n,r),(!(ye&2)||e!==it)&&(e===it&&(!(ye&2)&&(ja|=n),nt===4&&gr(e,at)),Ut(e,r),n===1&&ye===0&&!(t.mode&1)&&(li=Ve()+500,_a&&Mr()))}function Ut(e,t){var n=e.callbackNode;vx(e,t);var r=Gl(e,e===it?at:0);if(r===0)n!==null&&Sp(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(n!=null&&Sp(n),t===1)e.tag===0?SS(dm.bind(null,e)):Pg(dm.bind(null,e)),hS(function(){!(ye&6)&&Mr()}),n=null;else{switch(sg(r)){case 1:n=Nd;break;case 4:n=rg;break;case 16:n=Vl;break;case 536870912:n=og;break;default:n=Vl}n=N0(n,E0.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function E0(e,t){if(zl=-1,Ul=0,ye&6)throw Error(R(327));var n=e.callbackNode;if(Vo()&&e.callbackNode!==n)return null;var r=Gl(e,e===it?at:0);if(r===0)return null;if(r&30||r&e.expiredLanes||t)t=da(e,r);else{t=r;var o=ye;ye|=2;var i=A0();(it!==e||at!==t)&&(Wn=null,li=Ve()+500,Jr(e,t));do try{BS();break}catch(c){k0(e,c)}while(!0);$d(),aa.current=i,ye=o,Ze!==null?t=0:(it=null,at=0,t=nt)}if(t!==0){if(t===2&&(o=hu(e),o!==0&&(r=o,t=Ku(e,o))),t===1)throw n=As,Jr(e,0),gr(e,r),Ut(e,Ve()),n;if(t===6)gr(e,r);else{if(o=e.current.alternate,!(r&30)&&!zS(o)&&(t=da(e,r),t===2&&(i=hu(e),i!==0&&(r=i,t=Ku(e,i))),t===1))throw n=As,Jr(e,0),gr(e,r),Ut(e,Ve()),n;switch(e.finishedWork=o,e.finishedLanes=r,t){case 0:case 1:throw Error(R(345));case 2:Wr(e,Ot,Wn);break;case 3:if(gr(e,r),(r&130023424)===r&&(t=rf+500-Ve(),10<t)){if(Gl(e,0)!==0)break;if(o=e.suspendedLanes,(o&r)!==r){_t(),e.pingedLanes|=e.suspendedLanes&o;break}e.timeoutHandle=ku(Wr.bind(null,e,Ot,Wn),t);break}Wr(e,Ot,Wn);break;case 4:if(gr(e,r),(r&4194240)===r)break;for(t=e.eventTimes,o=-1;0<r;){var l=31-_n(r);i=1<<l,l=t[l],l>o&&(o=l),r&=~i}if(r=o,r=Ve()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*MS(r/1960))-r,10<r){e.timeoutHandle=ku(Wr.bind(null,e,Ot,Wn),r);break}Wr(e,Ot,Wn);break;case 5:Wr(e,Ot,Wn);break;default:throw Error(R(329))}}}return Ut(e,Ve()),e.callbackNode===n?E0.bind(null,e):null}function Ku(e,t){var n=Zi;return e.current.memoizedState.isDehydrated&&(Jr(e,t).flags|=256),e=da(e,t),e!==2&&(t=Ot,Ot=n,t!==null&&Hu(t)),e}function Hu(e){Ot===null?Ot=e:Ot.push.apply(Ot,e)}function zS(e){for(var t=e;;){if(t.flags&16384){var n=t.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var o=n[r],i=o.getSnapshot;o=o.value;try{if(!bn(i(),o))return!1}catch{return!1}}}if(n=t.child,t.subtreeFlags&16384&&n!==null)n.return=t,t=n;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function gr(e,t){for(t&=~nf,t&=~ja,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-_n(t),r=1<<n;e[n]=-1,t&=~r}}function dm(e){if(ye&6)throw Error(R(327));Vo();var t=Gl(e,0);if(!(t&1))return Ut(e,Ve()),null;var n=da(e,t);if(e.tag!==0&&n===2){var r=hu(e);r!==0&&(t=r,n=Ku(e,r))}if(n===1)throw n=As,Jr(e,0),gr(e,t),Ut(e,Ve()),n;if(n===6)throw Error(R(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,Wr(e,Ot,Wn),Ut(e,Ve()),null}function of(e,t){var n=ye;ye|=1;try{return e(t)}finally{ye=n,ye===0&&(li=Ve()+500,_a&&Mr())}}function ro(e){Sr!==null&&Sr.tag===0&&!(ye&6)&&Vo();var t=ye;ye|=1;var n=hn.transition,r=ke;try{if(hn.transition=null,ke=1,e)return e()}finally{ke=r,hn.transition=n,ye=t,!(ye&6)&&Mr()}}function sf(){Jt=Uo.current,je(Uo)}function Jr(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(n!==-1&&(e.timeoutHandle=-1,mS(n)),Ze!==null)for(n=Ze.return;n!==null;){var r=n;switch(Ud(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&Zl();break;case 3:ii(),je(Mt),je(vt),Qd();break;case 5:Gd(r);break;case 4:ii();break;case 13:je(ze);break;case 19:je(ze);break;case 10:Kd(r.type._context);break;case 22:case 23:sf()}n=n.return}if(it=e,Ze=e=Pr(e.current,null),at=Jt=t,nt=0,As=null,nf=ja=no=0,Ot=Zi=null,Gr!==null){for(t=0;t<Gr.length;t++)if(n=Gr[t],r=n.interleaved,r!==null){n.interleaved=null;var o=r.next,i=n.pending;if(i!==null){var l=i.next;i.next=o,r.next=l}n.pending=r}Gr=null}return e}function k0(e,t){do{var n=Ze;try{if($d(),Ol.current=la,sa){for(var r=Ue.memoizedState;r!==null;){var o=r.queue;o!==null&&(o.pending=null),r=r.next}sa=!1}if(to=0,ot=tt=Ue=null,Yi=!1,ws=0,tf.current=null,n===null||n.return===null){nt=1,As=t,Ze=null;break}e:{var i=e,l=n.return,c=n,u=t;if(t=at,c.flags|=32768,u!==null&&typeof u=="object"&&typeof u.then=="function"){var d=u,p=c,h=p.tag;if(!(p.mode&1)&&(h===0||h===11||h===15)){var g=p.alternate;g?(p.updateQueue=g.updateQueue,p.memoizedState=g.memoizedState,p.lanes=g.lanes):(p.updateQueue=null,p.memoizedState=null)}var x=Zp(l);if(x!==null){x.flags&=-257,qp(x,l,c,i,t),x.mode&1&&Jp(i,d,t),t=x,u=d;var E=t.updateQueue;if(E===null){var w=new Set;w.add(u),t.updateQueue=w}else E.add(u);break e}else{if(!(t&1)){Jp(i,d,t),lf();break e}u=Error(R(426))}}else if(Le&&c.mode&1){var A=Zp(l);if(A!==null){!(A.flags&65536)&&(A.flags|=256),qp(A,l,c,i,t),Bd(si(u,c));break e}}i=u=si(u,c),nt!==4&&(nt=2),Zi===null?Zi=[i]:Zi.push(i),i=l;do{switch(i.tag){case 3:i.flags|=65536,t&=-t,i.lanes|=t;var f=s0(i,u,t);Wp(i,f);break e;case 1:c=u;var m=i.type,y=i.stateNode;if(!(i.flags&128)&&(typeof m.getDerivedStateFromError=="function"||y!==null&&typeof y.componentDidCatch=="function"&&(Nr===null||!Nr.has(y)))){i.flags|=65536,t&=-t,i.lanes|=t;var v=l0(i,c,t);Wp(i,v);break e}}i=i.return}while(i!==null)}C0(n)}catch(_){t=_,Ze===n&&n!==null&&(Ze=n=n.return);continue}break}while(!0)}function A0(){var e=aa.current;return aa.current=la,e===null?la:e}function lf(){(nt===0||nt===3||nt===2)&&(nt=4),it===null||!(no&268435455)&&!(ja&268435455)||gr(it,at)}function da(e,t){var n=ye;ye|=2;var r=A0();(it!==e||at!==t)&&(Wn=null,Jr(e,t));do try{US();break}catch(o){k0(e,o)}while(!0);if($d(),ye=n,aa.current=r,Ze!==null)throw Error(R(261));return it=null,at=0,nt}function US(){for(;Ze!==null;)T0(Ze)}function BS(){for(;Ze!==null&&!dx();)T0(Ze)}function T0(e){var t=_0(e.alternate,e,Jt);e.memoizedProps=e.pendingProps,t===null?C0(e):Ze=t,tf.current=null}function C0(e){var t=e;do{var n=t.alternate;if(e=t.return,t.flags&32768){if(n=RS(n,t),n!==null){n.flags&=32767,Ze=n;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{nt=6,Ze=null;return}}else if(n=jS(n,t,Jt),n!==null){Ze=n;return}if(t=t.sibling,t!==null){Ze=t;return}Ze=t=e}while(t!==null);nt===0&&(nt=5)}function Wr(e,t,n){var r=ke,o=hn.transition;try{hn.transition=null,ke=1,FS(e,t,n,r)}finally{hn.transition=o,ke=r}return null}function FS(e,t,n,r){do Vo();while(Sr!==null);if(ye&6)throw Error(R(327));n=e.finishedWork;var o=e.finishedLanes;if(n===null)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(R(177));e.callbackNode=null,e.callbackPriority=0;var i=n.lanes|n.childLanes;if(wx(e,i),e===it&&(Ze=it=null,at=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||yl||(yl=!0,N0(Vl,function(){return Vo(),null})),i=(n.flags&15990)!==0,n.subtreeFlags&15990||i){i=hn.transition,hn.transition=null;var l=ke;ke=1;var c=ye;ye|=4,tf.current=null,OS(e,n),v0(n,e),lS(wu),Ql=!!vu,wu=vu=null,e.current=n,DS(n),fx(),ye=c,ke=l,hn.transition=i}else e.current=n;if(yl&&(yl=!1,Sr=e,ua=o),i=e.pendingLanes,i===0&&(Nr=null),hx(n.stateNode),Ut(e,Ve()),t!==null)for(r=e.onRecoverableError,n=0;n<t.length;n++)o=t[n],r(o.value,{componentStack:o.stack,digest:o.digest});if(ca)throw ca=!1,e=Fu,Fu=null,e;return ua&1&&e.tag!==0&&Vo(),i=e.pendingLanes,i&1?e===$u?qi++:(qi=0,$u=e):qi=0,Mr(),null}function Vo(){if(Sr!==null){var e=sg(ua),t=hn.transition,n=ke;try{if(hn.transition=null,ke=16>e?16:e,Sr===null)var r=!1;else{if(e=Sr,Sr=null,ua=0,ye&6)throw Error(R(331));var o=ye;for(ye|=4,K=e.current;K!==null;){var i=K,l=i.child;if(K.flags&16){var c=i.deletions;if(c!==null){for(var u=0;u<c.length;u++){var d=c[u];for(K=d;K!==null;){var p=K;switch(p.tag){case 0:case 11:case 15:Ji(8,p,i)}var h=p.child;if(h!==null)h.return=p,K=h;else for(;K!==null;){p=K;var g=p.sibling,x=p.return;if(y0(p),p===d){K=null;break}if(g!==null){g.return=x,K=g;break}K=x}}}var E=i.alternate;if(E!==null){var w=E.child;if(w!==null){E.child=null;do{var A=w.sibling;w.sibling=null,w=A}while(w!==null)}}K=i}}if(i.subtreeFlags&2064&&l!==null)l.return=i,K=l;else e:for(;K!==null;){if(i=K,i.flags&2048)switch(i.tag){case 0:case 11:case 15:Ji(9,i,i.return)}var f=i.sibling;if(f!==null){f.return=i.return,K=f;break e}K=i.return}}var m=e.current;for(K=m;K!==null;){l=K;var y=l.child;if(l.subtreeFlags&2064&&y!==null)y.return=l,K=y;else e:for(l=m;K!==null;){if(c=K,c.flags&2048)try{switch(c.tag){case 0:case 11:case 15:Pa(9,c)}}catch(_){Fe(c,c.return,_)}if(c===l){K=null;break e}var v=c.sibling;if(v!==null){v.return=c.return,K=v;break e}K=c.return}}if(ye=o,Mr(),Un&&typeof Un.onPostCommitFiberRoot=="function")try{Un.onPostCommitFiberRoot(ka,e)}catch{}r=!0}return r}finally{ke=n,hn.transition=t}}return!1}function fm(e,t,n){t=si(n,t),t=s0(e,t,1),e=_r(e,t,1),t=_t(),e!==null&&(js(e,1,t),Ut(e,t))}function Fe(e,t,n){if(e.tag===3)fm(e,e,n);else for(;t!==null;){if(t.tag===3){fm(t,e,n);break}else if(t.tag===1){var r=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(Nr===null||!Nr.has(r))){e=si(n,e),e=l0(t,e,1),t=_r(t,e,1),e=_t(),t!==null&&(js(t,1,e),Ut(t,e));break}}t=t.return}}function $S(e,t,n){var r=e.pingCache;r!==null&&r.delete(t),t=_t(),e.pingedLanes|=e.suspendedLanes&n,it===e&&(at&n)===n&&(nt===4||nt===3&&(at&130023424)===at&&500>Ve()-rf?Jr(e,0):nf|=n),Ut(e,t)}function I0(e,t){t===0&&(e.mode&1?(t=ll,ll<<=1,!(ll&130023424)&&(ll=4194304)):t=1);var n=_t();e=tr(e,t),e!==null&&(js(e,t,n),Ut(e,n))}function KS(e){var t=e.memoizedState,n=0;t!==null&&(n=t.retryLane),I0(e,n)}function HS(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,o=e.memoizedState;o!==null&&(n=o.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(R(314))}r!==null&&r.delete(t),I0(e,n)}var _0;_0=function(e,t,n){if(e!==null)if(e.memoizedProps!==t.pendingProps||Mt.current)Dt=!0;else{if(!(e.lanes&n)&&!(t.flags&128))return Dt=!1,PS(e,t,n);Dt=!!(e.flags&131072)}else Dt=!1,Le&&t.flags&1048576&&jg(t,ta,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;Ml(e,t),e=t.pendingProps;var o=ni(t,vt.current);Wo(t,n),o=Yd(null,t,r,e,o,n);var i=Jd();return t.flags|=1,typeof o=="object"&&o!==null&&typeof o.render=="function"&&o.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,zt(r)?(i=!0,ql(t)):i=!1,t.memoizedState=o.state!==null&&o.state!==void 0?o.state:null,Wd(t),o.updater=ba,t.stateNode=o,o._reactInternals=t,bu(t,r,e,n),t=Ru(null,t,r,!0,i,n)):(t.tag=0,Le&&i&&zd(t),It(null,t,o,n),t=t.child),t;case 16:r=t.elementType;e:{switch(Ml(e,t),e=t.pendingProps,o=r._init,r=o(r._payload),t.type=r,o=t.tag=VS(r),e=kn(r,e),o){case 0:t=ju(null,t,r,e,n);break e;case 1:t=nm(null,t,r,e,n);break e;case 11:t=em(null,t,r,e,n);break e;case 14:t=tm(null,t,r,kn(r.type,e),n);break e}throw Error(R(306,r,""))}return t;case 0:return r=t.type,o=t.pendingProps,o=t.elementType===r?o:kn(r,o),ju(e,t,r,o,n);case 1:return r=t.type,o=t.pendingProps,o=t.elementType===r?o:kn(r,o),nm(e,t,r,o,n);case 3:e:{if(d0(t),e===null)throw Error(R(387));r=t.pendingProps,i=t.memoizedState,o=i.element,zg(e,t),oa(t,r,null,n);var l=t.memoizedState;if(r=l.element,i.isDehydrated)if(i={element:r,isDehydrated:!1,cache:l.cache,pendingSuspenseBoundaries:l.pendingSuspenseBoundaries,transitions:l.transitions},t.updateQueue.baseState=i,t.memoizedState=i,t.flags&256){o=si(Error(R(423)),t),t=rm(e,t,r,n,o);break e}else if(r!==o){o=si(Error(R(424)),t),t=rm(e,t,r,n,o);break e}else for(Zt=Ir(t.stateNode.containerInfo.firstChild),en=t,Le=!0,Cn=null,n=Dg(t,null,r,n),t.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(ri(),r===o){t=nr(e,t,n);break e}It(e,t,r,n)}t=t.child}return t;case 5:return Ug(t),e===null&&Iu(t),r=t.type,o=t.pendingProps,i=e!==null?e.memoizedProps:null,l=o.children,Eu(r,o)?l=null:i!==null&&Eu(r,i)&&(t.flags|=32),u0(e,t),It(e,t,l,n),t.child;case 6:return e===null&&Iu(t),null;case 13:return f0(e,t,n);case 4:return Vd(t,t.stateNode.containerInfo),r=t.pendingProps,e===null?t.child=oi(t,null,r,n):It(e,t,r,n),t.child;case 11:return r=t.type,o=t.pendingProps,o=t.elementType===r?o:kn(r,o),em(e,t,r,o,n);case 7:return It(e,t,t.pendingProps,n),t.child;case 8:return It(e,t,t.pendingProps.children,n),t.child;case 12:return It(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,o=t.pendingProps,i=t.memoizedProps,l=o.value,Ne(na,r._currentValue),r._currentValue=l,i!==null)if(bn(i.value,l)){if(i.children===o.children&&!Mt.current){t=nr(e,t,n);break e}}else for(i=t.child,i!==null&&(i.return=t);i!==null;){var c=i.dependencies;if(c!==null){l=i.child;for(var u=c.firstContext;u!==null;){if(u.context===r){if(i.tag===1){u=Jn(-1,n&-n),u.tag=2;var d=i.updateQueue;if(d!==null){d=d.shared;var p=d.pending;p===null?u.next=u:(u.next=p.next,p.next=u),d.pending=u}}i.lanes|=n,u=i.alternate,u!==null&&(u.lanes|=n),_u(i.return,n,t),c.lanes|=n;break}u=u.next}}else if(i.tag===10)l=i.type===t.type?null:i.child;else if(i.tag===18){if(l=i.return,l===null)throw Error(R(341));l.lanes|=n,c=l.alternate,c!==null&&(c.lanes|=n),_u(l,n,t),l=i.sibling}else l=i.child;if(l!==null)l.return=i;else for(l=i;l!==null;){if(l===t){l=null;break}if(i=l.sibling,i!==null){i.return=l.return,l=i;break}l=l.return}i=l}It(e,t,o.children,n),t=t.child}return t;case 9:return o=t.type,r=t.pendingProps.children,Wo(t,n),o=gn(o),r=r(o),t.flags|=1,It(e,t,r,n),t.child;case 14:return r=t.type,o=kn(r,t.pendingProps),o=kn(r.type,o),tm(e,t,r,o,n);case 15:return a0(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,o=t.pendingProps,o=t.elementType===r?o:kn(r,o),Ml(e,t),t.tag=1,zt(r)?(e=!0,ql(t)):e=!1,Wo(t,n),i0(t,r,o),bu(t,r,o,n),Ru(null,t,r,!0,e,n);case 19:return p0(e,t,n);case 22:return c0(e,t,n)}throw Error(R(156,t.tag))};function N0(e,t){return ng(e,t)}function WS(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function dn(e,t,n,r){return new WS(e,t,n,r)}function af(e){return e=e.prototype,!(!e||!e.isReactComponent)}function VS(e){if(typeof e=="function")return af(e)?1:0;if(e!=null){if(e=e.$$typeof,e===Cd)return 11;if(e===Id)return 14}return 2}function Pr(e,t){var n=e.alternate;return n===null?(n=dn(e.tag,t,e.key,e.mode),n.elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=e.flags&14680064,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function Bl(e,t,n,r,o,i){var l=2;if(r=e,typeof e=="function")af(e)&&(l=1);else if(typeof e=="string")l=5;else e:switch(e){case No:return Zr(n.children,o,i,t);case Td:l=8,o|=8;break;case eu:return e=dn(12,n,t,o|2),e.elementType=eu,e.lanes=i,e;case tu:return e=dn(13,n,t,o),e.elementType=tu,e.lanes=i,e;case nu:return e=dn(19,n,t,o),e.elementType=nu,e.lanes=i,e;case Uh:return Ra(n,o,i,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case Mh:l=10;break e;case zh:l=9;break e;case Cd:l=11;break e;case Id:l=14;break e;case fr:l=16,r=null;break e}throw Error(R(130,e==null?e:typeof e,""))}return t=dn(l,n,t,o),t.elementType=e,t.type=r,t.lanes=i,t}function Zr(e,t,n,r){return e=dn(7,e,r,t),e.lanes=n,e}function Ra(e,t,n,r){return e=dn(22,e,r,t),e.elementType=Uh,e.lanes=n,e.stateNode={isHidden:!1},e}function Tc(e,t,n){return e=dn(6,e,null,t),e.lanes=n,e}function Cc(e,t,n){return t=dn(4,e.children!==null?e.children:[],e.key,t),t.lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function GS(e,t,n,r,o){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=sc(0),this.expirationTimes=sc(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=sc(0),this.identifierPrefix=r,this.onRecoverableError=o,this.mutableSourceEagerHydrationData=null}function cf(e,t,n,r,o,i,l,c,u){return e=new GS(e,t,n,c,u),t===1?(t=1,i===!0&&(t|=8)):t=0,i=dn(3,null,null,t),e.current=i,i.stateNode=e,i.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Wd(i),e}function QS(e,t,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:_o,key:r==null?null:""+r,children:e,containerInfo:t,implementation:n}}function b0(e){if(!e)return Rr;e=e._reactInternals;e:{if(ao(e)!==e||e.tag!==1)throw Error(R(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(zt(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(R(171))}if(e.tag===1){var n=e.type;if(zt(n))return bg(e,n,t)}return t}function P0(e,t,n,r,o,i,l,c,u){return e=cf(n,r,!0,e,o,i,l,c,u),e.context=b0(null),n=e.current,r=_t(),o=br(n),i=Jn(r,o),i.callback=t??null,_r(n,i,o),e.current.lanes=o,js(e,o,r),Ut(e,r),e}function La(e,t,n,r){var o=t.current,i=_t(),l=br(o);return n=b0(n),t.context===null?t.context=n:t.pendingContext=n,t=Jn(i,l),t.payload={element:e},r=r===void 0?null:r,r!==null&&(t.callback=r),e=_r(o,t,l),e!==null&&(Nn(e,o,l,i),Ll(e,o,l)),l}function fa(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function pm(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var n=e.retryLane;e.retryLane=n!==0&&n<t?n:t}}function uf(e,t){pm(e,t),(e=e.alternate)&&pm(e,t)}function XS(){return null}var j0=typeof reportError=="function"?reportError:function(e){console.error(e)};function df(e){this._internalRoot=e}Oa.prototype.render=df.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(R(409));La(e,t,null,null)};Oa.prototype.unmount=df.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;ro(function(){La(null,e,null,null)}),t[er]=null}};function Oa(e){this._internalRoot=e}Oa.prototype.unstable_scheduleHydration=function(e){if(e){var t=cg();e={blockedOn:null,target:e,priority:t};for(var n=0;n<hr.length&&t!==0&&t<hr[n].priority;n++);hr.splice(n,0,e),n===0&&dg(e)}};function ff(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function Da(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function mm(){}function YS(e,t,n,r,o){if(o){if(typeof r=="function"){var i=r;r=function(){var d=fa(l);i.call(d)}}var l=P0(t,r,e,0,null,!1,!1,"",mm);return e._reactRootContainer=l,e[er]=l.current,gs(e.nodeType===8?e.parentNode:e),ro(),l}for(;o=e.lastChild;)e.removeChild(o);if(typeof r=="function"){var c=r;r=function(){var d=fa(u);c.call(d)}}var u=cf(e,0,!1,null,null,!1,!1,"",mm);return e._reactRootContainer=u,e[er]=u.current,gs(e.nodeType===8?e.parentNode:e),ro(function(){La(t,u,n,r)}),u}function Ma(e,t,n,r,o){var i=n._reactRootContainer;if(i){var l=i;if(typeof o=="function"){var c=o;o=function(){var u=fa(l);c.call(u)}}La(t,l,e,o)}else l=YS(n,t,e,o,r);return fa(l)}lg=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=$i(t.pendingLanes);n!==0&&(bd(t,n|1),Ut(t,Ve()),!(ye&6)&&(li=Ve()+500,Mr()))}break;case 13:ro(function(){var r=tr(e,1);if(r!==null){var o=_t();Nn(r,e,1,o)}}),uf(e,1)}};Pd=function(e){if(e.tag===13){var t=tr(e,134217728);if(t!==null){var n=_t();Nn(t,e,134217728,n)}uf(e,134217728)}};ag=function(e){if(e.tag===13){var t=br(e),n=tr(e,t);if(n!==null){var r=_t();Nn(n,e,t,r)}uf(e,t)}};cg=function(){return ke};ug=function(e,t){var n=ke;try{return ke=e,t()}finally{ke=n}};fu=function(e,t,n){switch(t){case"input":if(iu(e,n),t=n.name,n.type==="radio"&&t!=null){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var o=Ia(r);if(!o)throw Error(R(90));Fh(r),iu(r,o)}}}break;case"textarea":Kh(e,n);break;case"select":t=n.value,t!=null&&Fo(e,!!n.multiple,t,!1)}};Yh=of;Jh=ro;var JS={usingClientEntryPoint:!1,Events:[Ls,Ro,Ia,Qh,Xh,of]},Li={findFiberByHostInstance:Vr,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},ZS={bundleType:Li.bundleType,version:Li.version,rendererPackageName:Li.rendererPackageName,rendererConfig:Li.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:rr.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=eg(e),e===null?null:e.stateNode},findFiberByHostInstance:Li.findFiberByHostInstance||XS,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var xl=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!xl.isDisabled&&xl.supportsFiber)try{ka=xl.inject(ZS),Un=xl}catch{}}nn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=JS;nn.createPortal=function(e,t){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!ff(t))throw Error(R(200));return QS(e,t,null,n)};nn.createRoot=function(e,t){if(!ff(e))throw Error(R(299));var n=!1,r="",o=j0;return t!=null&&(t.unstable_strictMode===!0&&(n=!0),t.identifierPrefix!==void 0&&(r=t.identifierPrefix),t.onRecoverableError!==void 0&&(o=t.onRecoverableError)),t=cf(e,1,!1,null,null,n,!1,r,o),e[er]=t.current,gs(e.nodeType===8?e.parentNode:e),new df(t)};nn.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(R(188)):(e=Object.keys(e).join(","),Error(R(268,e)));return e=eg(t),e=e===null?null:e.stateNode,e};nn.flushSync=function(e){return ro(e)};nn.hydrate=function(e,t,n){if(!Da(t))throw Error(R(200));return Ma(null,e,t,!0,n)};nn.hydrateRoot=function(e,t,n){if(!ff(e))throw Error(R(405));var r=n!=null&&n.hydratedSources||null,o=!1,i="",l=j0;if(n!=null&&(n.unstable_strictMode===!0&&(o=!0),n.identifierPrefix!==void 0&&(i=n.identifierPrefix),n.onRecoverableError!==void 0&&(l=n.onRecoverableError)),t=P0(t,null,e,1,n??null,o,!1,i,l),e[er]=t.current,gs(e),r)for(e=0;e<r.length;e++)n=r[e],o=n._getVersion,o=o(n._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[n,o]:t.mutableSourceEagerHydrationData.push(n,o);return new Oa(t)};nn.render=function(e,t,n){if(!Da(t))throw Error(R(200));return Ma(null,e,t,!1,n)};nn.unmountComponentAtNode=function(e){if(!Da(e))throw Error(R(40));return e._reactRootContainer?(ro(function(){Ma(null,null,e,!1,function(){e._reactRootContainer=null,e[er]=null})}),!0):!1};nn.unstable_batchedUpdates=of;nn.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!Da(n))throw Error(R(200));if(e==null||e._reactInternals===void 0)throw Error(R(38));return Ma(e,t,n,!1,r)};nn.version="18.3.1-next-f1338f8080-20240426";function R0(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(R0)}catch(e){console.error(e)}}R0(),Rh.exports=nn;var qS=Rh.exports,L0,hm=qS;L0=hm.createRoot,hm.hydrateRoot;const ev="modulepreload",tv=function(e){return"/"+e},gm={},Ds=function(t,n,r){let o=Promise.resolve();if(n&&n.length>0){document.getElementsByTagName("link");const l=document.querySelector("meta[property=csp-nonce]"),c=(l==null?void 0:l.nonce)||(l==null?void 0:l.getAttribute("nonce"));o=Promise.allSettled(n.map(u=>{if(u=tv(u),u in gm)return;gm[u]=!0;const d=u.endsWith(".css"),p=d?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${u}"]${p}`))return;const h=document.createElement("link");if(h.rel=d?"stylesheet":ev,d||(h.as="script"),h.crossOrigin="",h.href=u,c&&h.setAttribute("nonce",c),document.head.appendChild(h),d)return new Promise((g,x)=>{h.addEventListener("load",g),h.addEventListener("error",()=>x(new Error(`Unable to preload CSS for ${u}`)))})}))}function i(l){const c=new Event("vite:preloadError",{cancelable:!0});if(c.payload=l,window.dispatchEvent(c),!c.defaultPrevented)throw l}return o.then(l=>{for(const c of l||[])c.status==="rejected"&&i(c.reason);return t().catch(i)})},a={bg:"#05070A",border:"#213043",muted:"#32435A",accent:"#39DDB6",text:"#EAF1F8",dim:"#8FA0B5",danger:"#FF5D7A",dLow:"#311520",warn:"#F7B267",wLow:"#322515",ok:"#39DDB6",purple:"#8F7BFF"},j={fontFamily:"'IBM Plex Mono','SFMono-Regular',Menlo,Monaco,monospace"},Ye=(e,t=4)=>parseFloat(e||0).toFixed(t),Ms=e=>e?`${e.slice(0,18)}...${e.slice(-6)}`:"",nv=/^[qpzry9x8gf2tvdw0s3jn54khce6mua7l]+$/i,O0=["kaspa","kaspatest","kaspadev","kaspasim"],pf=(e,t=O0)=>{const n=String(e||"").trim().toLowerCase(),r=n.indexOf(":");if(r<=0||r===n.length-1)return!1;const o=n.slice(0,r),i=n.slice(r+1);return!t.map(l=>l.toLowerCase()).includes(o)||i.length<61||i.length>63?!1:nv.test(i)},rv=(e,t=O0)=>{const n=String(e||"").trim();if(!pf(n,t))throw new Error(`Invalid Kaspa address for allowed prefixes: ${t.join(", ")}`);const r=n.toLowerCase(),o=r.indexOf(":"),i=r.slice(0,o),l=r.slice(o+1);return`${i}:${l}`},ov=e=>{const t=String(e||"").toLowerCase();return t==="mainnet"?"kaspa":t.startsWith("testnet")?"kaspatest":t.startsWith("devnet")?"kaspadev":t.startsWith("simnet")?"kaspasim":"kaspa"},es=(e,t)=>{const n=rv(e),r=n.indexOf(":"),o=n.slice(r+1);return`${ov(t)}:${o}`},iv={USD:1,EUR:.92,GBP:.79,JPY:150,CAD:1.36};function sv(e,t){const n=iv[t];return e*n}function lv(e,t){const n=sv(e,t),r=2;return new Intl.NumberFormat("en-US",{style:"currency",currency:t,maximumFractionDigits:r,minimumFractionDigits:r}).format(n)}const ce={agents:"forgeos.session.agents.v2",activeAgent:"forgeos.session.activeAgent.v2",walletMeta:"forgeos.wallet.meta.v2",network:"forgeos.network",lastProvider:"forgeos.wallet.lastProvider.mainnet",autoLockMinutes:"forgeos.autolock.minutes.v1",persistUnlockSession:"forgeos.unlock.persist-session.v1",displayCurrency:"forgeos.display.currency.v1",hidePortfolioBalances:"forgeos.privacy.hide-balances.v1",kaspaRpcProviderPresetMap:"forgeos.kaspa.rpc-provider.v1",customKaspaRpcMap:"forgeos.kaspa.custom-rpc.v1",kaspaRpcPoolOverrideMap:"forgeos.kaspa.rpc-pool-overrides.v1",localNodeEnabled:"forgeos.local-node.enabled.v1",localNodeNetworkProfile:"forgeos.local-node.network-profile.v1",localNodeDataDir:"forgeos.local-node.data-dir.v1"},av=ce.network,cv=1,uv=24*60,ym=-1,Wu="official";function D0(e){if(e===ym)return ym;if(typeof e!="number"||!Number.isFinite(e))return 15;const t=Math.floor(e);return Math.min(uv,Math.max(cv,t))}function $e(){return typeof chrome<"u"&&chrome.storage?chrome.storage.local:null}function mf(e){if(typeof e!="string")return null;const t=e.trim();if(!t)return null;try{const n=new URL(t);return n.protocol!=="https:"&&n.protocol!=="http:"?null:t.replace(/\/+$/,"")}catch{return null}}function dv(e){if(typeof e!="object"||e===null)return{};const t={};for(const[n,r]of Object.entries(e)){const o=String(n||"").trim();if(!o)continue;const i=mf(r);i&&(t[o]=i)}return t}function fv(e){if(!Array.isArray(e))return[];const t=[];for(const n of e){const r=mf(n);r&&(t.includes(r)||t.push(r))}return t}function M0(e){return e==="local"?"local":e==="igra"?"igra":e==="kasplex"?"kasplex":e==="custom"?"custom":Wu}function z0(e){const t=String(e||"").trim().toLowerCase().replace(/_/g,"-");return t==="testnet-10"||t==="tn10"?"testnet-10":t==="testnet-11"||t==="tn11"?"testnet-11":t==="testnet-12"||t==="tn12"?"testnet-12":"mainnet"}function pv(e){if(typeof e!="object"||e===null)return{};const t={};for(const[n,r]of Object.entries(e)){const o=String(n||"").trim();o&&(t[o]=M0(r))}return t}function mv(e){if(typeof e!="object"||e===null)return{};const t={};for(const[n,r]of Object.entries(e)){const o=String(n||"").trim();if(!o||typeof r!="object"||r===null)continue;const i=r,l={};for(const c of["official","igra","kasplex"]){const u=fv(i[c]);u.length>0&&(l[c]=u)}(l.official||l.igra||l.kasplex)&&(t[o]=l)}return t}async function hv(){const e=$e();return e?new Promise(t=>{e.get(ce.agents,n=>{try{const r=n[ce.agents];if(!r)return t([]);const o=typeof r=="string"?JSON.parse(r):r;t(Array.isArray(o)?o:[])}catch{t([])}})}):[]}async function xm(){const e=$e();return e?new Promise(t=>{e.get(ce.walletMeta,n=>{try{const r=n[ce.walletMeta];if(!r)return t(null);const o=typeof r=="string"?JSON.parse(r):r;t(o!=null&&o.address?o:null)}catch{t(null)}})}):null}async function Vu(e){const t=$e();if(t)return new Promise(n=>{t.set({[ce.walletMeta]:JSON.stringify(e)},n)})}async function pa(){const e=$e();return e?new Promise(t=>{e.get(ce.network,n=>t(n[ce.network]||"mainnet"))}):"mainnet"}async function gv(e){const t=$e();if(t)return new Promise(n=>{t.set({[ce.network]:e},n)})}async function yv(){const e=$e();return e?new Promise(t=>{e.get(ce.autoLockMinutes,n=>{t(D0(n[ce.autoLockMinutes]))})}):15}async function xv(e){const t=$e();if(t)return new Promise(n=>{t.set({[ce.autoLockMinutes]:D0(e)},n)})}async function Sv(){const e=$e();return e?new Promise(t=>{e.get(ce.persistUnlockSession,n=>{t(n[ce.persistUnlockSession]===!0)})}):!1}async function vv(e){const t=$e();if(t)return new Promise(n=>{t.set({[ce.persistUnlockSession]:e===!0},n)})}async function wv(){const e=$e();return e?new Promise(t=>{e.get(ce.hidePortfolioBalances,n=>{t(n[ce.hidePortfolioBalances]===!0)})}):!1}async function Ev(e){const t=$e();if(t)return new Promise(n=>{t.set({[ce.hidePortfolioBalances]:e===!0},n)})}async function U0(){const e=$e();return e?new Promise(t=>{e.get(ce.kaspaRpcProviderPresetMap,n=>{try{const r=n[ce.kaspaRpcProviderPresetMap],o=typeof r=="string"?JSON.parse(r):r;t(pv(o))}catch{t({})}})}):{}}async function B0(e){const t=String(e||"").trim();return t?(await U0())[t]??Wu:Wu}async function ur(e,t){const n=$e();if(!n)return;const r=String(e||"").trim();if(!r)return;const o=await U0();return o[r]=M0(t),new Promise(i=>{n.set({[ce.kaspaRpcProviderPresetMap]:JSON.stringify(o)},i)})}async function F0(){const e=$e();return e?new Promise(t=>{e.get(ce.customKaspaRpcMap,n=>{try{const r=n[ce.customKaspaRpcMap],o=typeof r=="string"?JSON.parse(r):r;t(dv(o))}catch{t({})}})}):{}}async function $0(e){const t=String(e||"").trim();return t?(await F0())[t]??null:null}async function Sm(e,t){const n=$e();if(!n)return;const r=String(e||"").trim();if(!r)return;const o=await F0();if(t===null||t.trim()==="")delete o[r];else{const i=mf(t);if(!i)throw new Error("INVALID_RPC_ENDPOINT");o[r]=i}return new Promise(i=>{n.set({[ce.customKaspaRpcMap]:JSON.stringify(o)},i)})}async function kv(){const e=$e();return e?new Promise(t=>{e.get(ce.kaspaRpcPoolOverrideMap,n=>{try{const r=n[ce.kaspaRpcPoolOverrideMap],o=typeof r=="string"?JSON.parse(r):r;t(mv(o))}catch{t({})}})}):{}}async function Go(e,t){var o,i;const n=String(e||"").trim();if(!n)return[];const r=await kv();return(o=r[n])!=null&&o[t]?[...((i=r[n])==null?void 0:i[t])||[]]:[]}async function K0(){const e=$e();return e?new Promise(t=>{e.get(ce.localNodeEnabled,n=>{t(n[ce.localNodeEnabled]===!0)})}):!1}async function Oi(e){const t=$e();if(t)return new Promise(n=>{t.set({[ce.localNodeEnabled]:e===!0},n)})}async function H0(){const e=$e();return e?new Promise(t=>{e.get(ce.localNodeNetworkProfile,n=>{t(z0(n[ce.localNodeNetworkProfile]))})}):"mainnet"}async function Ic(e){const t=$e();if(!t)return;const n=z0(e);return new Promise(r=>{t.set({[ce.localNodeNetworkProfile]:n},r)})}async function Av(){const e=$e();return e?new Promise(t=>{e.get(ce.localNodeDataDir,n=>{const r=n[ce.localNodeDataDir];t(typeof r=="string"&&r.trim()?r.trim():null)})}):null}async function vm(e){const t=$e();if(!t)return;const n=typeof e=="string"&&e.trim()?e.trim():"";return new Promise(r=>{if(!n){t.remove(ce.localNodeDataDir,r);return}t.set({[ce.localNodeDataDir]:n},r)})}const Gu="forgeos.connected.sites.v1";function W0(){return chrome.storage.local}async function Tv(){return new Promise(e=>{W0().get(Gu,t=>{const n=t==null?void 0:t[Gu];n&&typeof n=="object"&&!Array.isArray(n)?e(n):e({})})})}async function Cv(e,t){if(!e)return;const n=await Tv();return n[e]=t,new Promise(r=>{W0().set({[Gu]:n},r)})}var fh;const _c=((fh=import.meta)==null?void 0:fh.env)??{},wm="http://127.0.0.1:19725",Iv=1500,V0=15e3,_v=8e3;function hf(){return String((_c==null?void 0:_c.VITE_LOCAL_NODE_CONTROL_URL)??wm).trim().replace(/\/+$/,"")||wm}function Nv(){return hf()}async function Si(e,t={},n=Iv){const r=new AbortController,o=setTimeout(()=>r.abort(),n);try{const i=await fetch(`${hf()}${e}`,{...t,signal:r.signal,headers:{"Content-Type":"application/json",...t.headers||{}}}),l=await i.json().catch(()=>({}));if(!i.ok)throw new Error(typeof(l==null?void 0:l.error)=="string"?l.error:`Local node control error (${i.status})`);return l}catch(i){throw i instanceof Error&&i.name==="AbortError"?new Error("Local node control timeout"):i}finally{clearTimeout(o)}}async function G0(){try{return await Si("/node/status")}catch{return null}}async function Nc(e){return Si("/node/start",{method:"POST",body:JSON.stringify({networkProfile:e.networkProfile,dataDir:e.dataDir??null})},V0)}async function bv(){return Si("/node/stop",{method:"POST"},_v)}async function Pv(e){return Si("/node/restart",{method:"POST",body:JSON.stringify({networkProfile:(e==null?void 0:e.networkProfile)??null,dataDir:(e==null?void 0:e.dataDir)??null})},V0)}async function Em(e=80){try{const t=Math.min(400,Math.max(1,Math.floor(e))),n=await Si(`/node/logs?lines=${t}`);return typeof n.logs=="string"?n.logs:""}catch{return""}}async function jv(){try{return await Si("/metrics")}catch{return null}}function Rv(e){const t=typeof(e==null?void 0:e.data)=="string"?e.data:"";if(!t)return{type:"unknown",at:Date.now(),payload:{}};try{const n=JSON.parse(t);if(n&&typeof n=="object"&&typeof n.type=="string")return n}catch{}return{type:"unknown",at:Date.now(),payload:{raw:t}}}function Lv(e){if(typeof EventSource>"u")return()=>{};const t=new EventSource(`${hf()}/events`);t.onopen=()=>{e({type:"connected",at:Date.now(),payload:{message:"Local node event stream connected."}})};const n=o=>{e(Rv(o))},r=()=>{e({type:"stream_error",at:Date.now(),payload:{message:"Local node event stream disconnected."}})};return t.addEventListener("status",n),t.addEventListener("lifecycle",n),t.addEventListener("heartbeat",n),t.addEventListener("error",n),t.onerror=r,()=>{t.removeEventListener("status",n),t.removeEventListener("lifecycle",n),t.removeEventListener("heartbeat",n),t.removeEventListener("error",n),t.close()}}function Ov(e){const t=[...new Set((e.remotePool||[]).filter(Boolean))],n=ma(e.targetNetwork),r=ma(e.localNodeProfile||""),o=e.requireLocalSynced!==!1,i=e.localNodeSynced!==!1;if(!!(e.localNodeEnabled&&e.localNodeHealthy&&(!o||i)&&e.localRpcEndpoint&&n&&r&&n===r)){const u=String(e.localRpcEndpoint).trim(),d=t.filter(p=>p!==u);return{pool:[u,...d],source:"local",reason:"local_node_enabled_and_healthy"}}const c=e.localNodeEnabled?e.localNodeHealthy?o&&!i?"local_node_syncing":n!==r?"local_profile_mismatch":"local_endpoint_missing":"local_node_unhealthy":"local_node_disabled";return{pool:t,source:"remote",reason:c}}function ma(e){const t=String(e||"").trim().toLowerCase().replace(/_/g,"-");return t?t==="mainnet"||t==="main"?"mainnet":t==="testnet-10"||t==="tn10"?"testnet-10":t==="testnet-11"||t==="tn11"?"testnet-11":t==="testnet-12"||t==="tn12"?"testnet-12":t==="testnet"?"testnet-10":t:""}const fn={mainnet:["https://api.kaspa.org"],"testnet-10":["https://api-tn10.kaspa.org"],"testnet-11":["https://api-tn11.kaspa.org"],"testnet-12":["https://api-tn12.kaspa.org"]},Sl={mainnet:[...fn.mainnet],"testnet-10":[...fn["testnet-10"]],"testnet-11":[...fn["testnet-11"]],"testnet-12":[...fn["testnet-12"]]},vl={mainnet:[...fn.mainnet],"testnet-10":[...fn["testnet-10"]],"testnet-11":[...fn["testnet-11"]],"testnet-12":[...fn["testnet-12"]]};function pn(e,t){var o,i;const n=(i=(o=import.meta)==null?void 0:o.env)==null?void 0:i[e];if(typeof n!="string"||!n.trim())return t;const r=n.split(/[,\s]+/).map(l=>l.trim()).filter(Boolean).filter((l,c,u)=>u.indexOf(l)===c);return r.length?r:t}const vr={mainnet:pn("VITE_KASPA_MAINNET_API_ENDPOINTS",fn.mainnet),"testnet-10":pn("VITE_KASPA_TN10_API_ENDPOINTS",fn["testnet-10"]),"testnet-11":pn("VITE_KASPA_TN11_API_ENDPOINTS",fn["testnet-11"]),"testnet-12":pn("VITE_KASPA_TN12_API_ENDPOINTS",fn["testnet-12"])},Dv={mainnet:pn("VITE_KASPA_IGRA_MAINNET_API_ENDPOINTS",Sl.mainnet),"testnet-10":pn("VITE_KASPA_IGRA_TN10_API_ENDPOINTS",Sl["testnet-10"]),"testnet-11":pn("VITE_KASPA_IGRA_TN11_API_ENDPOINTS",Sl["testnet-11"]),"testnet-12":pn("VITE_KASPA_IGRA_TN12_API_ENDPOINTS",Sl["testnet-12"])},Mv={mainnet:pn("VITE_KASPA_KASPLEX_MAINNET_API_ENDPOINTS",vl.mainnet),"testnet-10":pn("VITE_KASPA_KASPLEX_TN10_API_ENDPOINTS",vl["testnet-10"]),"testnet-11":pn("VITE_KASPA_KASPLEX_TN11_API_ENDPOINTS",vl["testnet-11"]),"testnet-12":pn("VITE_KASPA_KASPLEX_TN12_API_ENDPOINTS",vl["testnet-12"])};vr.mainnet[0],vr["testnet-10"][0],vr["testnet-11"][0],vr["testnet-12"][0];const zv=12e3,Uv=2,Bv=600,Fv=3e3;var ph,mh;const $v=String(((mh=(ph=import.meta)==null?void 0:ph.env)==null?void 0:mh.VITE_LOCAL_NODE_REQUIRE_SYNC_FOR_SELECTION)??"true").trim().toLowerCase()!=="false";function Q0(e){return e===408||e===429||e>=500}const Kv=4,Hv=3e4,ts={},ns={};let km=!1,Qu=null;const Xu="forgeos.rpc.health.v1";async function Wv(){if(!km){km=!0;try{const e=await chrome.storage.session.get(Xu),t=e==null?void 0:e[Xu];if(t&&typeof t=="object")for(const[n,r]of Object.entries(t))typeof r=="object"&&r!==null&&(ns[n]=r)}catch{}}}function X0(){chrome.storage.session.set({[Xu]:ns}).catch(()=>{})}function Ts(e){return ns[e]||(ns[e]={lastOkAt:0,lastFailAt:0,consecutiveFails:0,lastLatencyMs:0,lastStatus:0,lastError:""}),ns[e]}function Vv(e,t,n=200){const r=Ts(e);r.lastOkAt=Date.now(),r.consecutiveFails=0,r.lastLatencyMs=t,r.lastStatus=n,r.lastError="",X0()}function Am(e,t,n=0){const r=Ts(e);r.lastFailAt=Date.now(),r.consecutiveFails+=1,r.lastStatus=n,r.lastError=t,X0()}function ha(e){ts[e]||(ts[e]={state:"closed",failures:0,openAt:0});const t=ts[e];return t.state==="open"&&Date.now()-t.openAt>Hv&&(t.state="half-open"),t}function Gv(e){const t=ts[e];t&&(t.failures=0,t.state="closed")}function Qv(e){const t=ts[e];t&&(t.failures++,t.failures>=Kv&&(t.state="open",t.openAt=Date.now()))}function Xv(e){return[...new Set((e||[]).filter(Boolean))].map(n=>{const r=ha(n),o=Ts(n);return{base:n,circuit:r.state,failures:r.failures,lastOkAt:o.lastOkAt,lastFailAt:o.lastFailAt,consecutiveFails:o.consecutiveFails,lastLatencyMs:o.lastLatencyMs,lastStatus:o.lastStatus,lastError:o.lastError}})}function Di(e){return[...e].sort((n,r)=>{const o=ha(n),i=ha(r);if(o.state==="open"&&i.state!=="open")return 1;if(i.state==="open"&&o.state!=="open")return-1;const l=Ts(n),c=Ts(r);return l.lastOkAt!==c.lastOkAt?c.lastOkAt-l.lastOkAt:l.consecutiveFails!==c.consecutiveFails?l.consecutiveFails-c.consecutiveFails:0})}function Yv(e){return e==="testnet-10"?"TN10":e==="testnet-11"?"TN11":e==="testnet-12"?"TN12":"MAINNET"}function Y0(e,t){const n=vr[e]??vr.mainnet;if(t==="local")return{pool:n,usedOfficialFallback:!1};if(t==="igra"){const r=Dv[e]??[];return{pool:r.length?r:n,usedOfficialFallback:r.length===0}}if(t==="kasplex"){const r=Mv[e]??[];return{pool:r.length?r:n,usedOfficialFallback:r.length===0}}return{pool:n,usedOfficialFallback:!1}}function Jv(e,t,n=null,r){var E,w,A;const o=ma(e)||"mainnet",i=[...r!=null&&r.official&&r.official.length>0?r.official:vr[o]??vr.mainnet],l=Y0(o,t);let c=[...l.pool],u=l.usedOfficialFallback;t==="official"&&((E=r==null?void 0:r.official)!=null&&E.length)?(c=[...r.official],u=!1):t==="igra"&&((w=r==null?void 0:r.igra)!=null&&w.length)?(c=[...r.igra],u=!1):t==="kasplex"&&((A=r==null?void 0:r.kasplex)!=null&&A.length)&&(c=[...r.kasplex],u=!1);const d=String(n||"").trim(),p=Yv(o);let h=[];t==="igra"?h=[`VITE_KASPA_IGRA_${p}_API_ENDPOINTS`]:t==="kasplex"?h=[`VITE_KASPA_KASPLEX_${p}_API_ENDPOINTS`]:t==="local"?h=["VITE_LOCAL_NODE_CONTROL_URL"]:t==="custom"&&(h=["(custom endpoint saved in extension storage)"]);let g=[...c];return t==="custom"&&d&&(g=[d,...i.filter(f=>f!==d)]),{network:o,preset:t,officialPool:i,providerPool:c,effectivePool:g,usesOfficialFallback:!!((t==="igra"||t==="kasplex")&&u)||t==="custom"&&!d,requiredEnvKeys:h}}const Cs=new Map,Zv=5e3;function J0(e){e?Cs.delete(e):Cs.clear(),Qu=null}async function qv(){const e=Qu;if(e&&Date.now()<e.expiresAt)return e.value;const t=await G0();return Qu={value:t,expiresAt:Date.now()+Fv},t}async function gf(e){var E,w,A,f,m,y;await Wv();const t=Cs.get(e);if(t&&Date.now()<t.expiresAt)return t.pool;let n="official";try{n=await B0(e)}catch{n="official"}const[r,o,i]=await Promise.all([Go(e,"official").catch(()=>[]),Go(e,"igra").catch(()=>[]),Go(e,"kasplex").catch(()=>[])]),l=n==="official"&&r.length>0?[...r]:n==="igra"&&o.length>0?[...o]:n==="kasplex"&&i.length>0?[...i]:[...Y0(e,n).pool];let c;if(n!=="custom")c=Di(l);else{let v=null;try{v=await $0(e)}catch{v=null}if(v){const _=l.filter(I=>I!==v);c=Di([v,..._])}else c=Di(l)}let u=!1,d="mainnet";try{[u,d]=await Promise.all([K0(),H0()])}catch{u=!1}const p=await qv(),h=!!(p!=null&&p.ok&&((E=p==null?void 0:p.status)!=null&&E.running)&&((w=p==null?void 0:p.status)!=null&&w.rpcHealthy)&&((A=p==null?void 0:p.status)!=null&&A.rpcBaseUrl)),g=!!((m=(f=p==null?void 0:p.status)==null?void 0:f.sync)!=null&&m.synced),x=Ov({targetNetwork:e,remotePool:c,localNodeEnabled:u,localNodeHealthy:h,localNodeSynced:g,requireLocalSynced:$v,localNodeProfile:d,localRpcEndpoint:((y=p==null?void 0:p.status)==null?void 0:y.rpcBaseUrl)??null});if(x.source==="local"&&x.pool.length>0){const[v,..._]=x.pool;c=[v,...Di(_)]}else c=Di(x.pool);return Cs.set(e,{pool:c,source:x.source,reason:x.reason,expiresAt:Date.now()+Zv}),c}async function Z0(e="mainnet"){const t=ma(e)||"mainnet",n=await gf(t),r=Cs.get(t);return{network:t,source:(r==null?void 0:r.source)??"remote",reason:(r==null?void 0:r.reason)??"unknown",activeEndpoint:n[0]??null,pool:[...n]}}async function q0(e,t,n){if(ha(e).state==="open")throw new wr(`Circuit open for ${e}  backing off`,503);let o=null;for(let i=0;i<=Uv;i++){i>0&&await new Promise(d=>setTimeout(d,Bv*2**(i-1)));const l=new AbortController,c=setTimeout(()=>l.abort(),zv),u=Date.now();try{const d=await fetch(`${e}${t}`,{...n,signal:l.signal});if(clearTimeout(c),!d.ok){const h=await d.text().catch(()=>"");throw Am(e,`HTTP ${d.status}`,d.status),new wr(`HTTP ${d.status}: ${h.slice(0,120)}`,d.status)}const p=await d.json();return Gv(e),Vv(e,Date.now()-u,d.status),p}catch(d){if(clearTimeout(c),d instanceof wr&&!Q0(d.status))throw d;const p=d instanceof Error?d.message:String(d);Am(e,p),o=d instanceof Error?d:new Error(String(d))}}throw Qv(e),o??new wr("Unknown API error",0)}async function co(e,t,n){const r=await gf(e);let o=null;for(const i of r)try{return await q0(i,t,n)}catch(l){if(l instanceof wr&&!Q0(l.status))throw l;o=l instanceof Error?l:new Error(String(l))}throw o??new wr("Unknown API error",0)}class wr extends Error{constructor(t,n){super(t),this.status=n,this.name="KaspaApiError"}}const ey={mainnet:10,"testnet-10":10,"testnet-11":32,"testnet-12":10};async function ew(e,t="mainnet"){return co(t,`/addresses/${encodeURIComponent(e)}/utxos`)}async function tw(e,t="mainnet"){const n=await co(t,`/addresses/${encodeURIComponent(e)}/balance`);return BigInt((n==null?void 0:n.balance)??0)}async function nw(e="mainnet"){try{const t=await co(e,"/info/price?stringOnly=false");return(t==null?void 0:t.price)??0}catch{return 0}}async function rw(e="mainnet"){var t;try{const n=await co(e,"/info/fee-estimate");return((t=n==null?void 0:n.priorityBucket)==null?void 0:t.feerate)??1}catch{return 1}}async function AC(e,t,n="mainnet"){const r=await rw(n),o=239+142*e+51*t;return BigInt(Math.max(Math.ceil(o*r),1e3))}async function ow(e,t="mainnet"){const n=await co(t,"/transactions",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)}),r=(n==null?void 0:n.transactionId)??(n==null?void 0:n.txid)??"";if(!r)throw new wr("Broadcast succeeded but no txId returned",200);return r}async function iw(e,t="mainnet"){try{return await co(t,`/transactions/${e}`)}catch(n){if(n instanceof wr&&n.status===404)return null;throw n}}async function ty(e="mainnet"){try{return await co(e,"/info/blockdag")}catch{return null}}async function sw(e="mainnet"){const t=await gf(e);return await Promise.all(t.map(async n=>{try{await q0(n,"/info/blockdag")}catch{}})),Xv(t)}async function lw(e,t="mainnet"){const n=await tw(e,t);return Number(n)/1e8}async function ny(e="mainnet"){return nw(e)}const aw="forgeos.ui.patch.v1";function cw(e){if(!e||typeof e!="object")return!1;const t=e;return t.type==="FORGEOS_UI_PATCH"&&Array.isArray(t.patches)}const Lt=Object.freeze({path:"m/44'/111'",account:0,chain:0,index:0}),yf=Object.freeze(["m/44'/111'","m/44'/972'"]);function Tm(e,t){const n=typeof e=="number"?e:Number(e);return!Number.isFinite(n)||n<0?t:Math.floor(n)}function uw(e){const t=String(e??"").trim();return t?t.startsWith("m")?t:`m/${t}`:Lt.path}function qt(e){return{path:uw(e==null?void 0:e.path),account:Tm(e==null?void 0:e.account,Lt.account),chain:(e==null?void 0:e.chain)===1?1:0,index:Tm(e==null?void 0:e.index,Lt.index)}}function An(e){const t=qt(e);return`${t.path}/${t.account}'/${t.chain}/${t.index}`}function xf(e){return e===1?"change":"receive"}function dw(e){const n=String(e||"").trim().match(/^(m(?:\/\d+'?)*)\/(\d+)'\s*\/([01])\s*\/(\d+)$/i);if(!n)throw new Error("Invalid derivation path. Expected format like m/44'/111'/0'/0/0");return qt({path:n[1],account:Number(n[2]),chain:Number(n[3]),index:Number(n[4])})}const fw=6e5,pw=["encrypt","decrypt"];async function mw(e,t){const n=new TextEncoder,r=await crypto.subtle.importKey("raw",n.encode(e),{name:"PBKDF2"},!1,["deriveKey"]);return crypto.subtle.deriveKey({name:"PBKDF2",salt:new Uint8Array(t),iterations:fw,hash:"SHA-256"},r,{name:"AES-GCM",length:256},!1,pw)}function Cm(e){return crypto.getRandomValues(new Uint8Array(e))}const ry={memoryMB:64,iterations:3,parallelism:4,hashLength:32};async function oy(e,t,n=ry){const{argon2id:r}=await Ds(async()=>{const{argon2id:l}=await import("../../index.esm.js");return{argon2id:l}},[]),o=await r({password:e,salt:t,memorySize:n.memoryMB*1024,iterations:n.iterations,parallelism:n.parallelism,hashLength:n.hashLength,outputType:"hex"}),i=new Uint8Array(o.match(/.{2}/g).map(l=>parseInt(l,16)));return crypto.subtle.importKey("raw",i,{name:"AES-GCM"},!1,["encrypt","decrypt"])}function bc(e){if(e.length%2!==0)throw new Error("Invalid hex string length");const t=new Uint8Array(e.length/2);for(let n=0;n<e.length;n+=2)t[n>>1]=parseInt(e.slice(n,n+2),16);return t}function Pc(e){return Array.from(e).map(t=>t.toString(16).padStart(2,"0")).join("")}async function hw(e,t,n){const r=await crypto.subtle.encrypt({name:"AES-GCM",iv:new Uint8Array(t)},e,new Uint8Array(n));return new Uint8Array(r)}async function gw(e,t,n){const r=await crypto.subtle.decrypt({name:"AES-GCM",iv:new Uint8Array(t)},e,new Uint8Array(n));return new Uint8Array(r)}const Yu="forgeos.vault.v1",ga="forgeos.vault.session-cache.v1",Sf=-1,vf=15;let Bt=null,Bo=null;function yw(e){return(Bo==null?void 0:Bo.address)===e?Bo.keyHex:null}function xw(e,t){Bo={address:e,keyHex:t}}function iy(e){return!Number.isFinite(e)||e<=0?Number.POSITIVE_INFINITY:Date.now()+e*6e4}function Sw(e){return Number.isFinite(e)?e:Sf}function vw(e){return e===Sf?Number.POSITIVE_INFINITY:typeof e!="number"||!Number.isFinite(e)?null:e}function ya(e){try{if(!Number.isFinite(e)||e<=0){chrome.runtime.sendMessage({type:"CANCEL_AUTOLOCK"});return}chrome.runtime.sendMessage({type:"SCHEDULE_AUTOLOCK",minutes:e})}catch{}}function oo(){return Bt?Date.now()>Bt.autoLockAt?(za(),vi(),null):Bt:null}function za(){if(Bt){try{Bt.mnemonic=""}catch{}Bt=null}Bo=null}function wf(){return chrome.storage.local}function Ef(){var t;return((t=chrome.storage)==null?void 0:t.session)??null}async function kf(){return new Promise(e=>{wf().get(Yu,t=>{try{const n=t[Yu];if(!n)return e(null);e(JSON.parse(n))}catch{e(null)}})})}async function ww(e){return new Promise(t=>{wf().set({[Yu]:JSON.stringify(e)},t)})}async function Af(e){const t=Ef();if(t)return new Promise(n=>{t.set({[ga]:{version:1,mnemonic:e.mnemonic,mnemonicPassphrase:e.mnemonicPassphrase,derivation:e.derivation,address:e.address,network:e.network,autoLockAt:Sw(e.autoLockAt)}},n)})}async function vi(){const e=Ef();if(e)return new Promise(t=>{e.remove(ga,t)})}async function Ew(){const e=Ef();return e?new Promise(t=>{e.get(ga,n=>{const r=n==null?void 0:n[ga];if(!r||typeof r!="object"){t(null);return}const o=vw(r.autoLockAt);if(o===null){t(null);return}const i=typeof r.mnemonic=="string"?r.mnemonic:"",l=typeof r.address=="string"?r.address:"",c=typeof r.network=="string"?r.network:"";if(!i||!l||!c){t(null);return}t({mnemonic:i,mnemonicPassphrase:typeof r.mnemonicPassphrase=="string"?r.mnemonicPassphrase:void 0,derivation:qt(r.derivation??Lt),address:l,network:c,autoLockAt:o})})}):null}async function sy(){return await kf()!==null}async function Is(e,t,n,r,o={}){var E;const i=Cm(32),l=Cm(12),c=ry,u=await oy(t,i,c),d=qt(o.derivation??Lt),p={version:1,mnemonic:e,mnemonicPassphrase:o.mnemonicPassphrase||void 0,derivation:d,address:n,network:r,derivationPath:`${d.path}/${d.account}'`,addressIndex:d.index},h=new TextEncoder().encode(JSON.stringify(p)),g=await hw(u,l,h),x={version:2,kdf:"argon2id",argon:c,salt:Pc(i),iv:Pc(l),ciphertext:Pc(g),createdAt:((E=await kf())==null?void 0:E.createdAt)??Date.now(),updatedAt:Date.now()};await ww(x)}async function io(e,t=vf,n={}){const r=await kf();if(!r)throw new Error("NO_VAULT");const o=bc(r.salt),i=bc(r.iv),l=bc(r.ciphertext);let c;r.version===2&&r.kdf==="argon2id"?c=await oy(e,o,r.argon):c=await mw(e,o);let u;try{u=await gw(c,i,l)}catch{throw new Error("INVALID_PASSWORD")}const d=JSON.parse(new TextDecoder().decode(u));return Bt={mnemonic:d.mnemonic,mnemonicPassphrase:typeof d.mnemonicPassphrase=="string"?d.mnemonicPassphrase:void 0,derivation:qt(d.derivation??{path:"m/44'/111'",account:0,chain:0,index:typeof d.addressIndex=="number"?d.addressIndex:0}),address:d.address,network:d.network,autoLockAt:iy(t)},ya(t),n.persistSession?await Af(Bt):await vi(),r.version!==2&&Is(d.mnemonic,e,d.address,d.network,{mnemonicPassphrase:d.mnemonicPassphrase,derivation:d.derivation}).catch(()=>{}),Bt}async function ly(){const e=await Ew();if(!e)return null;if(Date.now()>e.autoLockAt)return await vi(),null;if(Bt=e,Number.isFinite(e.autoLockAt)){const t=Math.max(0,(e.autoLockAt-Date.now())/6e4);ya(t)}else ya(Sf);return Bt}async function Ju(e){if(!e){await vi();return}const t=oo();t&&await Af(t)}function ay(){za(),vi();try{chrome.runtime.sendMessage({type:"CANCEL_AUTOLOCK"})}catch{}}async function cy(e,t){if(t.length<8)throw new Error("WEAK_PASSWORD");const n=await io(e);await Is(n.mnemonic,t,n.address,n.network,{mnemonicPassphrase:n.mnemonicPassphrase,derivation:n.derivation}),za(),await io(t)}async function uy(){za(),await vi(),await new Promise(e=>wf().clear(e))}function Hi(e=vf,t={}){Bt&&(Bt.autoLockAt=iy(e),ya(e),t.persistSession&&Af(Bt))}const kw=Object.freeze(Object.defineProperty({__proto__:null,DEFAULT_AUTO_LOCK_MINUTES:vf,changePassword:cy,createVault:Is,extendSession:Hi,getCachedPrivKey:yw,getSession:oo,lockWallet:ay,resetWallet:uy,restoreSessionFromCache:ly,setCachedPrivKey:xw,setSessionPersistence:Ju,unlockVault:io,vaultExists:sy},Symbol.toStringTag,{value:"Module"})),Aw="/kaspa_wasm_bg.wasm";let wl=null,El=null;function Tw(){return globalThis.__forgeosKaspaWasmBytes||globalThis.__FORGEOS_KASPA_WASM_BYTES__}function Cw(e){globalThis.__forgeosKaspaWasmBytes=e,globalThis.__FORGEOS_KASPA_WASM_BYTES__=e}function Iw(e){var t,n,r,o;return e!=null&&e.Mnemonic?e:(t=e==null?void 0:e.default)!=null&&t.Mnemonic?e.default:(n=e==null?void 0:e.k)!=null&&n.Mnemonic?e.k:(o=(r=e==null?void 0:e.k)==null?void 0:r.default)!=null&&o.Mnemonic?e.k.default:e}async function _w(){Tw()||(El||(El=(async()=>{const e=await fetch(Aw);if(!e.ok)throw new Error(`WASM_FETCH_FAILED: ${e.status} ${e.statusText}`);const t=await e.arrayBuffer();Cw(new Uint8Array(t))})().catch(e=>{throw El=null,e})),await El)}async function dy(){return wl||(wl=(async()=>{try{await _w();const e=await Ds(()=>import("../../kaspa_wasm.js").then(r=>r.k),[]),t=Iw(e),n=t.default||t.init;if(typeof n=="function")try{await n()}catch{}return t}catch(e){const t=e instanceof Error?e.message:String(e);throw new Error(`KASPA_WASM_INIT_FAILED: ${t}`)}})().catch(e=>{throw wl=null,e})),wl}var hh;const Mi=((hh=import.meta)==null?void 0:hh.env)??{};function Nw(e){return e==="mainnet"?Mi.VITE_KAS_WS_URL_MAINNET||Mi.VITE_KAS_WS_URL||"wss://api.kaspa.org/ws":e==="testnet-10"?Mi.VITE_KAS_WS_URL_TESTNET||"wss://api-tn10.kaspa.org/ws":e==="testnet-11"?Mi.VITE_KAS_WS_URL_TESTNET||"wss://api-tn11.kaspa.org/ws":Mi.VITE_KAS_WS_URL||"wss://api.kaspa.org/ws"}let In=null,Zu=null,ai="disconnected",Qo=null,Fl=5e3;const Co=new Map,qu=new Set,ed=new Set;function Io(e){ai=e}function Im(e){Qo||(Qo=setTimeout(async()=>{Qo=null,await fy(e).catch(()=>{})},Fl),Fl=Math.min(Fl*2,6e4))}function bw(){Fl=5e3}async function Pw(){var t,n;if(!In||ai!=="connected")return;const e=In;try{await((t=e.subscribeVirtualDaaScoreChanged)==null?void 0:t.call(e))}catch{}for(const r of ed)try{await((n=e.subscribeUtxosChanged)==null?void 0:n.call(e,{addresses:[r]}))}catch{}}async function fy(e){if(!(Zu===e&&(ai==="connected"||ai==="connecting"))){In&&await py(),Io("connecting"),Zu=e;try{const n=(await dy()).RpcClient;if(!n){Io("error");return}const r=Nw(e),o=new n({url:r});In=o;const i=o;typeof i.addEventListener=="function"&&(i.addEventListener("connect",()=>{Io("connected"),bw(),Pw().catch(()=>{})}),i.addEventListener("disconnect",()=>{Io("disconnected"),Im(e)}),i.addEventListener("utxos-changed",l=>{var d;const c=l,u=new Set;for(const p of[...(c==null?void 0:c.added)??[],...(c==null?void 0:c.removed)??[]]){const h=(d=p==null?void 0:p.address)==null?void 0:d.payload;h&&u.add(h)}for(const p of u){J0();const h=Co.get(p);if(h)for(const g of h)g()}}),i.addEventListener("virtual-daa-score-changed",l=>{const c=l==null?void 0:l.virtualDaaScore;if(c!==void 0)for(const u of qu)u(c)})),typeof i.connect=="function"&&await i.connect()}catch{Io("error"),Im(e)}}}async function py(){if(Qo&&(clearTimeout(Qo),Qo=null),In){const e=In;try{typeof e.disconnect=="function"&&await e.disconnect()}catch{}In=null}Zu=null,Io("disconnected")}function jw(e,t){var n;if(!Co.has(e)&&(Co.set(e,new Set),ed.add(e),In&&ai==="connected")){const r=In;(n=r.subscribeUtxosChanged)==null||n.call(r,{addresses:[e]}).catch(()=>{})}return Co.get(e).add(t),()=>{var o;const r=Co.get(e);if(r&&(r.delete(t),r.size===0&&(Co.delete(e),ed.delete(e),In&&ai==="connected"))){const i=In;(o=i.unsubscribeUtxosChanged)==null||o.call(i,{addresses:[e]}).catch(()=>{})}}}function Rw(e){return qu.add(e),()=>{qu.delete(e)}}const td="forgeos.pending.txs.v1",Lw=7*24*60*60*1e3;let zn=[],_m=!1;function my(e){return["CONFIRMED","FAILED","CANCELLED"].includes(e.state)}async function hy(){return new Promise(e=>{const t=zn.map(Dw);chrome.storage.local.set({[td]:JSON.stringify(t)},e)})}async function Ua(){return _m?zn:(_m=!0,new Promise(e=>{chrome.storage.local.get(td,t=>{try{const n=t[td];if(!n){e([]);return}const r=JSON.parse(n).map(Mw),o=Date.now()-Lw;zn=r.filter(i=>!(my(i)&&i.builtAt<o))}catch{zn=[]}e(zn)})}))}async function TC(e){await Ua(),zn.push(e),await hy()}async function ci(e){await Ua();const t=zn.findIndex(n=>n.id===e.id);t>=0?zn[t]=e:zn.push(e),await hy()}async function Ow(e){return await Ua(),zn.filter(t=>t.fromAddress.toLowerCase()===e.toLowerCase()&&!my(t))}async function CC(e){const t=await Ow(e),n=new Set;for(const r of t)for(const o of r.inputs)n.add(`${o.txId}:${o.outputIndex}`);return n}function Dw(e){return{...e,fee:e.fee.toString(),changeOutput:e.changeOutput?{...e.changeOutput,amount:e.changeOutput.amount.toString()}:null,outputs:e.outputs.map(t=>({...t,amount:t.amount.toString()})),inputs:e.inputs.map(t=>({...t,amount:t.amount.toString(),blockDaaScore:t.blockDaaScore.toString()}))}}function Mw(e){return{...e,fee:BigInt(e.fee),changeOutput:e.changeOutput?{...e.changeOutput,amount:BigInt(e.changeOutput.amount)}:null,outputs:e.outputs.map(t=>({...t,amount:BigInt(t.amount)})),inputs:e.inputs.map(t=>({...t,amount:BigInt(t.amount),blockDaaScore:BigInt(t.blockDaaScore),scriptClass:t.scriptClass==="covenant"?"covenant":"standard"}))}}const zw=3e4,Tf=new Map;function Uw(e){return String(e||"").trim().toLowerCase()}function Bw(e,t){if(e!==0)return!1;const n=Uw(t);return/^20[0-9a-f]{64}ac$/.test(n)}function Fw(e,t){return Bw(e,t)?"standard":"covenant"}function $w(e){const t=Tf.get(e.toLowerCase());return!t||Date.now()-t.lastSyncAt>zw?null:t}function Kw(e){Tf.delete(e.toLowerCase())}function Hw(e){const t=e.utxoEntry.scriptPublicKey.version,n=e.utxoEntry.scriptPublicKey.scriptPublicKey;return{txId:e.outpoint.transactionId,outputIndex:e.outpoint.index,address:e.address,amount:BigInt(e.utxoEntry.amount),scriptPublicKey:n,scriptVersion:t,scriptClass:Fw(t,n),blockDaaScore:BigInt(e.utxoEntry.blockDaaScore),isCoinbase:e.utxoEntry.isCoinbase}}async function gy(e,t,n=new Set,r=0n){const i=(await ew(e,t)).map(Hw),l=i.reduce((u,d)=>u+d.amount,0n),c={address:e.toLowerCase(),utxos:i,confirmedBalance:l,pendingOutbound:r,lastSyncAt:Date.now()};return Tf.set(e.toLowerCase(),c),c}async function Ww(e,t,n,r){const o=$w(e);return o||gy(e,t,n,r)}function IC(e,t,n,r=new Set){const o=e.filter(d=>!r.has(`${d.txId}:${d.outputIndex}`)),i=o.filter(d=>(d.scriptClass??"standard")==="standard").sort((d,p)=>p.amount>d.amount?1:p.amount<d.amount?-1:0),l=t+n;let c=0n;const u=[];for(const d of i)if(u.push(d),c+=d.amount,c>=l)break;if(c<l)throw o.reduce((p,h)=>p+h.amount,0n)>=l?new Error("COVENANT_ONLY_FUNDS"):new Error("INSUFFICIENT_FUNDS");return{selected:u,total:c}}function Xr(e){return Number(e)/1e8}function _C(e){return BigInt(Math.floor(e*1e8))}const Vw=1e3,Gw=5*6e4;async function yy(e,t="mainnet"){const n=await Z0(t);try{const r=await iw(e,t);return{txId:e,network:t,checkedAt:Date.now(),confirmed:!!(r!=null&&r.acceptingBlockHash),acceptingBlockHash:(r==null?void 0:r.acceptingBlockHash)??null,backend:n,error:null}}catch(r){return{txId:e,network:t,checkedAt:Date.now(),confirmed:!1,acceptingBlockHash:null,backend:n,error:r instanceof Error?r.message:String(r)}}}function Qw(e,t){return{...e,receiptCheckedAt:t.checkedAt,receiptSourceBackend:t.backend.source,receiptSourceReason:t.backend.reason,receiptSourceEndpoint:t.backend.activeEndpoint,acceptingBlockHash:t.acceptingBlockHash}}async function Xw(e,t={}){if(!e.txId)throw new Error("NO_TXID: cannot reconcile receipt without txId");const n=Math.max(1e3,Math.floor(t.timeoutMs??Gw)),r=Math.max(250,Math.floor(t.pollIntervalMs??Vw)),o=Date.now()+n;let i=0,l={...e,state:"CONFIRMING"};for(;Date.now()<o;){await Yw(r);const c=await yy(e.txId,e.network);if(i+=1,t.onProbe&&await t.onProbe(c),l=Qw(l,c),l={...l,receiptProbeAttempts:i},c.confirmed)return{...l,state:"CONFIRMED",confirmations:1,confirmedAt:c.checkedAt,signedTxPayload:void 0}}return{...l,state:"FAILED",error:"CONFIRM_TIMEOUT: transaction not confirmed within timeout window"}}function Yw(e){return new Promise(t=>setTimeout(t,e))}const Jw=1e3,Zw=5*6e4;async function NC(e){if(e.txId)return console.info(`[broadcast] tx ${e.id} already has txId=${e.txId}; skipping re-broadcast`),{...e,state:"CONFIRMING"};if(!e.signedTxPayload)throw new Error("NOT_SIGNED");let t;try{t=JSON.parse(e.signedTxPayload)}catch{throw new Error("BROADCAST_FAILED: signedTxPayload is not valid JSON")}let n;try{n=await ow(t,e.network)}catch(o){const i=o instanceof Error?o.message:String(o),l={...e,state:"FAILED",error:`BROADCAST_FAILED: ${i}`};throw await ci(l),new Error(`BROADCAST_FAILED: ${i}`)}const r={...e,state:"BROADCASTING",txId:n,broadcastAt:Date.now(),signedTxPayload:void 0};return await ci(r),Kw(e.fromAddress),{...r,state:"CONFIRMING"}}async function qw(e,t=()=>{}){if(!e.txId)throw new Error("NO_TXID: cannot poll without txId");let n=0;const r=await Xw({...e,state:"CONFIRMING"},{timeoutMs:Zw,pollIntervalMs:Jw,onProbe:async o=>{n+=1;const i={...e,state:"CONFIRMING",receiptCheckedAt:o.checkedAt,receiptProbeAttempts:n,receiptSourceBackend:o.backend.source,receiptSourceReason:o.backend.reason,receiptSourceEndpoint:o.backend.activeEndpoint,acceptingBlockHash:o.acceptingBlockHash};await ci(i),t(i)}});if(await ci(r),t(r),r.state==="FAILED")throw new Error(r.error||"CONFIRM_TIMEOUT");return r}var gh;const _e=((gh=import.meta)==null?void 0:gh.env)??{};function Nm(e,t){const n=_e==null?void 0:_e[e];return typeof n!="string"?t:n.trim().toLowerCase()==="true"?!0:n.trim().toLowerCase()==="false"?!1:t}function zi(e,t,n,r){const o=_e==null?void 0:_e[e],i=Number(o);return Number.isFinite(i)?Math.min(r,Math.max(n,Math.floor(i))):t}function eE(e,t){const n=String((_e==null?void 0:_e[e])??"").trim();if(!n)return t;const r=n.split(/[,\s]+/).map(i=>Number(i)).filter(i=>Number.isInteger(i)&&i>0),o=[...new Set(r)];return o.length?o:t}function tE(e,t){const n=String((_e==null?void 0:_e[e])??"").trim().toLowerCase();return n==="kaspa_native"||n==="evm_0x"||n==="blocked"?n:t}const ge={enabled:Nm("VITE_SWAP_ENABLED",!0),routeSource:tE("VITE_SWAP_ROUTE_SOURCE","kaspa_native"),maxSlippageBps:zi("VITE_SWAP_MAX_SLIPPAGE_BPS",500,1,2e3),defaultSlippageBps:zi("VITE_SWAP_DEFAULT_SLIPPAGE_BPS",50,1,2e3),dexEndpoint:String((_e==null?void 0:_e.VITE_SWAP_DEX_ENDPOINT)??"").trim()||null,evmChainIdAllowlist:eE("VITE_SWAP_EVM_CHAIN_IDS",[1]),requireExternalEvmSigner:Nm("VITE_SWAP_REQUIRE_EXTERNAL_EVM_SIGNER",!0),zeroExQuoteEndpoint:String((_e==null?void 0:_e.VITE_SWAP_ZEROX_QUOTE_ENDPOINT)??"https://api.0x.org/swap/allowance-holder/quote").trim()||null,zeroExApiKey:String((_e==null?void 0:_e.VITE_SWAP_ZEROX_API_KEY)??"").trim(),zeroExExpectedSettlerTo:String((_e==null?void 0:_e.VITE_SWAP_ZEROX_EXPECTED_SETTLER_TO)??"").trim(),zeroExExpectedAllowanceSpender:String((_e==null?void 0:_e.VITE_SWAP_ZEROX_EXPECTED_ALLOWANCE_SPENDER)??"").trim(),settlementRequiredConfirmations:zi("VITE_SWAP_SETTLEMENT_CONFIRMATIONS",2,1,128),settlementPollIntervalMs:zi("VITE_SWAP_SETTLEMENT_POLL_MS",4e3,500,6e4),settlementTimeoutMs:zi("VITE_SWAP_SETTLEMENT_TIMEOUT_MS",24e4,15e3,36e5)},bm=!0,nE=!0,xy={tokens:{KAS:{id:"KAS",symbol:"KAS",name:"Kaspa",decimals:8,assetId:null,enabled:!0,disabledReason:null},USDT:{id:"USDT",symbol:"USDT",name:"Tether USD",decimals:6,assetId:null,enabled:bm,disabledReason:null},USDC:{id:"USDC",symbol:"USDC",name:"USD Coin",decimals:6,assetId:null,enabled:bm,disabledReason:null},ZRX:{id:"ZRX",symbol:"0x",name:"0x Protocol",decimals:18,assetId:null,enabled:nE,disabledReason:null}}};function Pm(e){var t;return((t=xy.tokens[e])==null?void 0:t.enabled)??!1}function Sy(){return Object.values(xy.tokens)}function ko(e){switch(e){case"kaspa_native":return"Kaspa Native";case"evm_0x":return"0x EVM";case"blocked":default:return"Blocked"}}function jm(e,t){return e==="KAS"||t==="KAS"}function rE(e,t){return e==="ZRX"||t==="ZRX"}function Cf(e,t,n=ge.routeSource,r={}){const o=r.allowHybridAuto!==!1;return n==="blocked"?{source:n,label:ko(n),allowed:!1,reason:"Swap routes are currently disabled on Kaspa.",requiresEvmSigner:!1}:n==="kaspa_native"?o&&!jm(e,t)?{source:"evm_0x",label:ko("evm_0x"),allowed:!0,reason:null,requiresEvmSigner:!0}:rE(e,t)?{source:n,label:ko(n),allowed:!1,reason:"0x routes are EVM-domain only and cannot bridge directly with native KAS.",requiresEvmSigner:!1}:{source:n,label:ko(n),allowed:!0,reason:null,requiresEvmSigner:!1}:jm(e,t)?{source:n,label:ko(n),allowed:!1,reason:"0x routes are EVM-domain only and cannot use native Kaspa balances directly.",requiresEvmSigner:!0}:{source:n,label:ko(n),allowed:!0,reason:null,requiresEvmSigner:!0}}function Rm(e){return e.trim().toLowerCase()}function oE(e,t){return!e||!t?!1:Rm(e)===Rm(t)}const If="forgeos.swap.evm.sidecar.v1";function iE(e){if(!e)return null;try{return JSON.parse(e)}catch{return null}}function vy(e){if(typeof e!="string")return"";const t=e.trim();return/^0x[a-fA-F0-9]{40}$/.test(t)?t:""}function Ba(e){if(typeof e=="number"&&Number.isInteger(e)&&e>0)return e;if(typeof e=="string"){const t=e.trim().toLowerCase();if(!t)return 0;if(t.startsWith("0x")){const r=Number.parseInt(t.slice(2),16);return Number.isInteger(r)&&r>0?r:0}const n=Number(t);return Number.isInteger(n)&&n>0?n:0}return 0}function _f(){return typeof window<"u"&&typeof window.localStorage<"u"}function wy(e){const t=e;if(!t)return null;const n=vy(t.address),r=Ba(t.chainId),o=t.walletType==="metamask"?"metamask":null,i=typeof t.connectedAt=="number"&&Number.isFinite(t.connectedAt)?t.connectedAt:0,l=typeof t.updatedAt=="number"&&Number.isFinite(t.updatedAt)?t.updatedAt:i;return!o||!n||r<=0?null:{walletType:o,address:n,chainId:r,connectedAt:i||Date.now(),updatedAt:l||Date.now()}}function nd(){if(!_f())return null;const e=iE(window.localStorage.getItem(If));return wy(e)}function sE(e){const t=Date.now(),n=wy({...e,connectedAt:e.connectedAt??t,updatedAt:e.updatedAt??t});if(!n)throw new Error("EVM_SIDECAR_INVALID_SESSION");return _f()&&window.localStorage.setItem(If,JSON.stringify(n)),n}function lE(){_f()&&window.localStorage.removeItem(If)}function Ey(e){return ge.evmChainIdAllowlist.includes(e)}function Fa(){const e=globalThis==null?void 0:globalThis.ethereum;return e&&typeof e.request=="function"?e:null}async function aE(){const e=Fa();if(!e)throw new Error("EVM_SIDECAR_UNAVAILABLE: No injected EVM provider found.");const t=await e.request({method:"eth_requestAccounts"}),n=Array.isArray(t)?t:[],r=vy(n[0]);if(!r)throw new Error("EVM_SIDECAR_CONNECT_FAILED: No EVM account returned.");const o=await e.request({method:"eth_chainId"}),i=Ba(o);if(i<=0)throw new Error("EVM_SIDECAR_CHAIN_INVALID: Could not determine chain ID.");if(!Ey(i))throw new Error(`EVM_SIDECAR_CHAIN_NOT_ALLOWED: chainId ${i} not allowed.`);return sE({walletType:"metamask",address:r,chainId:i})}async function cE(e){const t=Fa();if(!t)throw new Error("EVM_SIDECAR_UNAVAILABLE: No injected EVM provider found.");const n=await t.request({method:"eth_sendTransaction",params:[e]});if(typeof n!="string"||!n.startsWith("0x"))throw new Error("EVM_TX_HASH_INVALID");return n}async function uE(e){const t=Fa();if(!t)return null;const n=await t.request({method:"eth_getTransactionReceipt",params:[e]});return!n||typeof n!="object"?null:n}async function dE(){const e=Fa();if(!e)return null;const t=await e.request({method:"eth_blockNumber"}),n=Ba(t);return n>0?n:null}function fE(e){const t=e.status;if(typeof t=="number")return t===1?"success":"revert";if(typeof t=="string"){const n=t.trim().toLowerCase();if(n==="0x1"||n==="1")return"success";if(n==="0x0"||n==="0")return"revert"}return"unknown"}function pE(e){return Ba(e.blockNumber)}function kl(e){return e.trim().toLowerCase()}const mE={1:{USDC:"0xA0b86991c6218b36c1d19d4a2e9eb0ce3606eb48",USDT:"0xdAC17F958D2ee523a2206206994597C13D831ec7",ZRX:"0xE41d2489571d322189246DaFA5ebDe1F4699F498"}};function Lm(e,t){if(e==="KAS")return null;const r=(mE[t]??{})[e];return typeof r=="string"&&r?r:null}function hE(e,t,n){const r=Lm(e.tokenIn,t.chainId),o=Lm(e.tokenOut,t.chainId);if(!r||!o)throw new Error("ZEROX_TOKEN_UNSUPPORTED: token pair is not mapped for selected EVM chain.");return{endpoint:n.endpoint,apiKey:n.apiKey,expectedSettlerTo:n.expectedSettlerTo,expectedAllowanceSpender:n.expectedAllowanceSpender,slippageBps:e.slippageBps,sellTokenAddress:r,buyTokenAddress:o,sellAmount:e.amountIn.toString()}}async function gE(e,t,n){var d;const r=new URLSearchParams({sellToken:e.sellTokenAddress,buyToken:e.buyTokenAddress,sellAmount:e.sellAmount,slippageBps:String(e.slippageBps)}),o=`${e.endpoint}?${r.toString()}`,i={Accept:"application/json","Content-Type":"application/json"};e.apiKey&&(i["0x-api-key"]=e.apiKey);const l=await fetch(o,{method:"GET",headers:i}),c=await l.json().catch(()=>({}));if(!l.ok){const p=typeof(c==null?void 0:c.reason)=="string"?c.reason:`HTTP ${l.status}`;throw new Error(`ZEROX_QUOTE_FAILED: ${p}`)}const u=yE(c,{allowedChainIds:t,expectedChainId:n,expectedSettlerTo:e.expectedSettlerTo,expectedAllowanceSpender:e.expectedAllowanceSpender});if((d=c.issues)!=null&&d.simulationIncomplete&&u.push("ZEROX_SIMULATION_INCOMPLETE"),u.length>0)throw new Error(`ZEROX_POLICY_REJECTED: ${u.join(", ")}`);return c}function yE(e,t){var i,l,c;const n=[],r=Number(e.chainId??0);(!Number.isFinite(r)||!t.allowedChainIds.includes(r))&&n.push("ZEROX_CHAIN_NOT_ALLOWED"),t.expectedChainId&&r!==t.expectedChainId&&n.push("ZEROX_CHAIN_SESSION_MISMATCH"),e.liquidityAvailable||n.push("ZEROX_NO_LIQUIDITY");const o=typeof((i=e.transaction)==null?void 0:i.to)=="string"?e.transaction.to:"";if((!o||kl(o)!==kl(t.expectedSettlerTo))&&n.push("ZEROX_SETTLER_MISMATCH"),t.expectedAllowanceSpender){const u=typeof((c=(l=e.issues)==null?void 0:l.allowance)==null?void 0:c.spender)=="string"?e.issues.allowance.spender:"";(!u||kl(u)!==kl(t.expectedAllowanceSpender))&&n.push("ZEROX_ALLOWANCE_SPENDER_MISMATCH")}return(!e.minBuyAmount||!/^\d+$/.test(String(e.minBuyAmount)))&&n.push("ZEROX_MIN_BUY_AMOUNT_INVALID"),n}var yh;const Xo=((yh=import.meta)==null?void 0:yh.env)??{},xE=12e3,SE="/quote",vE="/execute",wE="/status";function EE(e,t,n,r){const o=Number(Xo==null?void 0:Xo[e]);return Number.isFinite(o)?Math.min(r,Math.max(n,Math.floor(o))):t}function Nf(e,t){return String((Xo==null?void 0:Xo[e])??"").trim()||t}const kE=EE("VITE_SWAP_KASPA_NATIVE_TIMEOUT_MS",xE,1e3,6e4),AE=Nf("VITE_SWAP_KASPA_NATIVE_QUOTE_PATH",SE),TE=Nf("VITE_SWAP_KASPA_NATIVE_EXECUTE_PATH",vE),CE=Nf("VITE_SWAP_KASPA_NATIVE_STATUS_PATH",wE);function ky(e){return String(e||"").trim().replace(/\/+$/,"")}function IE(e){const t=String(e||"").trim();return t?t.startsWith("/")?t:`/${t}`:"/"}function bf(e,t){const n=ky(e);if(!n)throw new Error("KASPA_NATIVE_ENDPOINT_MISSING");return`${n}${IE(t)}`}async function Pf(e,t){const n=new AbortController,r=setTimeout(()=>n.abort(),t.timeoutMs??kE);try{const o=await fetch(e,{method:t.method,headers:{"Content-Type":"application/json"},...t.body?{body:JSON.stringify(t.body)}:{},signal:n.signal}),i=await o.text().catch(()=>"");let l=null;if(i)try{l=JSON.parse(i)}catch{throw new Error(`KASPA_NATIVE_HTTP_${o.status}: invalid JSON response`)}if(!o.ok){const c=typeof(l==null?void 0:l.error)=="string"?l.error:`HTTP ${o.status}`;throw new Error(`KASPA_NATIVE_HTTP_${o.status}: ${c}`)}return{status:o.status,data:l}}catch(o){throw(o==null?void 0:o.name)==="AbortError"?new Error("KASPA_NATIVE_TIMEOUT: request timed out"):o instanceof Error?o:new Error(String(o))}finally{clearTimeout(r)}}function _E(e){return typeof e=="bigint"?e.toString():typeof e=="number"&&Number.isFinite(e)&&e>=0?String(Math.floor(e)):typeof e=="string"&&/^\d+$/.test(e.trim())?e.trim():""}function Om(e,t){const n=_E(e);if(!n)throw new Error(`KASPA_NATIVE_QUOTE_INVALID: "${t}" must be an integer string`);const r=BigInt(n);if(r<0n)throw new Error(`KASPA_NATIVE_QUOTE_INVALID: "${t}" must be >= 0`);return r}function xa(e){const t=typeof e=="number"?e:Number(e);return Number.isFinite(t)?t:null}function NE(e){const t=xa(e.priceImpactBps);if(t!==null&&t>=0)return t/1e4;const n=xa(e.priceImpact);if(n!==null&&n>=0&&n<=1)return n;throw new Error("KASPA_NATIVE_QUOTE_INVALID: missing price impact")}function bE(e){if(!Array.isArray(e))return[];const t=e.map(n=>String(n||"").trim()).filter(Boolean);return t.length?t:[]}function PE(e){return e==="mainnet"?"kaspa:":"kaspatest:"}function jE(e,t){const n=String(e||"").trim().toLowerCase();if(!pf(n))throw new Error("KASPA_NATIVE_QUOTE_INVALID: settlement address is invalid");const r=PE(t);if(!n.startsWith(r))throw new Error("KASPA_NATIVE_QUOTE_INVALID: settlement address network mismatch")}function RE(e,t,n,r){const o=e??{},i=typeof o.quoteId=="string"?o.quoteId.trim():"";if(!i)throw new Error("KASPA_NATIVE_QUOTE_INVALID: missing quoteId");const l=typeof o.settlementAddress=="string"?o.settlementAddress.trim():"";if(!l)throw new Error("KASPA_NATIVE_QUOTE_INVALID: missing settlementAddress");jE(l,r);const c=Om(o.minAmountOut??o.amountOut,"amountOut"),u=Om(o.feeAmount??o.fee??"0","feeAmount"),d=NE(o),p=bE(o.route),h=xa(o.validUntil);if(h===null||h<=Date.now())throw new Error("KASPA_NATIVE_QUOTE_INVALID: quote is missing or expired");if(p.length===0)throw new Error("KASPA_NATIVE_QUOTE_INVALID: missing route");return{tokenIn:t.tokenIn,tokenOut:t.tokenOut,amountIn:t.amountIn,amountOut:c,priceImpact:d,fee:u,route:p,validUntil:h,dexEndpoint:n,routeSource:"kaspa_native",rawQuote:{...o,quoteId:i,settlementAddress:l,network:r}}}function LE(e){const t=e.rawQuote??{},n=typeof t.quoteId=="string"?t.quoteId.trim():"",r=typeof t.settlementAddress=="string"?t.settlementAddress.trim():"";if(!n||!r)throw new Error("KASPA_NATIVE_QUOTE_META_INVALID");return{quoteId:n,settlementAddress:r}}async function OE(e,t){const n=bf(t.endpoint,AE),r={tokenIn:e.tokenIn,tokenOut:e.tokenOut,amountIn:e.amountIn.toString(),slippageBps:e.slippageBps,network:t.network,walletAddress:t.walletAddress};e.customTokenOut&&(r.tokenOutAddress=e.customTokenOut.address,r.tokenOutStandard=e.customTokenOut.standard,r.tokenOutSymbol=e.customTokenOut.symbol,r.tokenOutName=e.customTokenOut.name,r.tokenOutDecimals=e.customTokenOut.decimals);const{data:o}=await Pf(n,{method:"POST",body:r});return RE(o,e,ky(t.endpoint),t.network)}async function DE(e){const t=bf(e.endpoint,TE),n={quoteId:e.quoteId,network:e.network,depositTxId:e.depositTxId,walletAddress:e.walletAddress,amountIn:e.amountIn.toString()},{data:r}=await Pf(t,{method:"POST",body:n}),o=r??{};if(o.accepted===!1)throw new Error(typeof o.error=="string"?o.error:"KASPA_NATIVE_EXECUTION_REJECTED");const i=typeof o.state=="string"?o.state.toLowerCase().trim():"";if(["failed","rejected","error"].includes(i))throw new Error(typeof o.error=="string"?o.error:`KASPA_NATIVE_EXECUTION_${i.toUpperCase()}`)}function ME(e){const t=e.toLowerCase().trim();return["confirmed","completed","success","settled"].includes(t)?"confirmed":["failed","reverted","rejected","expired","error"].includes(t)?"failed":"pending"}async function zE(e){const t=bf(e.endpoint,CE),n=new URLSearchParams({quoteId:e.quoteId,depositTxId:e.depositTxId,network:e.network}),r=`${t}?${n.toString()}`;try{const{status:o,data:i}=await Pf(r,{method:"GET"});if(o===404)return{state:"pending",confirmations:0,error:null,settlementTxId:null};const l=i??{},c=String(l.state??l.status??"pending"),u=ME(c),d=Math.max(0,Math.floor(xa(l.confirmations)??0)),p=typeof l.error=="string"?l.error:null,h=typeof l.settlementTxId=="string"?l.settlementTxId:typeof l.txId=="string"?l.txId:null;return{state:u,confirmations:d,error:p,settlementTxId:h}}catch(o){if(String((o==null?void 0:o.message)||"").includes("HTTP 404"))return{state:"pending",confirmations:0,error:null,settlementTxId:null};throw o}}const UE={REQUESTED:["QUOTED","FAILED_TIMEOUT"],QUOTED:["SIGNED","FAILED_TIMEOUT","FAILED_BRIDGE"],SIGNED:["SUBMITTED","FAILED_TIMEOUT","FAILED_BRIDGE"],SUBMITTED:["SUBMITTED","PENDING_CONFIRMATION","CONFIRMED","FAILED_REVERT","FAILED_TIMEOUT"],PENDING_CONFIRMATION:["PENDING_CONFIRMATION","CONFIRMED","FAILED_REVERT","FAILED_TIMEOUT","FAILED_BRIDGE"],CONFIRMED:[],FAILED_REVERT:[],FAILED_TIMEOUT:[],FAILED_BRIDGE:[]};function Ay(e,t,n="mainnet",r=Date.now()){return{id:e,routeSource:t,state:"REQUESTED",network:n,createdAt:r,updatedAt:r,txHash:null,bridgeTransferId:null,confirmations:0,error:null}}function St(e,t,n={},r=Date.now()){if(!UE[e.state].includes(t))throw new Error(`INVALID_SETTLEMENT_TRANSITION: ${e.state} -> ${t}`);return{...e,...n,state:t,updatedAt:r}}const rd="forgeos.swap.settlements.v1",Ty=200;function Cy(){return chrome.storage.local}async function BE(){return new Promise(e=>{Cy().get(rd,t=>e((t==null?void 0:t[rd])??null))})}async function FE(e){return new Promise(t=>{Cy().set({[rd]:e},t)})}function $E(e){return["REQUESTED","QUOTED","SIGNED","SUBMITTED","PENDING_CONFIRMATION","CONFIRMED","FAILED_REVERT","FAILED_TIMEOUT","FAILED_BRIDGE"].includes(String(e))}function KE(e){const t=e;if(!t)return null;const n=typeof t.id=="string"?t.id:"",r=typeof t.routeSource=="string"?t.routeSource:"",o=t.state;return!n||!$E(o)||r!=="blocked"&&r!=="kaspa_native"&&r!=="evm_0x"?null:{id:n,routeSource:r,state:o,network:typeof t.network=="string"&&t.network?t.network:"mainnet",createdAt:typeof t.createdAt=="number"&&Number.isFinite(t.createdAt)?t.createdAt:Date.now(),updatedAt:typeof t.updatedAt=="number"&&Number.isFinite(t.updatedAt)?t.updatedAt:Date.now(),txHash:typeof t.txHash=="string"?t.txHash:null,bridgeTransferId:typeof t.bridgeTransferId=="string"?t.bridgeTransferId:null,confirmations:typeof t.confirmations=="number"&&Number.isFinite(t.confirmations)?t.confirmations:0,error:typeof t.error=="string"?t.error:null}}function HE(e){if(!Array.isArray(e))return[];const t=[];for(const n of e){const r=KE(n);r&&t.push(r)}return t.sort((n,r)=>r.updatedAt-n.updatedAt),t.slice(0,Ty)}async function rs(){const e=await BE();return HE(e)}async function Je(e){const t=await rs(),n=[e,...t.filter(r=>r.id!==e.id)].sort((r,o)=>o.updatedAt-r.updatedAt).slice(0,Ty);await FE(n)}function jf(e){return e.state==="SUBMITTED"||e.state==="PENDING_CONFIRMATION"}function Iy(e){return`${e}_${crypto.randomUUID()}`}function _y(){const e=nd();return e&&Ey(e.chainId)?e:null}const WE=1e8;let jc=null;async function VE(){return jc||(jc=Ds(()=>import("../../kernel.js"),[])),jc}function GE(e){const t=Number(e)/WE;if(!Number.isFinite(t)||t<=0)throw new Error("KASPA_NATIVE_EXECUTION_INVALID_AMOUNT");return t}async function $a(){const e=await pa().catch(()=>"mainnet");return e==="mainnet"||e==="testnet-10"||e==="testnet-11"||e==="testnet-12"?e:"mainnet"}function os(e,t,n="FAILED_BRIDGE"){return St(e,n,{error:t})}function Ny(){return ge.zeroExQuoteEndpoint?ge.zeroExExpectedSettlerTo?{ok:!0,reason:null}:{ok:!1,reason:"0x settler target is not configured."}:{ok:!1,reason:"0x quote endpoint is not configured."}}function by(){if(!ge.enabled)return{enabled:!1,reason:"Swap functionality not yet active on Kaspa."};if(ge.routeSource==="blocked")return{enabled:!1,reason:"Swap routes are currently disabled on Kaspa."};if(ge.routeSource==="kaspa_native")return{enabled:!0,reason:null};const e=Ny();return e.ok?{enabled:!0,reason:null}:{enabled:!1,reason:e.reason}}function QE(e,t={}){const n=[],r=e.customTokenOut??null,o=!!r,i=o?"USDC":e.tokenOut,l=t.routeSource??ge.routeSource,c=t.allowHybridAuto!==!1;!o&&e.tokenIn===e.tokenOut&&n.push("Token in and token out must be different.");const u=Cf(e.tokenIn,i,l,{allowHybridAuto:c});if(!u.allowed&&u.reason&&n.push(u.reason),Pm(e.tokenIn)||n.push(`${e.tokenIn} is not currently available.`),!o&&!Pm(e.tokenOut)&&n.push(`${e.tokenOut} is not currently available.`),o&&(String((r==null?void 0:r.address)??"").trim()||n.push("Custom token address is required."),(r==null?void 0:r.standard)!=="krc20"&&(r==null?void 0:r.standard)!=="krc721"&&n.push("Custom token standard must be KRC20 or KRC721.")),e.amountIn<=0n&&n.push("Amount must be greater than zero."),(e.slippageBps<0||e.slippageBps>ge.maxSlippageBps)&&n.push(`Slippage must be between 0 and ${ge.maxSlippageBps} bps (${ge.maxSlippageBps/100}%).`),u.source==="evm_0x"){const d=Ny();!d.ok&&d.reason&&n.push(d.reason)}return u.source==="kaspa_native"?(ge.dexEndpoint||n.push("Kaspa-native DEX endpoint is not configured."),e.tokenIn!=="KAS"&&n.push("Kaspa-native swap currently supports KAS as the input token.")):o&&n.push("Custom KRC token output requires kaspa-native swap route."),n}async function XE(e,t={}){var u,d,p,h,g,x,E;if(!by().enabled)return null;const r=t.routeSource??ge.routeSource,o=t.allowHybridAuto!==!1,i=QE(e,{routeSource:r,allowHybridAuto:o});if(i.length>0)throw new Error(`SWAP_VALIDATION: ${i.join("; ")}`);const l=e.customTokenOut?"USDC":e.tokenOut,c=Cf(e.tokenIn,l,r,{allowHybridAuto:o});if(c.source==="kaspa_native"){const w=ge.dexEndpoint;if(!w)throw new Error("KASPA_NATIVE_ROUTE_UNAVAILABLE: dex endpoint is not configured.");const A=oo();if(!(A!=null&&A.mnemonic))throw new Error("KASPA_NATIVE_SIGNER_REQUIRED: unlock managed Kaspa wallet.");const f=await $a(),m=es(A.address,f);return{...await OE(e,{endpoint:w,network:f,walletAddress:m}),customTokenOut:e.customTokenOut??null}}if(c.source==="evm_0x"){const w=_y();if(!w)throw new Error("EVM_SIDECAR_REQUIRED: connect external EVM signer first.");const A=hE(e,w,{endpoint:ge.zeroExQuoteEndpoint||"",apiKey:ge.zeroExApiKey||void 0,expectedSettlerTo:ge.zeroExExpectedSettlerTo,expectedAllowanceSpender:ge.zeroExExpectedAllowanceSpender||void 0}),f=await gE(A,ge.evmChainIdAllowlist,w.chainId),m=BigInt(f.minBuyAmount||f.buyAmount||"0"),y=typeof((u=f.transaction)==null?void 0:u.to)=="string"?f.transaction.to:"",v=typeof((d=f.transaction)==null?void 0:d.data)=="string"?f.transaction.data:"";if(!y||!v)throw new Error("ZEROX_QUOTE_INVALID: missing transaction payload.");return{tokenIn:e.tokenIn,tokenOut:e.tokenOut,amountIn:e.amountIn,amountOut:m,priceImpact:0,fee:0n,route:((h=(p=f.route)==null?void 0:p.fills)==null?void 0:h.map(_=>String((_==null?void 0:_.source)||"0x")))||["0x"],validUntil:Date.now()+3e4,dexEndpoint:ge.zeroExQuoteEndpoint||"https://api.0x.org",routeSource:"evm_0x",transaction:{to:y,data:v,value:typeof((g=f.transaction)==null?void 0:g.value)=="string"?f.transaction.value:"0x0"},allowanceSpender:(E=(x=f.issues)==null?void 0:x.allowance)==null?void 0:E.spender,rawQuote:f,customTokenOut:e.customTokenOut??null}}throw new Error(`SWAP_ROUTE_UNSUPPORTED: ${c.source}`)}async function YE(e){if(!e.txHash||e.routeSource!=="evm_0x"||!jf(e))return e;if(e.createdAt+ge.settlementTimeoutMs<=Date.now()){const c=St(e,"FAILED_TIMEOUT",{error:"Swap timed out waiting for confirmations."});return await Je(c),c}const t=await uE(e.txHash).catch(()=>null);if(!t)return e;if(fE(t)==="revert"){const c=St(e,"FAILED_REVERT",{error:"EVM transaction reverted."});return await Je(c),c}const r=pE(t),o=await dE().catch(()=>null),i=r&&o&&o>=r?o-r+1:e.confirmations||1;if(i>=ge.settlementRequiredConfirmations){const c=St(e,"CONFIRMED",{confirmations:i,error:null});return await Je(c),c}const l=St(e,"PENDING_CONFIRMATION",{confirmations:i});return await Je(l),l}async function Py(e){if(!e.txHash||e.routeSource!=="kaspa_native"||!jf(e))return e;if(e.createdAt+ge.settlementTimeoutMs<=Date.now()){const c=St(e,"FAILED_TIMEOUT",{error:"Swap timed out waiting for confirmations."});return await Je(c),c}const t=e.bridgeTransferId||"";if(!t){const c=os(e,"KASPA_NATIVE_SETTLEMENT_MISSING_QUOTE_ID");return await Je(c),c}const n=ge.dexEndpoint;if(!n)return e;let r;try{const c=await $a();r=await zE({endpoint:n,network:c,quoteId:t,depositTxId:e.txHash})}catch{return e}if(r.state==="failed"){const c=os(e,r.error||"KASPA_NATIVE_EXECUTION_FAILED");return await Je(c),c}const o=await yy(e.txHash,e.network??"mainnet").catch(()=>null),i=!!(o!=null&&o.confirmed);if(i&&r.state==="confirmed"){const c=St(e,"CONFIRMED",{confirmations:Math.max(1,r.confirmations||1),error:null});return await Je(c),c}const l=St(e,"PENDING_CONFIRMATION",{confirmations:i?1:0});return await Je(l),l}async function jy(e){return e.routeSource==="evm_0x"?YE(e):e.routeSource==="kaspa_native"?Py(e):e}async function od(){const t=(await rs()).filter(r=>jf(r)&&(r.routeSource==="evm_0x"||r.routeSource==="kaspa_native")),n=[];for(const r of t)n.push(await jy(r));return n}async function JE(){return aE()}async function ZE(e){if(!e.transaction)throw new Error("SWAP_EXECUTION_UNSUPPORTED: missing EVM transaction payload.");const t=_y();if(!t)throw new Error("EVM_SIDECAR_REQUIRED: connect external EVM signer first.");if(!oE(e.transaction.to,ge.zeroExExpectedSettlerTo))throw new Error("ZEROX_SETTLER_MISMATCH: refusing to execute unexpected transaction target.");const n=Iy("swap"),r=await $a();let o=Ay(n,"evm_0x",r);o=St(o,"QUOTED"),await Je(o),o=St(o,"SIGNED"),await Je(o);let i="";try{i=await cE({from:t.address,to:e.transaction.to,data:e.transaction.data,value:e.transaction.value||"0x0"})}catch(u){const d=St(o,"FAILED_BRIDGE",{error:u instanceof Error?u.message:String(u)});return await Je(d),d}o=St(o,"SUBMITTED",{txHash:i,confirmations:0,error:null}),await Je(o);const l=Date.now()+ge.settlementTimeoutMs;for(;Date.now()<l;){if(o=await jy(o),o.state==="CONFIRMED"||o.state==="FAILED_REVERT"||o.state==="FAILED_BRIDGE")return o;await new Promise(d=>setTimeout(d,ge.settlementPollIntervalMs))}const c=St(o,"FAILED_TIMEOUT",{error:"Swap timed out waiting for confirmations."});return await Je(c),c}async function qE(e){var g;if(e.routeSource!=="kaspa_native")throw new Error("KASPA_NATIVE_ROUTE_REQUIRED");if(e.tokenIn!=="KAS")throw new Error("KASPA_NATIVE_INPUT_UNSUPPORTED: only KAS input is supported.");if(Date.now()>e.validUntil)throw new Error("KASPA_NATIVE_QUOTE_EXPIRED");const t=ge.dexEndpoint;if(!t)throw new Error("KASPA_NATIVE_ENDPOINT_MISSING");const n=oo();if(!(n!=null&&n.mnemonic))throw new Error("KASPA_NATIVE_SIGNER_REQUIRED: unlock managed Kaspa wallet.");const r=await $a(),o=es(n.address,r),i=LE(e),l=GE(e.amountIn),c=Iy("swap");let u=Ay(c,"kaspa_native",r);u=St(u,"QUOTED"),await Je(u),u=St(u,"SIGNED"),await Je(u);let d="";try{d=(await(await VE()).executeKaspaIntent({fromAddress:o,network:r,recipients:[{address:i.settlementAddress,amountKas:l}]},{awaitConfirmation:!1,telemetry:{channel:"swap",runId:c,context:{settlementId:c,quoteId:i.quoteId,tokenIn:e.tokenIn,tokenOut:((g=e.customTokenOut)==null?void 0:g.symbol)||e.tokenOut,amountIn:e.amountIn.toString()}}})).txId||""}catch(x){const E=os(u,x instanceof Error?x.message:String(x));return await Je(E),E}if(!d){const x=os(u,"KASPA_NATIVE_EXECUTION_NO_TXID");return await Je(x),x}u=St(u,"SUBMITTED",{txHash:d,bridgeTransferId:i.quoteId,confirmations:0,error:null}),await Je(u);try{await DE({endpoint:t,network:r,quoteId:i.quoteId,depositTxId:d,walletAddress:o,amountIn:e.amountIn})}catch{}const p=Date.now()+ge.settlementTimeoutMs;for(;Date.now()<p;){if(u=await Py(u),u.state==="CONFIRMED"||u.state==="FAILED_REVERT"||u.state==="FAILED_BRIDGE"||u.state==="FAILED_TIMEOUT")return u;await new Promise(x=>setTimeout(x,ge.settlementPollIntervalMs))}const h=os(u,"Swap timed out waiting for confirmations.","FAILED_TIMEOUT");return await Je(h),h}async function ek(e){if(e.routeSource==="kaspa_native")return qE(e);if(e.routeSource==="evm_0x")return ZE(e);throw new Error(`SWAP_EXECUTION_UNSUPPORTED: ${e.routeSource||"unknown route"}`)}const tk=new Set([12,15,18,21,24]),Ry=dy;function Rf(e){return e.trim().toLowerCase().split(/\s+/).join(" ")}function Lf(e){const t=e.trim().split(/\s+/).filter(Boolean);if(!tk.has(t.length))throw new Error(`Seed phrase must be a valid BIP39 length (12/15/18/21/24 words; got ${t.length}).`)}async function Of(e,t){const n=await Ry(),{Mnemonic:r,XPrv:o}=n,l=new r(e).toSeed(t.mnemonicPassphrase||void 0),c=new o(l);return{kaspa:n,masterXPrv:c}}function nk(e,t){try{return e.derivePath(t)}catch(n){if(t.startsWith("m/"))try{return e.derivePath(t.slice(2))}catch{}const r=n instanceof Error?n.message:String(n);throw new Error(`DERIVATION_PATH_INVALID: ${t} (${r})`)}}function Df(e,t){const n=qt(t),{XPrivateKey:r}=e.kaspa,i=nk(e.masterXPrv,n.path).intoString("kprv"),l=new r(i,!1,BigInt(n.account));return{privKey:n.chain===1?l.changeKey(n.index):l.receiveKey(n.index),derivation:n}}function Ly(e,t){return e.toKeypair().toAddress(t).toString()}async function Oy(e,t,n={}){const r=await Of(e,n),{privKey:o,derivation:i}=Df(r,n.derivation);return{address:Ly(o,t),derivation:i}}async function rk(e,t=24){const{Mnemonic:n}=await Ry();let r;try{r=n.random(t)}catch{r=n.random()}const o=r.phrase,{address:i,derivation:l}=await Oy(o,e,{derivation:Lt});return{phrase:o,address:i,network:e,derivation:l}}async function Dm(e,t,n={}){Lf(e);const r=Rf(e),o=n.mnemonicPassphrase||void 0,{address:i,derivation:l}=await Oy(r,t,n);return{phrase:r,address:i,network:t,mnemonicPassphrase:o,derivation:l}}async function ok(e,t,n={}){var E,w;Lf(e);const r=Rf(e),o=((E=n.basePaths)!=null&&E.length?n.basePaths:[...yf]).map(A=>String(A).trim()).filter(Boolean),[i,l]=n.accountRange??[0,4],[c,u]=n.indexRange??[0,9],d=((w=n.chains)!=null&&w.length?n.chains:[0,1]).filter(A=>A===0||A===1),p=Math.max(1,n.limit??60),h=await Of(r,n),g=[],x=new Set;e:for(let A=Math.max(0,i);A<=Math.max(i,l);A++)for(const f of d)for(let m=Math.max(0,c);m<=Math.max(c,u);m++)for(const y of o){const v=qt({path:y,account:A,chain:f,index:m});try{const{privKey:_}=Df(h,v),I=Ly(_,t),P=I.toLowerCase();if(x.has(P))continue;if(x.add(P),g.push({address:I,derivation:v,derivationPath:An(v),chainLabel:xf(v.chain)}),g.length>=p)break e}catch{}}return g}async function ik(e,t,n={}){var h;Lf(e);const r=Rf(e),o=await Of(r,n),{privKey:i}=Df(o,n.derivation),l=new TextEncoder().encode(t),{PrivateKey:c}=o.kaspa,u=i.toKeypair();let d;try{const g=u.privateKey??((h=u.toPrivateKey)==null?void 0:h.call(u));d=new c(g)}catch{d=i}const p=d.sign(l);return Array.from(p,g=>g.toString(16).padStart(2,"0")).join("")}var zs={},sk=function(){return typeof Promise=="function"&&Promise.prototype&&Promise.prototype.then},Dy={},on={};let Mf;const lk=[0,26,44,70,100,134,172,196,242,292,346,404,466,532,581,655,733,815,901,991,1085,1156,1258,1364,1474,1588,1706,1828,1921,2051,2185,2323,2465,2611,2761,2876,3034,3196,3362,3532,3706];on.getSymbolSize=function(t){if(!t)throw new Error('"version" cannot be null or undefined');if(t<1||t>40)throw new Error('"version" should be in range from 1 to 40');return t*4+17};on.getSymbolTotalCodewords=function(t){return lk[t]};on.getBCHDigit=function(e){let t=0;for(;e!==0;)t++,e>>>=1;return t};on.setToSJISFunction=function(t){if(typeof t!="function")throw new Error('"toSJISFunc" is not a valid function.');Mf=t};on.isKanjiModeEnabled=function(){return typeof Mf<"u"};on.toSJIS=function(t){return Mf(t)};var Ka={};(function(e){e.L={bit:1},e.M={bit:0},e.Q={bit:3},e.H={bit:2};function t(n){if(typeof n!="string")throw new Error("Param is not a string");switch(n.toLowerCase()){case"l":case"low":return e.L;case"m":case"medium":return e.M;case"q":case"quartile":return e.Q;case"h":case"high":return e.H;default:throw new Error("Unknown EC Level: "+n)}}e.isValid=function(r){return r&&typeof r.bit<"u"&&r.bit>=0&&r.bit<4},e.from=function(r,o){if(e.isValid(r))return r;try{return t(r)}catch{return o}}})(Ka);function My(){this.buffer=[],this.length=0}My.prototype={get:function(e){const t=Math.floor(e/8);return(this.buffer[t]>>>7-e%8&1)===1},put:function(e,t){for(let n=0;n<t;n++)this.putBit((e>>>t-n-1&1)===1)},getLengthInBits:function(){return this.length},putBit:function(e){const t=Math.floor(this.length/8);this.buffer.length<=t&&this.buffer.push(0),e&&(this.buffer[t]|=128>>>this.length%8),this.length++}};var ak=My;function Us(e){if(!e||e<1)throw new Error("BitMatrix size must be defined and greater than 0");this.size=e,this.data=new Uint8Array(e*e),this.reservedBit=new Uint8Array(e*e)}Us.prototype.set=function(e,t,n,r){const o=e*this.size+t;this.data[o]=n,r&&(this.reservedBit[o]=!0)};Us.prototype.get=function(e,t){return this.data[e*this.size+t]};Us.prototype.xor=function(e,t,n){this.data[e*this.size+t]^=n};Us.prototype.isReserved=function(e,t){return this.reservedBit[e*this.size+t]};var ck=Us,zy={};(function(e){const t=on.getSymbolSize;e.getRowColCoords=function(r){if(r===1)return[];const o=Math.floor(r/7)+2,i=t(r),l=i===145?26:Math.ceil((i-13)/(2*o-2))*2,c=[i-7];for(let u=1;u<o-1;u++)c[u]=c[u-1]-l;return c.push(6),c.reverse()},e.getPositions=function(r){const o=[],i=e.getRowColCoords(r),l=i.length;for(let c=0;c<l;c++)for(let u=0;u<l;u++)c===0&&u===0||c===0&&u===l-1||c===l-1&&u===0||o.push([i[c],i[u]]);return o}})(zy);var Uy={};const uk=on.getSymbolSize,Mm=7;Uy.getPositions=function(t){const n=uk(t);return[[0,0],[n-Mm,0],[0,n-Mm]]};var By={};(function(e){e.Patterns={PATTERN000:0,PATTERN001:1,PATTERN010:2,PATTERN011:3,PATTERN100:4,PATTERN101:5,PATTERN110:6,PATTERN111:7};const t={N1:3,N2:3,N3:40,N4:10};e.isValid=function(o){return o!=null&&o!==""&&!isNaN(o)&&o>=0&&o<=7},e.from=function(o){return e.isValid(o)?parseInt(o,10):void 0},e.getPenaltyN1=function(o){const i=o.size;let l=0,c=0,u=0,d=null,p=null;for(let h=0;h<i;h++){c=u=0,d=p=null;for(let g=0;g<i;g++){let x=o.get(h,g);x===d?c++:(c>=5&&(l+=t.N1+(c-5)),d=x,c=1),x=o.get(g,h),x===p?u++:(u>=5&&(l+=t.N1+(u-5)),p=x,u=1)}c>=5&&(l+=t.N1+(c-5)),u>=5&&(l+=t.N1+(u-5))}return l},e.getPenaltyN2=function(o){const i=o.size;let l=0;for(let c=0;c<i-1;c++)for(let u=0;u<i-1;u++){const d=o.get(c,u)+o.get(c,u+1)+o.get(c+1,u)+o.get(c+1,u+1);(d===4||d===0)&&l++}return l*t.N2},e.getPenaltyN3=function(o){const i=o.size;let l=0,c=0,u=0;for(let d=0;d<i;d++){c=u=0;for(let p=0;p<i;p++)c=c<<1&2047|o.get(d,p),p>=10&&(c===1488||c===93)&&l++,u=u<<1&2047|o.get(p,d),p>=10&&(u===1488||u===93)&&l++}return l*t.N3},e.getPenaltyN4=function(o){let i=0;const l=o.data.length;for(let u=0;u<l;u++)i+=o.data[u];return Math.abs(Math.ceil(i*100/l/5)-10)*t.N4};function n(r,o,i){switch(r){case e.Patterns.PATTERN000:return(o+i)%2===0;case e.Patterns.PATTERN001:return o%2===0;case e.Patterns.PATTERN010:return i%3===0;case e.Patterns.PATTERN011:return(o+i)%3===0;case e.Patterns.PATTERN100:return(Math.floor(o/2)+Math.floor(i/3))%2===0;case e.Patterns.PATTERN101:return o*i%2+o*i%3===0;case e.Patterns.PATTERN110:return(o*i%2+o*i%3)%2===0;case e.Patterns.PATTERN111:return(o*i%3+(o+i)%2)%2===0;default:throw new Error("bad maskPattern:"+r)}}e.applyMask=function(o,i){const l=i.size;for(let c=0;c<l;c++)for(let u=0;u<l;u++)i.isReserved(u,c)||i.xor(u,c,n(o,u,c))},e.getBestMask=function(o,i){const l=Object.keys(e.Patterns).length;let c=0,u=1/0;for(let d=0;d<l;d++){i(d),e.applyMask(d,o);const p=e.getPenaltyN1(o)+e.getPenaltyN2(o)+e.getPenaltyN3(o)+e.getPenaltyN4(o);e.applyMask(d,o),p<u&&(u=p,c=d)}return c}})(By);var Ha={};const Er=Ka,Al=[1,1,1,1,1,1,1,1,1,1,2,2,1,2,2,4,1,2,4,4,2,4,4,4,2,4,6,5,2,4,6,6,2,5,8,8,4,5,8,8,4,5,8,11,4,8,10,11,4,9,12,16,4,9,16,16,6,10,12,18,6,10,17,16,6,11,16,19,6,13,18,21,7,14,21,25,8,16,20,25,8,17,23,25,9,17,23,34,9,18,25,30,10,20,27,32,12,21,29,35,12,23,34,37,12,25,34,40,13,26,35,42,14,28,38,45,15,29,40,48,16,31,43,51,17,33,45,54,18,35,48,57,19,37,51,60,19,38,53,63,20,40,56,66,21,43,59,70,22,45,62,74,24,47,65,77,25,49,68,81],Tl=[7,10,13,17,10,16,22,28,15,26,36,44,20,36,52,64,26,48,72,88,36,64,96,112,40,72,108,130,48,88,132,156,60,110,160,192,72,130,192,224,80,150,224,264,96,176,260,308,104,198,288,352,120,216,320,384,132,240,360,432,144,280,408,480,168,308,448,532,180,338,504,588,196,364,546,650,224,416,600,700,224,442,644,750,252,476,690,816,270,504,750,900,300,560,810,960,312,588,870,1050,336,644,952,1110,360,700,1020,1200,390,728,1050,1260,420,784,1140,1350,450,812,1200,1440,480,868,1290,1530,510,924,1350,1620,540,980,1440,1710,570,1036,1530,1800,570,1064,1590,1890,600,1120,1680,1980,630,1204,1770,2100,660,1260,1860,2220,720,1316,1950,2310,750,1372,2040,2430];Ha.getBlocksCount=function(t,n){switch(n){case Er.L:return Al[(t-1)*4+0];case Er.M:return Al[(t-1)*4+1];case Er.Q:return Al[(t-1)*4+2];case Er.H:return Al[(t-1)*4+3];default:return}};Ha.getTotalCodewordsCount=function(t,n){switch(n){case Er.L:return Tl[(t-1)*4+0];case Er.M:return Tl[(t-1)*4+1];case Er.Q:return Tl[(t-1)*4+2];case Er.H:return Tl[(t-1)*4+3];default:return}};var Fy={},Wa={};const is=new Uint8Array(512),Sa=new Uint8Array(256);(function(){let t=1;for(let n=0;n<255;n++)is[n]=t,Sa[t]=n,t<<=1,t&256&&(t^=285);for(let n=255;n<512;n++)is[n]=is[n-255]})();Wa.log=function(t){if(t<1)throw new Error("log("+t+")");return Sa[t]};Wa.exp=function(t){return is[t]};Wa.mul=function(t,n){return t===0||n===0?0:is[Sa[t]+Sa[n]]};(function(e){const t=Wa;e.mul=function(r,o){const i=new Uint8Array(r.length+o.length-1);for(let l=0;l<r.length;l++)for(let c=0;c<o.length;c++)i[l+c]^=t.mul(r[l],o[c]);return i},e.mod=function(r,o){let i=new Uint8Array(r);for(;i.length-o.length>=0;){const l=i[0];for(let u=0;u<o.length;u++)i[u]^=t.mul(o[u],l);let c=0;for(;c<i.length&&i[c]===0;)c++;i=i.slice(c)}return i},e.generateECPolynomial=function(r){let o=new Uint8Array([1]);for(let i=0;i<r;i++)o=e.mul(o,new Uint8Array([1,t.exp(i)]));return o}})(Fy);const $y=Fy;function zf(e){this.genPoly=void 0,this.degree=e,this.degree&&this.initialize(this.degree)}zf.prototype.initialize=function(t){this.degree=t,this.genPoly=$y.generateECPolynomial(this.degree)};zf.prototype.encode=function(t){if(!this.genPoly)throw new Error("Encoder not initialized");const n=new Uint8Array(t.length+this.degree);n.set(t);const r=$y.mod(n,this.genPoly),o=this.degree-r.length;if(o>0){const i=new Uint8Array(this.degree);return i.set(r,o),i}return r};var dk=zf,Ky={},zr={},Uf={};Uf.isValid=function(t){return!isNaN(t)&&t>=1&&t<=40};var Kn={};const Hy="[0-9]+",fk="[A-Z $%*+\\-./:]+";let _s="(?:[u3000-u303F]|[u3040-u309F]|[u30A0-u30FF]|[uFF00-uFFEF]|[u4E00-u9FAF]|[u2605-u2606]|[u2190-u2195]|u203B|[u2010u2015u2018u2019u2025u2026u201Cu201Du2225u2260]|[u0391-u0451]|[u00A7u00A8u00B1u00B4u00D7u00F7])+";_s=_s.replace(/u/g,"\\u");const pk="(?:(?![A-Z0-9 $%*+\\-./:]|"+_s+`)(?:.|[\r
]))+`;Kn.KANJI=new RegExp(_s,"g");Kn.BYTE_KANJI=new RegExp("[^A-Z0-9 $%*+\\-./:]+","g");Kn.BYTE=new RegExp(pk,"g");Kn.NUMERIC=new RegExp(Hy,"g");Kn.ALPHANUMERIC=new RegExp(fk,"g");const mk=new RegExp("^"+_s+"$"),hk=new RegExp("^"+Hy+"$"),gk=new RegExp("^[A-Z0-9 $%*+\\-./:]+$");Kn.testKanji=function(t){return mk.test(t)};Kn.testNumeric=function(t){return hk.test(t)};Kn.testAlphanumeric=function(t){return gk.test(t)};(function(e){const t=Uf,n=Kn;e.NUMERIC={id:"Numeric",bit:1,ccBits:[10,12,14]},e.ALPHANUMERIC={id:"Alphanumeric",bit:2,ccBits:[9,11,13]},e.BYTE={id:"Byte",bit:4,ccBits:[8,16,16]},e.KANJI={id:"Kanji",bit:8,ccBits:[8,10,12]},e.MIXED={bit:-1},e.getCharCountIndicator=function(i,l){if(!i.ccBits)throw new Error("Invalid mode: "+i);if(!t.isValid(l))throw new Error("Invalid version: "+l);return l>=1&&l<10?i.ccBits[0]:l<27?i.ccBits[1]:i.ccBits[2]},e.getBestModeForData=function(i){return n.testNumeric(i)?e.NUMERIC:n.testAlphanumeric(i)?e.ALPHANUMERIC:n.testKanji(i)?e.KANJI:e.BYTE},e.toString=function(i){if(i&&i.id)return i.id;throw new Error("Invalid mode")},e.isValid=function(i){return i&&i.bit&&i.ccBits};function r(o){if(typeof o!="string")throw new Error("Param is not a string");switch(o.toLowerCase()){case"numeric":return e.NUMERIC;case"alphanumeric":return e.ALPHANUMERIC;case"kanji":return e.KANJI;case"byte":return e.BYTE;default:throw new Error("Unknown mode: "+o)}}e.from=function(i,l){if(e.isValid(i))return i;try{return r(i)}catch{return l}}})(zr);(function(e){const t=on,n=Ha,r=Ka,o=zr,i=Uf,l=7973,c=t.getBCHDigit(l);function u(g,x,E){for(let w=1;w<=40;w++)if(x<=e.getCapacity(w,E,g))return w}function d(g,x){return o.getCharCountIndicator(g,x)+4}function p(g,x){let E=0;return g.forEach(function(w){const A=d(w.mode,x);E+=A+w.getBitsLength()}),E}function h(g,x){for(let E=1;E<=40;E++)if(p(g,E)<=e.getCapacity(E,x,o.MIXED))return E}e.from=function(x,E){return i.isValid(x)?parseInt(x,10):E},e.getCapacity=function(x,E,w){if(!i.isValid(x))throw new Error("Invalid QR Code version");typeof w>"u"&&(w=o.BYTE);const A=t.getSymbolTotalCodewords(x),f=n.getTotalCodewordsCount(x,E),m=(A-f)*8;if(w===o.MIXED)return m;const y=m-d(w,x);switch(w){case o.NUMERIC:return Math.floor(y/10*3);case o.ALPHANUMERIC:return Math.floor(y/11*2);case o.KANJI:return Math.floor(y/13);case o.BYTE:default:return Math.floor(y/8)}},e.getBestVersionForData=function(x,E){let w;const A=r.from(E,r.M);if(Array.isArray(x)){if(x.length>1)return h(x,A);if(x.length===0)return 1;w=x[0]}else w=x;return u(w.mode,w.getLength(),A)},e.getEncodedBits=function(x){if(!i.isValid(x)||x<7)throw new Error("Invalid QR Code version");let E=x<<12;for(;t.getBCHDigit(E)-c>=0;)E^=l<<t.getBCHDigit(E)-c;return x<<12|E}})(Ky);var Wy={};const id=on,Vy=1335,yk=21522,zm=id.getBCHDigit(Vy);Wy.getEncodedBits=function(t,n){const r=t.bit<<3|n;let o=r<<10;for(;id.getBCHDigit(o)-zm>=0;)o^=Vy<<id.getBCHDigit(o)-zm;return(r<<10|o)^yk};var Gy={};const xk=zr;function ui(e){this.mode=xk.NUMERIC,this.data=e.toString()}ui.getBitsLength=function(t){return 10*Math.floor(t/3)+(t%3?t%3*3+1:0)};ui.prototype.getLength=function(){return this.data.length};ui.prototype.getBitsLength=function(){return ui.getBitsLength(this.data.length)};ui.prototype.write=function(t){let n,r,o;for(n=0;n+3<=this.data.length;n+=3)r=this.data.substr(n,3),o=parseInt(r,10),t.put(o,10);const i=this.data.length-n;i>0&&(r=this.data.substr(n),o=parseInt(r,10),t.put(o,i*3+1))};var Sk=ui;const vk=zr,Rc=["0","1","2","3","4","5","6","7","8","9","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z"," ","$","%","*","+","-",".","/",":"];function di(e){this.mode=vk.ALPHANUMERIC,this.data=e}di.getBitsLength=function(t){return 11*Math.floor(t/2)+6*(t%2)};di.prototype.getLength=function(){return this.data.length};di.prototype.getBitsLength=function(){return di.getBitsLength(this.data.length)};di.prototype.write=function(t){let n;for(n=0;n+2<=this.data.length;n+=2){let r=Rc.indexOf(this.data[n])*45;r+=Rc.indexOf(this.data[n+1]),t.put(r,11)}this.data.length%2&&t.put(Rc.indexOf(this.data[n]),6)};var wk=di;const Ek=zr;function fi(e){this.mode=Ek.BYTE,typeof e=="string"?this.data=new TextEncoder().encode(e):this.data=new Uint8Array(e)}fi.getBitsLength=function(t){return t*8};fi.prototype.getLength=function(){return this.data.length};fi.prototype.getBitsLength=function(){return fi.getBitsLength(this.data.length)};fi.prototype.write=function(e){for(let t=0,n=this.data.length;t<n;t++)e.put(this.data[t],8)};var kk=fi;const Ak=zr,Tk=on;function pi(e){this.mode=Ak.KANJI,this.data=e}pi.getBitsLength=function(t){return t*13};pi.prototype.getLength=function(){return this.data.length};pi.prototype.getBitsLength=function(){return pi.getBitsLength(this.data.length)};pi.prototype.write=function(e){let t;for(t=0;t<this.data.length;t++){let n=Tk.toSJIS(this.data[t]);if(n>=33088&&n<=40956)n-=33088;else if(n>=57408&&n<=60351)n-=49472;else throw new Error("Invalid SJIS character: "+this.data[t]+`
Make sure your charset is UTF-8`);n=(n>>>8&255)*192+(n&255),e.put(n,13)}};var Ck=pi,Qy={exports:{}};(function(e){var t={single_source_shortest_paths:function(n,r,o){var i={},l={};l[r]=0;var c=t.PriorityQueue.make();c.push(r,0);for(var u,d,p,h,g,x,E,w,A;!c.empty();){u=c.pop(),d=u.value,h=u.cost,g=n[d]||{};for(p in g)g.hasOwnProperty(p)&&(x=g[p],E=h+x,w=l[p],A=typeof l[p]>"u",(A||w>E)&&(l[p]=E,c.push(p,E),i[p]=d))}if(typeof o<"u"&&typeof l[o]>"u"){var f=["Could not find a path from ",r," to ",o,"."].join("");throw new Error(f)}return i},extract_shortest_path_from_predecessor_list:function(n,r){for(var o=[],i=r;i;)o.push(i),n[i],i=n[i];return o.reverse(),o},find_path:function(n,r,o){var i=t.single_source_shortest_paths(n,r,o);return t.extract_shortest_path_from_predecessor_list(i,o)},PriorityQueue:{make:function(n){var r=t.PriorityQueue,o={},i;n=n||{};for(i in r)r.hasOwnProperty(i)&&(o[i]=r[i]);return o.queue=[],o.sorter=n.sorter||r.default_sorter,o},default_sorter:function(n,r){return n.cost-r.cost},push:function(n,r){var o={value:n,cost:r};this.queue.push(o),this.queue.sort(this.sorter)},pop:function(){return this.queue.shift()},empty:function(){return this.queue.length===0}}};e.exports=t})(Qy);var Ik=Qy.exports;(function(e){const t=zr,n=Sk,r=wk,o=kk,i=Ck,l=Kn,c=on,u=Ik;function d(f){return unescape(encodeURIComponent(f)).length}function p(f,m,y){const v=[];let _;for(;(_=f.exec(y))!==null;)v.push({data:_[0],index:_.index,mode:m,length:_[0].length});return v}function h(f){const m=p(l.NUMERIC,t.NUMERIC,f),y=p(l.ALPHANUMERIC,t.ALPHANUMERIC,f);let v,_;return c.isKanjiModeEnabled()?(v=p(l.BYTE,t.BYTE,f),_=p(l.KANJI,t.KANJI,f)):(v=p(l.BYTE_KANJI,t.BYTE,f),_=[]),m.concat(y,v,_).sort(function(P,O){return P.index-O.index}).map(function(P){return{data:P.data,mode:P.mode,length:P.length}})}function g(f,m){switch(m){case t.NUMERIC:return n.getBitsLength(f);case t.ALPHANUMERIC:return r.getBitsLength(f);case t.KANJI:return i.getBitsLength(f);case t.BYTE:return o.getBitsLength(f)}}function x(f){return f.reduce(function(m,y){const v=m.length-1>=0?m[m.length-1]:null;return v&&v.mode===y.mode?(m[m.length-1].data+=y.data,m):(m.push(y),m)},[])}function E(f){const m=[];for(let y=0;y<f.length;y++){const v=f[y];switch(v.mode){case t.NUMERIC:m.push([v,{data:v.data,mode:t.ALPHANUMERIC,length:v.length},{data:v.data,mode:t.BYTE,length:v.length}]);break;case t.ALPHANUMERIC:m.push([v,{data:v.data,mode:t.BYTE,length:v.length}]);break;case t.KANJI:m.push([v,{data:v.data,mode:t.BYTE,length:d(v.data)}]);break;case t.BYTE:m.push([{data:v.data,mode:t.BYTE,length:d(v.data)}])}}return m}function w(f,m){const y={},v={start:{}};let _=["start"];for(let I=0;I<f.length;I++){const P=f[I],O=[];for(let V=0;V<P.length;V++){const F=P[V],xe=""+I+V;O.push(xe),y[xe]={node:F,lastCount:0},v[xe]={};for(let Q=0;Q<_.length;Q++){const ue=_[Q];y[ue]&&y[ue].node.mode===F.mode?(v[ue][xe]=g(y[ue].lastCount+F.length,F.mode)-g(y[ue].lastCount,F.mode),y[ue].lastCount+=F.length):(y[ue]&&(y[ue].lastCount=F.length),v[ue][xe]=g(F.length,F.mode)+4+t.getCharCountIndicator(F.mode,m))}}_=O}for(let I=0;I<_.length;I++)v[_[I]].end=0;return{map:v,table:y}}function A(f,m){let y;const v=t.getBestModeForData(f);if(y=t.from(m,v),y!==t.BYTE&&y.bit<v.bit)throw new Error('"'+f+'" cannot be encoded with mode '+t.toString(y)+`.
 Suggested mode is: `+t.toString(v));switch(y===t.KANJI&&!c.isKanjiModeEnabled()&&(y=t.BYTE),y){case t.NUMERIC:return new n(f);case t.ALPHANUMERIC:return new r(f);case t.KANJI:return new i(f);case t.BYTE:return new o(f)}}e.fromArray=function(m){return m.reduce(function(y,v){return typeof v=="string"?y.push(A(v,null)):v.data&&y.push(A(v.data,v.mode)),y},[])},e.fromString=function(m,y){const v=h(m,c.isKanjiModeEnabled()),_=E(v),I=w(_,y),P=u.find_path(I.map,"start","end"),O=[];for(let V=1;V<P.length-1;V++)O.push(I.table[P[V]].node);return e.fromArray(x(O))},e.rawSplit=function(m){return e.fromArray(h(m,c.isKanjiModeEnabled()))}})(Gy);const Va=on,Lc=Ka,_k=ak,Nk=ck,bk=zy,Pk=Uy,sd=By,ld=Ha,jk=dk,va=Ky,Rk=Wy,Lk=zr,Oc=Gy;function Ok(e,t){const n=e.size,r=Pk.getPositions(t);for(let o=0;o<r.length;o++){const i=r[o][0],l=r[o][1];for(let c=-1;c<=7;c++)if(!(i+c<=-1||n<=i+c))for(let u=-1;u<=7;u++)l+u<=-1||n<=l+u||(c>=0&&c<=6&&(u===0||u===6)||u>=0&&u<=6&&(c===0||c===6)||c>=2&&c<=4&&u>=2&&u<=4?e.set(i+c,l+u,!0,!0):e.set(i+c,l+u,!1,!0))}}function Dk(e){const t=e.size;for(let n=8;n<t-8;n++){const r=n%2===0;e.set(n,6,r,!0),e.set(6,n,r,!0)}}function Mk(e,t){const n=bk.getPositions(t);for(let r=0;r<n.length;r++){const o=n[r][0],i=n[r][1];for(let l=-2;l<=2;l++)for(let c=-2;c<=2;c++)l===-2||l===2||c===-2||c===2||l===0&&c===0?e.set(o+l,i+c,!0,!0):e.set(o+l,i+c,!1,!0)}}function zk(e,t){const n=e.size,r=va.getEncodedBits(t);let o,i,l;for(let c=0;c<18;c++)o=Math.floor(c/3),i=c%3+n-8-3,l=(r>>c&1)===1,e.set(o,i,l,!0),e.set(i,o,l,!0)}function Dc(e,t,n){const r=e.size,o=Rk.getEncodedBits(t,n);let i,l;for(i=0;i<15;i++)l=(o>>i&1)===1,i<6?e.set(i,8,l,!0):i<8?e.set(i+1,8,l,!0):e.set(r-15+i,8,l,!0),i<8?e.set(8,r-i-1,l,!0):i<9?e.set(8,15-i-1+1,l,!0):e.set(8,15-i-1,l,!0);e.set(r-8,8,1,!0)}function Uk(e,t){const n=e.size;let r=-1,o=n-1,i=7,l=0;for(let c=n-1;c>0;c-=2)for(c===6&&c--;;){for(let u=0;u<2;u++)if(!e.isReserved(o,c-u)){let d=!1;l<t.length&&(d=(t[l]>>>i&1)===1),e.set(o,c-u,d),i--,i===-1&&(l++,i=7)}if(o+=r,o<0||n<=o){o-=r,r=-r;break}}}function Bk(e,t,n){const r=new _k;n.forEach(function(u){r.put(u.mode.bit,4),r.put(u.getLength(),Lk.getCharCountIndicator(u.mode,e)),u.write(r)});const o=Va.getSymbolTotalCodewords(e),i=ld.getTotalCodewordsCount(e,t),l=(o-i)*8;for(r.getLengthInBits()+4<=l&&r.put(0,4);r.getLengthInBits()%8!==0;)r.putBit(0);const c=(l-r.getLengthInBits())/8;for(let u=0;u<c;u++)r.put(u%2?17:236,8);return Fk(r,e,t)}function Fk(e,t,n){const r=Va.getSymbolTotalCodewords(t),o=ld.getTotalCodewordsCount(t,n),i=r-o,l=ld.getBlocksCount(t,n),c=r%l,u=l-c,d=Math.floor(r/l),p=Math.floor(i/l),h=p+1,g=d-p,x=new jk(g);let E=0;const w=new Array(l),A=new Array(l);let f=0;const m=new Uint8Array(e.buffer);for(let P=0;P<l;P++){const O=P<u?p:h;w[P]=m.slice(E,E+O),A[P]=x.encode(w[P]),E+=O,f=Math.max(f,O)}const y=new Uint8Array(r);let v=0,_,I;for(_=0;_<f;_++)for(I=0;I<l;I++)_<w[I].length&&(y[v++]=w[I][_]);for(_=0;_<g;_++)for(I=0;I<l;I++)y[v++]=A[I][_];return y}function $k(e,t,n,r){let o;if(Array.isArray(e))o=Oc.fromArray(e);else if(typeof e=="string"){let d=t;if(!d){const p=Oc.rawSplit(e);d=va.getBestVersionForData(p,n)}o=Oc.fromString(e,d||40)}else throw new Error("Invalid data");const i=va.getBestVersionForData(o,n);if(!i)throw new Error("The amount of data is too big to be stored in a QR Code");if(!t)t=i;else if(t<i)throw new Error(`
The chosen QR Code version cannot contain this amount of data.
Minimum version required to store current data is: `+i+`.
`);const l=Bk(t,n,o),c=Va.getSymbolSize(t),u=new Nk(c);return Ok(u,t),Dk(u),Mk(u,t),Dc(u,n,0),t>=7&&zk(u,t),Uk(u,l),isNaN(r)&&(r=sd.getBestMask(u,Dc.bind(null,u,n))),sd.applyMask(r,u),Dc(u,n,r),{modules:u,version:t,errorCorrectionLevel:n,maskPattern:r,segments:o}}Dy.create=function(t,n){if(typeof t>"u"||t==="")throw new Error("No input text");let r=Lc.M,o,i;return typeof n<"u"&&(r=Lc.from(n.errorCorrectionLevel,Lc.M),o=va.from(n.version),i=sd.from(n.maskPattern),n.toSJISFunc&&Va.setToSJISFunction(n.toSJISFunc)),$k(t,o,r,i)};var Xy={},Bf={};(function(e){function t(n){if(typeof n=="number"&&(n=n.toString()),typeof n!="string")throw new Error("Color should be defined as hex string");let r=n.slice().replace("#","").split("");if(r.length<3||r.length===5||r.length>8)throw new Error("Invalid hex color: "+n);(r.length===3||r.length===4)&&(r=Array.prototype.concat.apply([],r.map(function(i){return[i,i]}))),r.length===6&&r.push("F","F");const o=parseInt(r.join(""),16);return{r:o>>24&255,g:o>>16&255,b:o>>8&255,a:o&255,hex:"#"+r.slice(0,6).join("")}}e.getOptions=function(r){r||(r={}),r.color||(r.color={});const o=typeof r.margin>"u"||r.margin===null||r.margin<0?4:r.margin,i=r.width&&r.width>=21?r.width:void 0,l=r.scale||4;return{width:i,scale:i?4:l,margin:o,color:{dark:t(r.color.dark||"#000000ff"),light:t(r.color.light||"#ffffffff")},type:r.type,rendererOpts:r.rendererOpts||{}}},e.getScale=function(r,o){return o.width&&o.width>=r+o.margin*2?o.width/(r+o.margin*2):o.scale},e.getImageWidth=function(r,o){const i=e.getScale(r,o);return Math.floor((r+o.margin*2)*i)},e.qrToImageData=function(r,o,i){const l=o.modules.size,c=o.modules.data,u=e.getScale(l,i),d=Math.floor((l+i.margin*2)*u),p=i.margin*u,h=[i.color.light,i.color.dark];for(let g=0;g<d;g++)for(let x=0;x<d;x++){let E=(g*d+x)*4,w=i.color.light;if(g>=p&&x>=p&&g<d-p&&x<d-p){const A=Math.floor((g-p)/u),f=Math.floor((x-p)/u);w=h[c[A*l+f]?1:0]}r[E++]=w.r,r[E++]=w.g,r[E++]=w.b,r[E]=w.a}}})(Bf);(function(e){const t=Bf;function n(o,i,l){o.clearRect(0,0,i.width,i.height),i.style||(i.style={}),i.height=l,i.width=l,i.style.height=l+"px",i.style.width=l+"px"}function r(){try{return document.createElement("canvas")}catch{throw new Error("You need to specify a canvas element")}}e.render=function(i,l,c){let u=c,d=l;typeof u>"u"&&(!l||!l.getContext)&&(u=l,l=void 0),l||(d=r()),u=t.getOptions(u);const p=t.getImageWidth(i.modules.size,u),h=d.getContext("2d"),g=h.createImageData(p,p);return t.qrToImageData(g.data,i,u),n(h,d,p),h.putImageData(g,0,0),d},e.renderToDataURL=function(i,l,c){let u=c;typeof u>"u"&&(!l||!l.getContext)&&(u=l,l=void 0),u||(u={});const d=e.render(i,l,u),p=u.type||"image/png",h=u.rendererOpts||{};return d.toDataURL(p,h.quality)}})(Xy);var Yy={};const Kk=Bf;function Um(e,t){const n=e.a/255,r=t+'="'+e.hex+'"';return n<1?r+" "+t+'-opacity="'+n.toFixed(2).slice(1)+'"':r}function Mc(e,t,n){let r=e+t;return typeof n<"u"&&(r+=" "+n),r}function Hk(e,t,n){let r="",o=0,i=!1,l=0;for(let c=0;c<e.length;c++){const u=Math.floor(c%t),d=Math.floor(c/t);!u&&!i&&(i=!0),e[c]?(l++,c>0&&u>0&&e[c-1]||(r+=i?Mc("M",u+n,.5+d+n):Mc("m",o,0),o=0,i=!1),u+1<t&&e[c+1]||(r+=Mc("h",l),l=0)):o++}return r}Yy.render=function(t,n,r){const o=Kk.getOptions(n),i=t.modules.size,l=t.modules.data,c=i+o.margin*2,u=o.color.light.a?"<path "+Um(o.color.light,"fill")+' d="M0 0h'+c+"v"+c+'H0z"/>':"",d="<path "+Um(o.color.dark,"stroke")+' d="'+Hk(l,i,o.margin)+'"/>',p='viewBox="0 0 '+c+" "+c+'"',g='<svg xmlns="http://www.w3.org/2000/svg" '+(o.width?'width="'+o.width+'" height="'+o.width+'" ':"")+p+' shape-rendering="crispEdges">'+u+d+`</svg>
`;return typeof r=="function"&&r(null,g),g};const Wk=sk,ad=Dy,Jy=Xy,Vk=Yy;function Ff(e,t,n,r,o){const i=[].slice.call(arguments,1),l=i.length,c=typeof i[l-1]=="function";if(!c&&!Wk())throw new Error("Callback required as last argument");if(c){if(l<2)throw new Error("Too few arguments provided");l===2?(o=n,n=t,t=r=void 0):l===3&&(t.getContext&&typeof o>"u"?(o=r,r=void 0):(o=r,r=n,n=t,t=void 0))}else{if(l<1)throw new Error("Too few arguments provided");return l===1?(n=t,t=r=void 0):l===2&&!t.getContext&&(r=n,n=t,t=void 0),new Promise(function(u,d){try{const p=ad.create(n,r);u(e(p,t,r))}catch(p){d(p)}})}try{const u=ad.create(n,r);o(null,e(u,t,r))}catch(u){o(u)}}zs.create=ad.create;zs.toCanvas=Ff.bind(null,Jy.render);zs.toDataURL=Ff.bind(null,Jy.renderToDataURL);zs.toString=Ff.bind(null,function(e,t,n){return Vk.render(e,n)});var xh;const Yo=((xh=import.meta)==null?void 0:xh.env)??{},cd="forgeos.execution.audit.v1";function $f(e,t,n,r){const o=Number(Yo==null?void 0:Yo[e]);return Number.isFinite(o)?Math.min(r,Math.max(n,Math.floor(o))):t}function Gk(e,t,n,r){const o=Number(Yo==null?void 0:Yo[e]);return Number.isFinite(o)?Math.min(r,Math.max(n,o)):t}const Zy=$f("VITE_EXECUTION_AUDIT_MAX_EVENTS",600,50,5e3);$f("VITE_EXECUTION_SLO_WINDOW_MS",6*60*60*1e3,6e4,7*24*60*60*1e3);Gk("VITE_EXECUTION_SLO_TARGET_PCT",99,50,100);$f("VITE_EXECUTION_SLO_MIN_SAMPLES",25,1,2e4);function Kf(){var e;return typeof chrome>"u"||!((e=chrome==null?void 0:chrome.storage)!=null&&e.local)?null:chrome.storage.local}function Bm(){return typeof crypto<"u"&&typeof crypto.randomUUID=="function"?crypto.randomUUID():`evt_${Date.now()}_${Math.random().toString(36).slice(2,8)}`}function Qk(e){if(!e||typeof e!="object")return null;const t=e,n=typeof t.id=="string"?t.id:"",r=typeof t.runId=="string"?t.runId:"",o=t.channel,i=t.stage,l=t.status;if(!n||!r||o!=="manual"&&o!=="swap"&&o!=="agent"||i!=="build"&&i!=="validate"&&i!=="sign"&&i!=="broadcast"&&i!=="reconcile"||l!=="ok"&&l!=="failed")return null;const c=Number(t.ts),u=typeof t.txState=="string"?t.txState:null;return{id:n,runId:r,channel:o,stage:i,status:l,ts:Number.isFinite(c)?c:Date.now(),network:typeof t.network=="string"?t.network:"mainnet",txId:typeof t.txId=="string"?t.txId:null,txState:u,backendSource:t.backendSource==="local"||t.backendSource==="remote"?t.backendSource:null,backendReason:typeof t.backendReason=="string"?t.backendReason:null,backendEndpoint:typeof t.backendEndpoint=="string"?t.backendEndpoint:null,error:typeof t.error=="string"?t.error:null,context:t.context&&typeof t.context=="object"?t.context:{}}}function Fm(e){if(!Array.isArray(e))return[];const t=[];for(const n of e){const r=Qk(n);r&&t.push(r)}return t.sort((n,r)=>r.ts-n.ts),t.slice(0,Zy)}async function Xk(){const e=Kf();return e?new Promise(t=>{e.get(cd,n=>{const r=n==null?void 0:n[cd];if(!r){t([]);return}if(typeof r=="string")try{t(Fm(JSON.parse(r)));return}catch{t([]);return}t(Fm(r))})}):[]}async function Yk(e){const t=Kf();if(t)return new Promise(n=>{t.set({[cd]:e},n)})}async function bC(e){var i,l,c,u,d;const t={id:Bm(),runId:String(e.runId||"").trim()||`run_${Bm()}`,channel:e.channel,stage:e.stage,status:e.status,ts:Date.now(),network:String(e.network||"mainnet"),txId:((i=e.tx)==null?void 0:i.txId)??null,txState:((l=e.tx)==null?void 0:l.state)??null,backendSource:((c=e.tx)==null?void 0:c.receiptSourceBackend)??null,backendReason:((u=e.tx)==null?void 0:u.receiptSourceReason)??null,backendEndpoint:((d=e.tx)==null?void 0:d.receiptSourceEndpoint)??null,error:e.error?String(e.error):null,context:e.context?{...e.context}:{}};if(!Kf())return t;const r=await Xk(),o=[t,...r].slice(0,Zy);return await Yk(o),t}function $m(e){const t=String(e||"run").toLowerCase().replace(/[^a-z0-9_-]/g,"")||"run";return typeof crypto<"u"&&typeof crypto.randomUUID=="function"?`${t}_${crypto.randomUUID()}`:`${t}_${Date.now()}_${Math.random().toString(36).slice(2,8)}`}var Sh;const Zn=((Sh=import.meta)==null?void 0:Sh.env)??{},Jk=3500,Zk=2e4,qk=512,On=new Map,Km=100,eA=0,tA=200,nA=12,rA=35,oA=55,iA=8,sA=2,lA=12e4,aA=1500,cA=3e4,Hm=new Map;function zc(e){const t=String((Zn==null?void 0:Zn[e])??"").trim();if(!t)return[];const n=t.split(/[,\s]+/).map(r=>r.trim().replace(/\/+$/,"")).filter(Boolean);return[...new Set(n)]}function Bs(e,t){const n=String((Zn==null?void 0:Zn[e])??"").trim();if(!n)return t;const r=Number(n);return Number.isFinite(r)?Math.max(0,Math.floor(r)):t}function Fs(e,t){const n=String((Zn==null?void 0:Zn[e])??"").trim();if(!n)return t;const r=Number(n);return Number.isFinite(r)?Math.max(0,r):t}function uA(){return Bs("VITE_SWAP_KRC_TOKEN_METADATA_CACHE_TTL_MS",Zk)}function dA(){return Math.max(1,Bs("VITE_SWAP_KRC_TOKEN_METADATA_CACHE_MAX_ENTRIES",qk))}function fA(){return Fs("VITE_SWAP_KRC_TOKEN_METADATA_ENDPOINT_SUCCESS_REWARD",nA)}function pA(){return Fs("VITE_SWAP_KRC_TOKEN_METADATA_ENDPOINT_FAILURE_PENALTY",rA)}function mA(){return Fs("VITE_SWAP_KRC_TOKEN_METADATA_ENDPOINT_TIMEOUT_PENALTY",oA)}function hA(){return Fs("VITE_SWAP_KRC_TOKEN_METADATA_ENDPOINT_MISS_PENALTY",iA)}function gA(){return Fs("VITE_SWAP_KRC_TOKEN_METADATA_ENDPOINT_LATENCY_PENALTY_PER_100MS",sA)}function yA(){return Bs("VITE_SWAP_KRC_TOKEN_METADATA_ENDPOINT_DECAY_TAU_MS",lA)}function xA(){return Bs("VITE_SWAP_KRC_TOKEN_METADATA_ENDPOINT_BACKOFF_BASE_MS",aA)}function SA(){return Bs("VITE_SWAP_KRC_TOKEN_METADATA_ENDPOINT_BACKOFF_MAX_MS",cA)}function vA(e){return e==="testnet-10"?"TN10":e==="testnet-11"?"TN11":e==="testnet-12"?"TN12":"MAINNET"}function qy(e){const t=vA(e),n=zc("VITE_SWAP_KRC_TOKEN_METADATA_ENDPOINTS"),r=zc(`VITE_KASPA_KASPLEX_${t}_API_ENDPOINTS`),o=zc("VITE_KASPA_KASPLEX_API_ENDPOINTS");return[...new Set([...n,...r,...o])]}function e1(e,t={},n=Jk){const r=new AbortController,o=setTimeout(()=>r.abort(),n);return fetch(e,{...t,signal:r.signal}).finally(()=>clearTimeout(o))}function ud(e){return e&&typeof e=="object"&&!Array.isArray(e)?e:null}function wA(e){const t=["token","data","result","item","collection","metadata"];for(const n of t){const r=ud(e[n]);if(r)return r}return null}function Mn(e,t){for(const n of t){const r=e[n];if(typeof r=="string"&&r.trim())return r.trim()}return""}function EA(e,t){for(const n of t){const r=e[n],o=typeof r=="number"?r:Number(r);if(Number.isFinite(o))return o}return null}function wa(e){return String(e||"").trim().toLowerCase()}function t1(e,t,n){return`${n}|${t}|${wa(e)}`}function Ns(e){return{...e}}function kA(e){const t=On.get(e);return t?t.expiresAt<=Date.now()?(On.delete(e),null):(On.delete(e),On.set(e,t),Ns(t.token)):null}function dd(e,t){const n=uA();if(n<=0)return;On.has(e)&&On.delete(e),On.set(e,{token:Ns(t),expiresAt:Date.now()+n});const r=dA();for(;On.size>r;){const o=On.keys().next().value;if(typeof o!="string")break;On.delete(o)}}function $l(e){return Math.max(eA,Math.min(tA,e))}function n1(e,t=Date.now()){let n=Hm.get(e);if(!n)return n={score:Km,consecutiveFailures:0,backoffUntil:0,lastUpdatedAt:t},Hm.set(e,n),n;const r=Math.max(0,t-n.lastUpdatedAt),o=yA();if(o>0&&r>0){const i=1-Math.exp(-r/o);n.score=$l(n.score+(Km-n.score)*i)}return n.lastUpdatedAt=t,n}function AA(e){const t=gA();return t<=0?0:Math.max(0,e)/100*t}function r1(e,t,n,r=Date.now()){const o=n1(e,r),i=AA(n);if(t==="success"){o.consecutiveFailures=0,o.backoffUntil=0,o.score=$l(o.score+fA()-i);return}if(t==="miss"){o.score=$l(o.score-hA()-i*.5),o.consecutiveFailures=Math.max(0,o.consecutiveFailures-1);return}const l=t==="timeout"?mA():pA();o.consecutiveFailures+=1,o.score=$l(o.score-l-i);const c=xA(),u=SA(),d=Math.min(u,c*Math.pow(2,Math.max(0,o.consecutiveFailures-1)));o.backoffUntil=r+d}function o1(e,t=Date.now()){const n=[],r=[];for(const o of e){const i=n1(o,t);i.backoffUntil>t?r.push({endpoint:o,score:i.score,backoffUntil:i.backoffUntil}):n.push({endpoint:o,score:i.score})}return n.sort((o,i)=>i.score-o.score),n.length>0?n.map(o=>o.endpoint):(r.sort((o,i)=>o.backoffUntil-i.backoffUntil||i.score-o.score),r.length>0?[r[0].endpoint]:[])}function TA(e,t){const n=t==="krc721"?0:8;return Number.isFinite(e)?Math.max(0,Math.min(18,Math.floor(e))):n}function CA(e){let t=2166136261;for(let n=0;n<e.length;n+=1)t^=e.charCodeAt(n),t=Math.imul(t,16777619);return t>>>0}function Wm(e,t=64,n=52){return`hsl(${e%360} ${t}% ${n}%)`}function i1(e,t){const n=wa(e),r=CA(`${t}:${n}`),o=Wm(r),i=Wm(r>>3),l=t==="krc721"?"721":"20",c=n.slice(0,6).toUpperCase(),u=`<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 120 120'><defs><linearGradient id='g' x1='0' y1='0' x2='1' y2='1'><stop offset='0%' stop-color='${o}'/><stop offset='100%' stop-color='${i}'/></linearGradient></defs><rect width='120' height='120' rx='24' fill='url(#g)'/><text x='60' y='56' text-anchor='middle' font-family='IBM Plex Mono, monospace' font-size='18' fill='white'>${l}</text><text x='60' y='78' text-anchor='middle' font-family='IBM Plex Mono, monospace' font-size='10' fill='white'>${c}</text></svg>`;return`data:image/svg+xml;utf8,${encodeURIComponent(u)}`}function IA(e,t){const n=String(e??"").trim().toLowerCase();return n.includes("721")?"krc721":n.includes("20")?"krc20":n==="nft"?"krc721":n==="ft"?"krc20":t}function s1(e,t,n){const o=Mn(e,["address","tokenAddress","contractAddress","contract","id","assetId"])||t,i=IA(Mn(e,["standard","type","tokenType","protocol"]),n),l=Mn(e,["symbol","ticker","tick","tokenSymbol"])||o.slice(0,6).toUpperCase(),c=Mn(e,["name","collectionName","tokenName","title"])||l,u=EA(e,["decimals","decimal","precision"]),d=TA(u??(i==="krc721"?0:8),i),p=Mn(e,["logo","logoUrl","image","imageUrl","icon","iconUrl"])||i1(o,i);return{address:o,standard:i,symbol:l,name:c,decimals:d,logoUri:p}}function l1(e){const t=[],n=ud(e);if(!n)return t;t.push(n);const r=wA(n);r&&t.push(r);for(const o of["tokens","items","results","data"]){const i=n[o];if(Array.isArray(i))for(const l of i){const c=ud(l);c&&t.push(c)}}return t}function _A(e,t){const n=wa(t);if(!n)return e[0]??null;for(const r of e){const o=wa(Mn(r,["address","tokenAddress","contractAddress","contract","id","assetId"]));if(o&&o===n)return r}return e[0]??null}function NA(e,t){const n=encodeURIComponent(e);return t==="krc721"?[`/krc721/tokens/${n}`,`/krc721/collections/${n}`,`/krc721/${n}`,`/tokens/${n}`,`/token/${n}`,`/v1/krc721/${n}`]:[`/krc20/tokens/${n}`,`/krc20/token/${n}`,`/krc20/${n}`,`/tokens/${n}`,`/token/${n}`,`/v1/krc20/${n}`]}function bA(e,t){const n=encodeURIComponent(e);return t==="krc721"?[`/krc721/tokens?search=${n}`,`/krc721/tokens?q=${n}`,`/krc721/collections?search=${n}`,`/krc721/search?query=${n}`,`/tokens?search=${n}`,`/token/search?query=${n}`,`/v1/krc721/tokens?search=${n}`]:[`/krc20/tokens?search=${n}`,`/krc20/tokens?q=${n}`,`/krc20/search?query=${n}`,`/tokens?search=${n}`,`/token/search?query=${n}`,`/v1/krc20/tokens?search=${n}`]}function PA(e,t){const n=Mn(e,["symbol","ticker","tick","tokenSymbol"]).toLowerCase(),r=Mn(e,["name","collectionName","tokenName","title"]).toLowerCase(),o=Mn(e,["address","tokenAddress","contractAddress","contract","id","assetId"]).toLowerCase();return o?n===t?0:r===t?1:o===t?2:n.startsWith(t)?3:r.startsWith(t)?4:n.includes(t)?5:r.includes(t)?6:Number.POSITIVE_INFINITY:Number.POSITIVE_INFINITY}function jA(e,t){const n=String(t||"").trim().toLowerCase();if(!n)return null;let r=null,o=Number.POSITIVE_INFINITY;for(const i of e){const l=PA(i,n);l<o&&(r=i,o=l)}return Number.isFinite(o)?r:null}async function RA(e,t,n){const r=Date.now(),o=e.replace(/\/+$/,""),i=NA(t,n);let l=!1,c=!1;for(const u of i)try{const d=await e1(`${o}${u}`,{method:"GET"});if(!d.ok){(d.status>=500||d.status===429)&&(l=!0);continue}const p=await d.json().catch(()=>null);if(!p){l=!0;continue}const h=l1(p);if(h.length===0)continue;const g=_A(h,t);if(!g)continue;return{token:s1(g,t,n),outcome:"success",elapsedMs:Math.max(0,Date.now()-r)}}catch(d){d instanceof Error&&d.name==="AbortError"?c=!0:l=!0}return{token:null,outcome:c?"timeout":l?"failure":"miss",elapsedMs:Math.max(0,Date.now()-r)}}async function LA(e,t,n){const r=Date.now(),o=e.replace(/\/+$/,""),i=bA(t,n);let l=!1,c=!1;for(const u of i)try{const d=await e1(`${o}${u}`,{method:"GET"});if(!d.ok){(d.status>=500||d.status===429)&&(l=!0);continue}const p=await d.json().catch(()=>null);if(!p){l=!0;continue}const h=l1(p);if(h.length===0)continue;const g=jA(h,t);if(!g)continue;const x=Mn(g,["address","tokenAddress","contractAddress","contract","id","assetId"]);if(!x)continue;return{token:s1(g,x,n),outcome:"success",elapsedMs:Math.max(0,Date.now()-r)}}catch(d){d instanceof Error&&d.name==="AbortError"?c=!0:l=!0}return{token:null,outcome:c?"timeout":l?"failure":"miss",elapsedMs:Math.max(0,Date.now()-r)}}async function Ga(e,t,n){const r=String(e||"").trim();if(!r)throw new Error("Token address is required.");const o=t1(r,t,n),i=kA(o);if(i)return i;const l=o1(qy(n));for(const u of l){const d=await RA(u,r,t);if(r1(u,d.outcome,d.elapsedMs),d.token)return dd(o,d.token),Ns(d.token)}const c={address:r,standard:t,symbol:r.slice(0,6).toUpperCase(),name:t==="krc721"?"KRC721 Token":"KRC20 Token",decimals:t==="krc721"?0:8,logoUri:i1(r,t)};return dd(o,c),Ns(c)}function OA(e){const t=String(e||"").trim();return t?t.includes(":")||/^0x[a-fA-F0-9]{40}$/.test(t)?!0:/^[a-zA-Z0-9_-]{24,}$/.test(t):!1}async function a1(e,t,n){const r=String(e||"").trim();if(!r)return null;if(OA(r))return Ga(r,t,n);const o=o1(qy(n));for(const i of o){const l=await LA(i,r,t);if(r1(i,l.outcome,l.elapsedMs),l.token)return dd(t1(l.token.address,l.token.standard,n),l.token),Ns(l.token)}return null}var vh;const Jo=((vh=import.meta)==null?void 0:vh.env)??{},DA=1e4,MA=1500,zA=3e4,UA=3e4,BA=120,FA=360,$A=120,KA=360,HA=5*6e4,WA=6,fd="forgeos.krc.prefetch.v1",VA=3500,GA=24,Vm=new Map,Gm=new Map,Uc=new Map,Bc=new Map,Fc=new Map;function kr(e){const t=String((Jo==null?void 0:Jo[e])??"").trim();return t?[...new Set(t.split(/[,\s]+/).map(n=>n.trim().replace(/\/+$/,"")).filter(Boolean))]:[]}function Fn(e,t){const n=Number(Jo==null?void 0:Jo[e]);return Number.isFinite(n)?Math.max(0,Math.floor(n)):t}function $n(e,t,n){return Math.min(n,Math.max(t,e))}function QA(){return $n(Fn("VITE_KRC_HOLDINGS_TTL_MS",DA),5e3,15e3)}function Qm(){return $n(Fn("VITE_KRC_PRICE_TTL_MS",MA),1e3,2e3)}function Xm(){return $n(Fn("VITE_KRC_CHAIN_TTL_MS",zA),15e3,6e4)}function Ym(){return $n(Fn("VITE_KRC_CANDLES_TTL_MS",UA),15e3,6e4)}function XA(e){const t=Fn("VITE_KRC_CANDLE_FETCH_LIMIT",BA);return $n(e==="krc721"?Fn("VITE_KRC721_CANDLE_FETCH_LIMIT",Fn("VITE_KRC_CANDLE_FETCH_LIMIT",FA)):t,30,2400)}function YA(e){const t=Fn("VITE_KRC_CANDLE_POINT_MAX",$A);return $n(e==="krc721"?Fn("VITE_KRC721_CANDLE_POINT_MAX",Fn("VITE_KRC_CANDLE_POINT_MAX",KA)):t,20,2400)}function Hf(e){return e==="testnet-10"?"TN10":e==="testnet-11"?"TN11":e==="testnet-12"?"TN12":"MAINNET"}function Wf(e){const t=Hf(e),n=kr("VITE_KRC_INDEXER_ENDPOINTS"),r=kr(`VITE_KRC_INDEXER_${t}_ENDPOINTS`),o=kr(`VITE_KASPA_KASPLEX_${t}_API_ENDPOINTS`),i=kr("VITE_KASPA_KASPLEX_API_ENDPOINTS");return[...new Set([...n,...r,...o,...i])]}function c1(e){const t=Hf(e),n=kr("VITE_KRC_MARKET_ENDPOINTS"),r=kr(`VITE_KRC_MARKET_${t}_ENDPOINTS`),o=Wf(e);return[...new Set([...n,...r,...o])]}function JA(e){const t=Hf(e),n=kr("VITE_KRC_CANDLES_ENDPOINTS"),r=kr(`VITE_KRC_CANDLES_${t}_ENDPOINTS`),o=c1(e);return[...new Set([...n,...r,...o])]}function Vf(e){let t=Vm.get(e);return t||(t={score:100,failures:0,backoffUntil:0},Vm.set(e,t)),t}function Qa(e){const t=Date.now(),n=[],r=[];for(const o of e){const i=Vf(o);i.backoffUntil>t?r.push({endpoint:o,score:i.score,backoffUntil:i.backoffUntil}):n.push({endpoint:o,score:i.score})}return n.sort((o,i)=>i.score-o.score),n.length>0?n.map(o=>o.endpoint):(r.sort((o,i)=>o.backoffUntil-i.backoffUntil||i.score-o.score),r.slice(0,1).map(o=>o.endpoint))}function ZA(e,t){const n=Vf(e),r=Math.min(25,t/200);n.score=$n(Math.round(n.score+10-r),0,200),n.failures=0,n.backoffUntil=0}function qA(e,t=!1){const n=Vf(e);n.failures+=1,n.score=$n(n.score-(t?30:18),0,200);const r=Math.min(3e4,1500*Math.pow(2,Math.max(0,n.failures-1)));n.backoffUntil=Date.now()+r}function Xa(e,t){const n=e.get(t);return n?n.expiresAt<=Date.now()?(e.delete(t),null):(n.usedAt=Date.now(),e.delete(t),e.set(t,n),n.value):null}function so(e,t,n,r,o){for(e.delete(t),e.set(t,{value:n,expiresAt:Date.now()+r,usedAt:Date.now()});e.size>o;){const i=e.keys().next().value;if(typeof i!="string")break;e.delete(i)}}function Zo(e){return e&&typeof e=="object"&&!Array.isArray(e)?e:null}function u1(e,t){for(const n of t){const r=e[n];if(typeof r=="string"&&r.trim())return r.trim()}return""}function Ct(e,t){for(const n of t){const r=e[n],o=typeof r=="number"?r:Number(r);if(Number.isFinite(o))return o}return null}function eT(e){const t=String(e||"").trim();return t?/^0x[a-fA-F0-9]{40}$/.test(t)?!0:/^[a-zA-Z0-9:_-]{24,}$/.test(t):!1}function Lr(e){return String(e||"").trim().toLowerCase()}function tT(e,t="1"){if(typeof e=="bigint")return e>0n?e.toString():null;if(typeof e=="number")return!Number.isFinite(e)||e<=0?null:Math.floor(e).toString();if(typeof e=="string"){const n=e.trim();if(!n)return null;if(/^\d+$/.test(n))try{const r=BigInt(n);return r>0n?r.toString():null}catch{return null}if(/^\d+(\.\d+)?$/.test(n)){const r=Number(n);if(Number.isFinite(r)&&r>0)return Math.floor(r).toString()}}return t}function Gf(e){const t=[],n=Zo(e);if(!n)return t;t.push(n);for(const r of["data","result","items","tokens","holdings","balances","collections"]){const o=n[r];if(Array.isArray(o))for(const i of o){const l=Zo(i);l&&t.push(l)}else{const i=Zo(o);i&&t.push(i)}}return t}function nT(e){const t=new AbortController,n=setTimeout(()=>t.abort(),VA);return fetch(e,{method:"GET",signal:t.signal}).finally(()=>clearTimeout(n))}function rT(e,t){const n=encodeURIComponent(e);return t==="krc721"?[`/addresses/${n}/krc721/tokens`,`/address/${n}/krc721/tokens`,`/krc721/address/${n}/tokens`,`/krc721/holders/${n}`,`/v1/addresses/${n}/krc721/tokens`]:[`/addresses/${n}/krc20/balances`,`/address/${n}/krc20/balances`,`/krc20/address/${n}/balances`,`/krc20/holders/${n}`,`/v1/addresses/${n}/krc20/balances`]}function oT(e,t){const n=encodeURIComponent(e);return t==="krc721"?[`/krc721/collections/${n}/floor`,`/krc721/floor/${n}`,`/market/krc721/${n}`,`/v1/krc721/${n}/floor`]:[`/krc20/tokens/${n}/price`,`/krc20/price/${n}`,`/market/krc20/${n}`,`/v1/krc20/${n}/price`]}function iT(e,t){const n=encodeURIComponent(e);return t==="krc721"?[`/krc721/collections/${n}/stats`,`/krc721/stats/${n}`,`/v1/krc721/${n}/stats`,`/krc721/collections/${n}`]:[`/krc20/tokens/${n}/stats`,`/krc20/stats/${n}`,`/v1/krc20/${n}/stats`,`/krc20/tokens/${n}`]}function sT(e,t){const n=encodeURIComponent(e),r=XA(t);return t==="krc721"?[`/krc721/collections/${n}/candles?interval=1m&limit=${r}`,`/krc721/candles/${n}?interval=1m&limit=${r}`,`/market/krc721/${n}/candles?interval=1m&limit=${r}`]:[`/krc20/tokens/${n}/candles?interval=1m&limit=${r}`,`/krc20/candles/${n}?interval=1m&limit=${r}`,`/market/krc20/${n}/candles?interval=1m&limit=${r}`]}function lT(e,t){const n=new Map,r=Gf(e);for(const o of r){const i=u1(o,["tokenAddress","address","contractAddress","contract","id","assetId","collectionAddress"]);if(!eT(i))continue;const l=String(o.standard??o.type??"").toLowerCase().includes("721")?"krc721":t,c=tT(o.balance??o.amount??o.quantity??o.tokenBalance??o.rawBalance??o.count,l==="krc721"?"1":null);if(!c)continue;const u=`${l}|${Lr(i)}`,d=n.get(u);if(!d){n.set(u,{address:i,standard:l,balanceRaw:c});continue}try{const p=(BigInt(d.balanceRaw)+BigInt(c)).toString();n.set(u,{...d,balanceRaw:p})}catch{n.set(u,{...d,balanceRaw:c})}}return[...n.values()]}async function Ya(e,t,n){for(const r of t){const o=`${e}${r}`,i=Date.now();try{const l=await nT(o);if(!l.ok)continue;const c=await l.json().catch(()=>null);if(!c)continue;const u=n(c);if(u===null)continue;return ZA(e,Date.now()-i),u}catch(l){const c=l instanceof Error&&l.name==="AbortError";qA(e,c)}}return null}function aT(e,t){try{const n=BigInt(e),r=10n**BigInt(Math.max(0,t)),o=n/r,i=n%r,l=i.toString().padStart(t,"0").slice(0,6).replace(/0+$/,""),c=l?`${o.toString()}.${l}`:o.toString(),u=Number(o)+Number(i)/Number(r);return{display:c,approx:Number.isFinite(u)?u:0}}catch{return{display:e,approx:0}}}function cT(e,t,n){const r=Date.now(),o=Gf(e);for(const i of o){const l=Ct(i,["priceUsd","usdPrice","price","floorPriceUsd","floorPrice"]);if(!Number.isFinite(l))continue;const c=Ct(i,["change24hPct","change24h","priceChange24hPct"]);return{priceUsd:Number(l),change24hPct:Number.isFinite(c)?Number(c):t==="krc721"?null:0,updatedAt:r,source:n}}return null}function uT(e,t){const n=Date.now(),r=Gf(e)[0];if(!r)return null;const o=Ct(r,["holders","holderCount"]),i=Ct(r,["owners","ownerCount","uniqueOwners"]),l=u1(r,["supply","totalSupply","circulatingSupply"]),c=Ct(r,["txCount24h","transactions24h","tx24h"]),u=Ct(r,["sales24h","salesCount24h","trades24h"]),d=Ct(r,["listedCount","listed","listings","activeListings"]),p=Ct(r,["collectionItems","items","itemCount"]),h=Ct(r,["volume24hUsd","volumeUsd24h","volume24h"]),g=Ct(r,["floorPriceUsd","floorPrice"]),x=Ct(r,["floorChange24hPct","floor24hChangePct","floorChangePct24h","floorChange24h"]),E=Ct(r,["marketCapUsd","marketCap","fdvUsd","fullyDilutedValueUsd"]);return o===null&&i===null&&!l&&c===null&&u===null&&d===null&&p===null&&h===null&&g===null&&x===null&&E===null?null:{holders:Number.isFinite(o)?Number(o):null,owners:Number.isFinite(i)?Number(i):null,supply:l||null,txCount24h:Number.isFinite(c)?Number(c):null,sales24h:Number.isFinite(u)?Number(u):null,listedCount:Number.isFinite(d)?Number(d):null,collectionItems:Number.isFinite(p)?Number(p):null,volume24hUsd:Number.isFinite(h)?Number(h):null,floorPriceUsd:Number.isFinite(g)?Number(g):null,floorChange24hPct:Number.isFinite(x)?Number(x):null,marketCapUsd:Number.isFinite(E)?Number(E):null,updatedAt:n,source:t}}function dT(e,t){const n=[],r=o=>{const i=Ct(o,["ts","timestamp","time","t"]),l=Ct(o,["close","priceUsd","price","floorPriceUsd","value"]),c=Ct(o,["volumeUsd","volume","quoteVolumeUsd","volUsd","v"]);!Number.isFinite(i)||!Number.isFinite(l)||n.push({ts:Math.floor(Number(i)),valueUsd:Number(l),volumeUsd:Number.isFinite(c)?Number(c):null})};if(Array.isArray(e))for(const o of e){const i=Zo(o);i&&r(i)}else{const o=Zo(e);if(!o)return[];for(const i of["candles","data","items","result"]){const l=o[i];if(Array.isArray(l))for(const c of l){const u=Zo(c);u&&r(u)}}}return n.sort((o,i)=>o.ts-i.ts),n.slice(-YA(t))}async function Jm(e,t,n){const r=Qa(Wf(t));if(r.length===0)return[];for(const o of r){const i=await Ya(o,rT(e,n),l=>{const c=lT(l,n);return c.length>0?c:null});if(i&&i.length>0)return i}return[]}async function fT(e,t,n){const r=`${n}|${t}|${Lr(e)}`,o=Xa(Uc,r);if(o!==null)return o;const i=Qa(c1(n));for(const l of i){const c=await Ya(l,oT(e,t),u=>cT(u,t,l));if(c)return so(Uc,r,c,Qm(),1024),c}return so(Uc,r,null,Qm(),1024),null}async function pT(e,t,n){const r=`${n}|${t}|${Lr(e)}`,o=Xa(Bc,r);if(o!==null)return o;const i=Qa(Wf(n));for(const l of i){const c=await Ya(l,iT(e,t),u=>uT(u,l));if(c)return so(Bc,r,c,Xm(),512),c}return so(Bc,r,null,Xm(),512),null}async function mT(e,t,n,r){const o=`${n}|${t}|${Lr(e)}`,i=Xa(Fc,o);if(i!==null)return i;const l=Qa(JA(n));for(const p of l){const h=await Ya(p,sT(e,t),g=>{const x=dT(g,t);return x.length>0?x:null});if(h&&h.length>0)return so(Fc,o,h,Ym(),256),h}const c=Date.now(),u=r&&r>0?r:1,d=[{ts:c-6e4,valueUsd:u,volumeUsd:0},{ts:c,valueUsd:u,volumeUsd:0}];return so(Fc,o,d,Ym(),256),d}async function hT(e,t){const n=`${t}|${Lr(e)}`,r=Xa(Gm,n);if(r!==null)return r;const[o,i]=await Promise.all([Jm(e,t,"krc20"),Jm(e,t,"krc721")]),l=new Map;for(const u of[...o,...i]){const d=`${u.standard}|${Lr(u.address)}`,p=l.get(d);if(!p){l.set(d,u);continue}try{l.set(d,{...p,balanceRaw:(BigInt(p.balanceRaw)+BigInt(u.balanceRaw)).toString()})}catch{l.set(d,u)}}const c=[...l.values()].slice(0,GA);return so(Gm,n,c,QA(),128),c}async function gT(e,t){const n=[],r=[...e];return await Promise.all(Array.from({length:Math.min(t,r.length)},async()=>{for(;r.length;)n.push(await r.shift()())})),n}async function yT(e,t){const n=String(e||"").trim();if(!n)return[];const r=await hT(n,t);return r.length===0?[]:(await gT(r.map(i=>async()=>{try{const l=await Ga(i.address,i.standard,t),c=await fT(l.address,l.standard,t),u=await pT(l.address,l.standard,t),d=await mT(l.address,l.standard,t,(c==null?void 0:c.priceUsd)??(u==null?void 0:u.floorPriceUsd)??null),p=aT(i.balanceRaw,l.decimals),h=(c==null?void 0:c.priceUsd)!=null?p.approx*c.priceUsd:null;return{key:`${l.standard}|${Lr(l.address)}`,token:l,standard:l.standard,balanceRaw:i.balanceRaw,balanceDisplay:p.display,balanceApprox:p.approx,market:c,chain:u,candles:d,valueUsd:h,updatedAt:Date.now()}}catch{return null}}),4)).filter(i=>i!==null).sort((i,l)=>{const c=i.valueUsd??-1,u=l.valueUsd??-1;return c!==u?u-c:l.balanceApprox-i.balanceApprox})}function d1(){var e;return typeof chrome<"u"&&((e=chrome.storage)!=null&&e.session)?chrome.storage.session:null}async function f1(){const e=d1();if(!e)return{};const t=await e.get(fd),n=t==null?void 0:t[fd];return!n||typeof n!="object"?{}:n}async function xT(e){const t=d1();t&&await t.set({[fd]:e})}function p1(e,t){return`${t}|${Lr(e)}`}async function ST(e,t){const n=p1(e,t),o=(await f1())[n];return!o||Date.now()-o.updatedAt>HA?null:Array.isArray(o.entries)?o.entries:null}async function vT(e,t,n){const r=p1(e,t),o=await f1();o[r]={updatedAt:Date.now(),entries:n};const i=Object.entries(o).sort((l,c)=>c[1].updatedAt-l[1].updatedAt).slice(0,WA);await xT(Object.fromEntries(i))}function wT(e,t){const n=Math.max(2,Math.floor(t));if(e.length<=n)return e;const r=[];r.push(e[0]);const o=n-2,l=(e.length-2)/o;let c=0;for(let u=0;u<o;u+=1){const d=1+Math.floor(u*l),p=Math.min(e.length-2,Math.max(c+1,d));r.push(e[p]),c=p}return r.push(e[e.length-1]),r}const ET={default:a.border,accent:a.accent,warn:a.warn,danger:a.danger,purple:a.purple,success:a.ok},kT={default:"rgba(143,160,181,0.08)",accent:"rgba(57,221,182,0.12)",warn:"rgba(247,178,103,0.12)",danger:"rgba(255,93,122,0.12)",purple:"rgba(143,123,255,0.12)",success:"rgba(57,221,182,0.1)"},Yr={padding:"13px 15px 15px",display:"flex",flexDirection:"column",gap:11,minWidth:0};function mi(){return{backgroundColor:a.bg,backgroundImage:["radial-gradient(120% 95% at 50% -8%, rgba(57,221,182,0.18) 0%, rgba(57,221,182,0.05) 40%, transparent 72%)","radial-gradient(88% 86% at 92% 100%, rgba(57,221,182,0.12) 0%, transparent 70%)","radial-gradient(80% 90% at 8% 88%, rgba(23,64,74,0.3) 0%, transparent 74%)","linear-gradient(165deg, #0b141f 0%, #070e16 52%, #05090f 100%)","repeating-linear-gradient(0deg, transparent 0px, transparent 31px, rgba(57,221,182,0.06) 32px)","repeating-linear-gradient(90deg, transparent 0px, transparent 31px, rgba(57,221,182,0.05) 32px)"].join(", "),backgroundSize:"auto, auto, auto, auto, 32px 32px, 32px 32px",backgroundPosition:"center, center, center, center, center, center"}}function xt(e="default",t=!1){const n=ET[e],r=kT[e];return{background:"linear-gradient(155deg, rgba(11,17,24,0.92) 0%, rgba(8,13,20,0.86) 100%)",border:`1px solid ${e==="default"?a.border:`${n}32`}`,borderRadius:12,padding:t?"10px 12px":"12px 14px",boxShadow:"inset 0 1px 0 rgba(255,255,255,0.04), 0 10px 22px rgba(0,0,0,0.22)",position:"relative",overflow:"hidden",minWidth:0,overflowWrap:"anywhere",backgroundImage:[`radial-gradient(circle at 100% 0%, ${r}, transparent 46%)`,"linear-gradient(155deg, rgba(11,17,24,0.92) 0%, rgba(8,13,20,0.86) 100%)"].join(", ")}}function te(){return{background:"linear-gradient(180deg, rgba(5,7,10,0.62), rgba(7,11,16,0.72))",border:`1px solid ${a.border}`,borderRadius:10,padding:"10px 12px",boxShadow:"inset 0 1px 0 rgba(255,255,255,0.02)",minWidth:0,overflowWrap:"anywhere"}}const mn={fontSize:8,color:a.dim,letterSpacing:"0.14em",fontWeight:700,...j},Yn={fontSize:10,color:a.text,fontWeight:700,letterSpacing:"0.08em",...j};function m1(e=1){return{height:1,background:`rgba(33,48,67,${.9*e})`}}function X(e=a.dim,t=!1){return{background:t?"linear-gradient(180deg, rgba(14,22,32,0.9), rgba(9,14,20,0.9))":"rgba(16,25,35,0.55)",border:`1px solid ${e===a.dim?a.border:`${e}40`}`,borderRadius:8,color:e,cursor:"pointer",fontSize:10,fontWeight:700,letterSpacing:"0.08em",...j,boxShadow:t?"0 6px 14px rgba(0,0,0,0.18)":void 0,whiteSpace:"normal",lineHeight:1.2,textAlign:"center"}}function yr(e=!0){return{background:e?`linear-gradient(90deg, ${a.accent}, #7BE9CF)`:"rgba(33,48,67,0.55)",color:e?"#04110E":a.dim,border:"none",borderRadius:8,cursor:e?"pointer":"not-allowed",fontSize:10,fontWeight:700,letterSpacing:"0.08em",...j,boxShadow:e?"0 8px 18px rgba(57,221,182,0.16)":void 0,whiteSpace:"normal",lineHeight:1.2,textAlign:"center"}}function h1(e=!1){return{width:"100%",boxSizing:"border-box",background:"linear-gradient(180deg, rgba(8,13,20,0.82), rgba(9,14,21,0.9))",border:`1px solid ${e?a.danger:a.border}`,borderRadius:8,padding:"9px 11px",color:a.text,fontSize:10,...j,outline:"none",boxShadow:"inset 0 1px 0 rgba(255,255,255,0.02)",minWidth:0}}const Zm={mainnet:"https://explorer.kaspa.org","testnet-10":"https://explorer-tn10.kaspa.org","testnet-11":"https://explorer-tn11.kaspa.org","testnet-12":"https://explorer-tn12.kaspa.org"},$c=900,AT=1e3;var wh;const qo=((wh=import.meta)==null?void 0:wh.env)??{};function g1(e,t){const n=Number(qo==null?void 0:qo[e]);return Number.isFinite(n)?Math.floor(n):t}function TT(e,t){const n=String((qo==null?void 0:qo[e])??"").trim();if(!n)return t;const r=[...new Set(n.split(/[,\s]+/).map(o=>Number(o)).filter(o=>Number.isInteger(o)&&o>=2).map(o=>Math.floor(o)))];return r.length>0?r:t}const pd=TT("VITE_KRC721_CHART_WINDOWS",[120,360,720]),Kc=(()=>{const e=g1("VITE_KRC721_CHART_DEFAULT_WINDOW",pd[0]),t=[...pd].sort((n,r)=>n-r);for(const n of t)if(n>=e)return n;return t[t.length-1]})(),CT=Math.min(1200,Math.max(40,g1("VITE_KRC721_CHART_RENDER_MAX_POINTS",220)));let Hc=null;function qm(){return Hc||(Hc=Ds(()=>import("../../kernel.js"),[])),Hc}function IT({address:e,balance:t,usdPrice:n,network:r,hideBalances:o=!1,mode:i,modeRequestId:l,onModeConsumed:c,onBalanceInvalidated:u}){var ar,$r,qs,el,Xf,Yf,Jf,Zf,qf,ep,tp,np,rp,op,ip,sp;const[d,p]=S.useState("idle"),[h,g]=S.useState(!1),[x,E]=S.useState(""),[w,A]=S.useState(""),[f,m]=S.useState(null),[y,v]=S.useState([]),[_,I]=S.useState(null),[P,O]=S.useState(null),[V,F]=S.useState(!1),[xe,Q]=S.useState(null),[ue,Oe]=S.useState(null),[Ae,le]=S.useState([]),[Se,D]=S.useState(!1),[z,H]=S.useState(null),[G,oe]=S.useState(null),[Re,ve]=S.useState(0),[q,we]=S.useState(null),[W,fe]=S.useState(n),[qe,pe]=S.useState([]),[ut,Pt]=S.useState(null),[wt,Ge]=S.useState(null),[Et,Ft]=S.useState(300),[or,Ke]=S.useState(0),[rt,Ee]=S.useState(null),[et,kt]=S.useState(""),[N,k]=S.useState("krc20"),[ne,Y]=S.useState(null),[Qe,st]=S.useState(!1),[xn,me]=S.useState(null),[Te,Ce]=S.useState([]),[jt,dt]=S.useState(!1),[sn,$t]=S.useState(null),[Sn,ie]=S.useState(null),[Ie,ln]=S.useState("floor"),[De,Kt]=S.useState(Kc),[vn,an]=S.useState(null);S.useEffect(()=>{i&&(we(null),ie(null),i==="send"?(g(!1),p("form"),m(null),v([]),O(null),I(null)):(g(!0),p("idle")),c==null||c())},[i,l,c]),S.useEffect(()=>{let T=!1;return(async()=>{if(!h||!e){Q(null),Oe(null);return}Oe(null);try{const ee=await zs.toDataURL(e,{errorCorrectionLevel:"M",margin:1,width:220,color:{dark:"#39DDB6",light:"#0A1118"}});if(T)return;Q(ee)}catch(ee){if(T)return;Q(null),Oe(ee instanceof Error?ee.message:"Failed to generate QR code.")}})().catch(()=>{}),()=>{T=!0}},[h,e]),S.useEffect(()=>{let T=!0;const Z=async(be=!1)=>{if(!e){if(!T)return;le([]),H(null),oe(null),D(!1);return}if(T){D(!0),be&&H(null);try{const At=be?await gy(e,r):await Ww(e,r);if(!T)return;const Yt=[...At.utxos].sort((Tt,wo)=>Tt.amount===wo.amount?0:Tt.amount>wo.amount?-1:1);le(Yt),oe(Date.now()),H(null)}catch(At){if(!T)return;H(At instanceof Error?At.message:"Failed to load UTXOs.")}finally{T&&D(!1)}}};Z(!0).catch(()=>{});const ee=window.setInterval(()=>{Z(!1).catch(()=>{})},25e3);return()=>{T=!1,clearInterval(ee)}},[e,r,Re]),S.useEffect(()=>{n<=0||(fe(n),pe(T=>{const Z=Date.now();return[...T,{ts:Z,price:n}].slice(-$c)}),Pt(Date.now()))},[n]),S.useEffect(()=>{if(q!=="KAS")return;let T=!0;const Z=async()=>{try{const[be,At]=await Promise.all([ny(r),ty(r)]);if(!T)return;const Yt=Date.now();be>0&&fe(be),pe(Tt=>{const wo=Tt.length>0?Tt[Tt.length-1].price:0,tl=be>0?be:wo;return tl<=0?Tt:[...Tt,{ts:Yt,price:tl}].slice(-$c)}),Pt(Yt),Ge(be>0?null:"Price endpoint stale  plotting last known value."),At!=null&&At.virtualDaaScore&&Ee(At.virtualDaaScore)}catch(be){if(!T)return;Ge(be instanceof Error?be.message:"Live feed unavailable.")}};Z().catch(()=>{});const ee=window.setInterval(()=>{Z().catch(()=>{})},AT);return()=>{T=!1,clearInterval(ee)}},[r,q,or]),S.useEffect(()=>{q&&(kt(""),Y(null),me(null))},[q,r]),S.useEffect(()=>{let T=!0;const Z=String(e||"").trim();if(!Z){Ce([]),$t(null),dt(!1);return}chrome.runtime.sendMessage({type:"FORGEOS_PREFETCH_KRC"}).catch(()=>{});const ee=async(At=!0)=>{if(T){dt(!0),At||$t(null);try{if(At){const Tt=await ST(Z,r);T&&Tt&&Tt.length>0&&Ce(Tt)}const Yt=await yT(Z,r);if(!T)return;Ce(Yt),$t(null),await vT(Z,r,Yt)}catch(Yt){if(!T)return;$t(Yt instanceof Error?Yt.message:"Failed to sync KRC portfolio.")}finally{T&&dt(!1)}}};ee(!0).catch(()=>{});const be=window.setInterval(()=>{ee(!1).catch(()=>{})},2500);return()=>{T=!1,clearInterval(be)}},[e,r]),S.useEffect(()=>{ie(T=>T?Te.find(ee=>ee.key===T.key)??null:null)},[Te]);const Ht=oo(),L=!!(Ht!=null&&Ht.mnemonic),$=r==="mainnet"?"kaspa:":"kaspatest:",re=pf(x)&&x.toLowerCase().startsWith($),Xe=parseFloat(w),ft=Xe>0&&(t===null||Xe<=t),Wt=re&&ft,b=async()=>{if(!e||!Wt)return;p("building"),v([]),O(null);const T=$m("manual_send");an(T);let Z=null;try{Z=await qm();const ee=await Z.buildAndValidateKaspaIntent({fromAddress:e,network:r,recipients:[{address:x.trim(),amountKas:Xe}]},{onUpdate:({stage:be})=>{be==="validate"&&p("dry_run")},telemetry:{channel:"manual",runId:T,context:{surface:"wallet_tab_send",to:x.trim(),amountKas:Xe}}});m(ee),p("confirm")}catch(ee){const be=ee instanceof Error?ee.message:String(ee);Z&&ee instanceof Z.DeterministicExecutionError&&ee.stage==="validate"&&ee.details.length>0&&v(ee.details),O(be==="INSUFFICIENT_FUNDS"?"Insufficient balance including fees.":be==="COVENANT_ONLY_FUNDS"?"Funds are currently locked in covenant outputs. Standard send only spends standard UTXOs.":`Build failed: ${be}`),p("error")}},U=async()=>{if(!(!f||!L)){p("signing");try{await(await qm()).signBroadcastAndReconcileKaspaTx(f,{awaitConfirmation:!0,telemetry:{channel:"manual",runId:vn||$m("manual_send"),context:{surface:"wallet_tab_send",to:x.trim(),amountKas:Xe}},onUpdate:async({stage:Z,tx:ee})=>{m(ee),await ci(ee),(Z==="broadcast"||Z==="reconcile")&&p("broadcast"),ee.state==="CONFIRMED"&&(I(ee.txId??null),p("done"),ve(be=>be+1),u==null||u()),ee.state==="FAILED"&&(O(ee.error??"Transaction failed."),p("error"))}})}catch(T){const Z=T instanceof Error?T.message:"Transaction timed out awaiting confirmation.";O(Z),p("error")}}},he=async()=>{f&&await ci({...f,state:"CANCELLED"}),de()},de=()=>{p("idle"),m(null),v([]),O(null),I(null),an(null)},pt=async()=>{if(e)try{await navigator.clipboard.writeText(e),F(!0),setTimeout(()=>F(!1),2e3)}catch{}},Vt=T=>{ie(null),we(T)},He=T=>{we(null),ie(T),ln("floor"),Kt(Kc)},mt=()=>{we(null),ie(null),ln("floor"),Kt(Kc)},uo=async()=>{const T=et.trim();if(!T){me("Paste a token address or search by symbol.");return}st(!0),me(null);try{const ee=await a1(T,N,r)??await Ga(T,N,r);Y(ee)}catch(Z){Y(null),me(Z instanceof Error?Z.message:"Metadata lookup failed.")}finally{st(!1)}},Gt=async()=>{var T;if(!((T=navigator==null?void 0:navigator.clipboard)!=null&&T.readText)){me("Clipboard read is unavailable in this browser.");return}try{const ee=(await navigator.clipboard.readText()).trim();if(!ee){me("Clipboard is empty.");return}kt(ee),me(null),Y(null)}catch{me("Failed to read clipboard.")}},fo=[...Sy()].sort((T,Z)=>T.id==="KAS"?-1:Z.id==="KAS"?1:0),Ur={KAS:"../icons/kaspa-logo.png",USDT:"../icons/usdt.png",USDC:"../icons/usdc.png"},$s={KAS:t??0,USDT:0,USDC:0,ZRX:0},po=Zm[r]??Zm.mainnet,Ks=e?`${po}/addresses/${e}`:po,Hs=Ae.reduce((T,Z)=>T+Z.amount,0n),Br=Xr(Hs),Ws=Ae.length?Xr(Ae[0].amount):0,Fr=Ae.length?Br/Ae.length:0,Hn=Ae.filter(T=>(T.scriptClass??"standard")==="covenant").length,wi=Ae.length-Hn,Ei=G?new Date(G).toLocaleTimeString([],{hour12:!1}):"",Vs=!!(e&&!Se&&!z&&G!==null),Ja=Vs?`ON-CHAIN VERIFIED  ${r.toUpperCase()}  ${Ei}`:Se?"VERIFYING ON-CHAIN STATE":"ON-CHAIN VERIFICATION PENDING",mo=T=>o?"":T,wn=(T,Z)=>o?" KAS":`${Ye(T,Z)} KAS`,Me=(T,Z)=>o?"$":`$${Ye(T,Z)}`,J=q?fo.find(T=>T.id===q)??null:null,B=Sn,We=(J==null?void 0:J.id)==="USDT"||(J==null?void 0:J.id)==="USDC",ho=!!(J||B),Za=d!=="idle"||h,Pn=(qe.length>0?qe:W>0?[{ts:Date.now(),price:W}]:[]).slice(-Math.max(2,Et)),ki=t??0,Gs=ki*(W>0?W:0),go=J?$s[J.id]??0:0,Ai=((ar=B==null?void 0:B.market)==null?void 0:ar.priceUsd)??(($r=B==null?void 0:B.chain)==null?void 0:$r.floorPriceUsd)??null,Ti=(B==null?void 0:B.valueUsd)??null,ir=((qs=B==null?void 0:B.market)==null?void 0:qs.change24hPct)??((el=B==null?void 0:B.chain)==null?void 0:el.floorChange24hPct)??null,Qs=B?B.candles.map(T=>({ts:T.ts,price:B.standard==="krc721"&&Ie==="volume"?Math.max(0,T.volumeUsd??0):T.valueUsd})):[],Xs=(B==null?void 0:B.standard)==="krc721"?Qs.slice(-Math.max(2,De)):Qs,sr=wT(Xs,CT),qa=(B==null?void 0:B.standard)==="krc721"?Ie==="volume"?"24H VOLUME TREND":"FLOOR PRICE TREND":"PRICE TREND",Ys=(B==null?void 0:B.standard)==="krc721"&&Ie==="volume"?"USD VOL":"USD",Ci=sr.length>0?Math.max(...sr.map(T=>T.price)):null,Js=sr.length>0?Math.min(...sr.map(T=>T.price)):null,Qt=We?Pn.length>0?Pn.map(T=>({...T,price:1})):[{ts:Date.now()-6e4,price:1},{ts:Date.now(),price:1}]:Pn,yo=Qt.length>0?Qt[0].price:0,ec=Qt.length>0?Qt[Qt.length-1].price:0,xo=yo>0?(ec-yo)/yo*100:0,Zs=Qt.length>0?Math.max(...Qt.map(T=>T.price)):0,C=Qt.length>0?Math.min(...Qt.map(T=>T.price)):0,M=We?1:W||n||0,se=go*M,Xt=d==="form"||d==="error"||d==="done",jn=ho||h||Xt,Rt=()=>{if(ho){mt();return}h&&g(!1),d!=="idle"&&Xt&&de()},lr=s.jsxs(s.Fragment,{children:[d==="form"&&s.jsxs("div",{style:mr(),children:[s.jsxs("div",{style:{display:"flex",alignItems:"baseline",justifyContent:"space-between",marginBottom:6},children:[s.jsx("div",{style:Yn,children:"SEND KAS"}),s.jsxs("div",{style:{display:"flex",gap:8},children:[t!==null&&s.jsxs("div",{style:{fontSize:8,color:a.dim},children:["Bal: ",wn(t,2),n>0?`  ${Me(t*n,2)}`:""]}),s.jsx("button",{onClick:()=>p("idle"),style:{background:"none",border:"none",color:a.dim,fontSize:8,cursor:"pointer",...j},children:""})]})]}),!L&&s.jsx("div",{style:{...te(),fontSize:8,color:a.dim,marginBottom:6,lineHeight:1.4},children:"External wallet: signing opens in Forge-OS."}),s.jsx("input",{value:x,onChange:T=>E(T.target.value),placeholder:`Recipient ${$}qp`,style:Wc(!!(x&&!re))}),x&&!re&&s.jsx("div",{style:{fontSize:8,color:a.danger},children:x.toLowerCase().startsWith($)?"Invalid Kaspa address":`Must start with "${$}" on ${r}`}),s.jsxs("div",{style:{position:"relative",display:"flex",alignItems:"center"},children:[s.jsx("input",{value:w,onChange:T=>A(T.target.value),placeholder:"Amount (KAS)",type:"number",min:"0",style:{...Wc(!1),paddingRight:48}}),t!==null&&t>0&&s.jsx("button",{onClick:()=>{const T=Math.max(0,t-.01);A(T>0?String(parseFloat(T.toFixed(4))):"")},style:{position:"absolute",right:6,background:`${a.accent}20`,border:`1px solid ${a.accent}50`,borderRadius:4,padding:"2px 6px",color:a.accent,fontSize:8,fontWeight:700,cursor:"pointer",...j,letterSpacing:"0.06em"},children:"MAX"})]}),Xe>0&&n>0&&s.jsxs("div",{style:{fontSize:8,color:a.dim},children:[" ",Me(Xe*n,2)]}),s.jsx("button",{onClick:L?b:()=>chrome.tabs.create({url:`https://forge-os.xyz?send=1&to=${encodeURIComponent(x)}&amount=${encodeURIComponent(w)}`}),disabled:!Wt,style:Cl(Wt),children:L?"PREVIEW SEND ":"OPEN IN FORGE-OS "})]}),(d==="building"||d==="dry_run")&&s.jsx(Vc,{icon:"",title:d==="building"?"SELECTING INPUTS":"VALIDATING",sub:d==="building"?"Fetching UTXOs and estimating network fee.":"Running 5 security checks.",color:a.accent}),d==="confirm"&&f&&s.jsx(PT,{tx:f,usdPrice:n,onConfirm:U,onCancel:he}),d==="signing"&&s.jsx(Vc,{icon:"",title:"SIGNING",sub:"Deriving key and signing inputs with kaspa-wasm.",color:a.warn}),d==="broadcast"&&s.jsx(Vc,{icon:"",title:"BROADCASTING",sub:`Polling for confirmation. TxID: ${f!=null&&f.txId?f.txId.slice(0,20)+"":"pending"}`,color:a.accent}),d==="done"&&s.jsxs("div",{style:{...mr(),background:`${a.ok}0A`,borderColor:`${a.ok}30`},children:[s.jsx("div",{style:{fontSize:10,color:a.ok,fontWeight:700,marginBottom:6},children:" TRANSACTION CONFIRMED"}),_&&s.jsxs(s.Fragment,{children:[s.jsx("div",{style:{fontSize:8,color:a.dim,marginBottom:3},children:"Transaction ID"}),s.jsx("div",{style:{fontSize:8,color:a.text,wordBreak:"break-all",marginBottom:8},children:_}),s.jsx("button",{onClick:()=>chrome.tabs.create({url:`${po}/txs/${_}`}),style:{background:"none",border:"none",color:a.accent,fontSize:8,cursor:"pointer",...j},children:"View on Explorer "})]}),s.jsx("button",{onClick:de,style:{...Cl(!0),marginTop:10,background:`${a.ok}20`,color:a.ok},children:"DONE"})]}),d==="error"&&s.jsxs("div",{style:{...mr(),background:a.dLow,borderColor:`${a.danger}40`},children:[s.jsx("div",{style:{fontSize:9,color:a.danger,fontWeight:700,marginBottom:6},children:"TRANSACTION FAILED"}),P&&s.jsx("div",{style:{fontSize:8,color:a.dim,marginBottom:6,lineHeight:1.5},children:P}),y.map((T,Z)=>s.jsxs("div",{style:{fontSize:8,color:a.danger,marginBottom:2},children:[" ",T]},Z)),s.jsx("button",{onClick:de,style:{...Cl(!0),marginTop:8,background:a.dLow,border:`1px solid ${a.danger}50`,color:a.danger},children:"TRY AGAIN"})]}),h&&e&&s.jsxs("div",{style:mr(),children:[s.jsxs("div",{style:{display:"flex",alignItems:"center",justifyContent:"space-between",marginBottom:6},children:[s.jsx("div",{style:Yn,children:"RECEIVE KAS"}),s.jsx("button",{onClick:()=>g(!1),style:{background:"none",border:"none",color:a.dim,fontSize:8,cursor:"pointer",...j},children:""})]}),s.jsxs("div",{style:{...te(),display:"flex",alignItems:"center",justifyContent:"space-between",gap:8,marginBottom:6},children:[s.jsx("div",{style:{fontSize:8,color:Vs?a.ok:a.warn,fontWeight:700,letterSpacing:"0.06em"},children:Ja}),s.jsx("button",{onClick:()=>chrome.tabs.create({url:Ks}),style:{...X(a.accent,!0),padding:"4px 7px",fontSize:8,color:a.accent,flexShrink:0},children:"EXPLORER "})]}),s.jsx("div",{style:{...te(),display:"flex",justifyContent:"center",alignItems:"center",minHeight:140,marginBottom:6},children:xe?s.jsx("img",{src:xe,alt:"Wallet receive QR",style:{width:138,height:138,borderRadius:8,border:`1px solid ${a.border}`}}):s.jsx("div",{style:{fontSize:8,color:ue?a.danger:a.dim},children:ue?"QR ERROR":"GENERATING QR"})}),s.jsx("div",{style:{fontSize:8,color:a.muted,letterSpacing:"0.08em"},children:"CONNECTED WALLET ADDRESS"}),s.jsx("div",{style:{...te(),fontSize:8,color:a.dim,lineHeight:1.6,wordBreak:"break-all",marginBottom:6},children:e}),s.jsx("button",{onClick:pt,style:{...X(V?a.ok:a.dim,!0),padding:"7px 8px",color:V?a.ok:a.dim,width:"100%"},children:V?" COPIED":"COPY ADDRESS"}),s.jsx("div",{style:{fontSize:8,color:a.dim,lineHeight:1.5,marginTop:4},children:"Send KAS to this address from any Kaspa wallet. Funds and UTXO state are verified against live on-chain data."})]})]}),So=J?s.jsxs("div",{style:mr(),children:[s.jsxs("div",{style:{display:"flex",alignItems:"center",justifyContent:"space-between",marginBottom:6},children:[s.jsx("div",{style:Yn,children:"TOKEN ANALYTICS"}),s.jsx("button",{onClick:mt,style:{background:"none",border:"none",color:a.dim,fontSize:9,cursor:"pointer",...j},children:""})]}),s.jsxs("div",{style:{...te(),display:"flex",alignItems:"center",justifyContent:"space-between",gap:10},children:[s.jsxs("div",{style:{display:"flex",alignItems:"center",gap:10},children:[s.jsx("img",{src:Ur[J.id]??Ur.KAS,alt:`${J.symbol} logo`,style:{width:32,height:32,borderRadius:"50%",objectFit:"contain"}}),s.jsxs("div",{children:[s.jsx("div",{style:{fontSize:11,color:a.text,fontWeight:700,letterSpacing:"0.05em",...j},children:J.symbol}),s.jsxs("div",{style:{fontSize:8,color:a.dim},children:[J.name,"  ",r.toUpperCase()]})]})]}),s.jsx("div",{style:{...X(J.id==="KAS"||We?a.ok:a.warn,!0),padding:"4px 7px",fontSize:8,color:J.id==="KAS"||We?a.ok:a.warn},children:J.id==="KAS"?"LIVE FEED":We?"STABLE PEG":"METADATA FEED"})]}),s.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:7},children:[s.jsx(dr,{label:J.id==="KAS"||We?"LIVE PRICE":"TOKEN STATUS",value:J.id==="KAS"||We?Me(M,4):J.enabled?"ENABLED":"READ-ONLY",tone:J.id==="KAS"||We?a.accent:J.enabled?a.ok:a.warn}),s.jsx(dr,{label:J.id==="KAS"||We?"SESSION ":"DECIMALS",value:J.id==="KAS"||We?`${o?"":We?"0.00%":`${xo>=0?"+":""}${Ye(xo,2)}%`}`:String(J.decimals),tone:J.id==="KAS"||We?xo>=0?a.ok:a.danger:a.text}),s.jsx(dr,{label:J.id==="KAS"||We?"BALANCE":"TOKEN ID",value:J.id==="KAS"?wn(ki,4):We?`${mo(Ye(go,2))} ${J.symbol}`:J.id,tone:a.text}),s.jsx(dr,{label:J.id==="KAS"||We?"USD VALUE":"FEED UPDATE",value:J.id==="KAS"||We?Me(J.id==="KAS"?Gs:se,2):ut?new Date(ut).toLocaleTimeString([],{hour12:!1}):"",tone:J.id==="KAS"||We?a.accent:a.dim})]}),s.jsxs("div",{style:te(),children:[s.jsxs("div",{style:{display:"flex",alignItems:"center",justifyContent:"space-between",marginBottom:6},children:[s.jsxs("div",{style:{fontSize:8,color:a.dim,letterSpacing:"0.08em",display:"flex",alignItems:"center",gap:6},children:[s.jsx("span",{style:{width:6,height:6,borderRadius:"50%",background:wt?a.danger:a.ok,boxShadow:wt?`0 0 6px ${a.danger}`:`0 0 6px ${a.ok}`}}),J.id==="KAS"?"REAL-TIME KAS/USD CHART":We?"STABLECOIN PEG CHART":"BASE LAYER LIVE CHART"]}),s.jsxs("div",{style:{display:"flex",alignItems:"center",gap:6},children:[[60,300,$c].map(T=>s.jsx("button",{onClick:()=>Ft(T),style:{...X(Et===T?a.accent:a.dim,!0),padding:"3px 6px",fontSize:8,color:Et===T?a.accent:a.dim},children:T===60?"1M":T===300?"5M":"15M"},T)),s.jsx("button",{onClick:()=>Ke(T=>T+1),style:{...X(a.dim,!0),padding:"3px 6px",fontSize:8,color:a.dim},children:"REFRESH"})]})]}),s.jsx(eh,{points:Qt,color:a.accent}),s.jsxs("div",{style:{marginTop:6,display:"flex",justifyContent:"space-between",fontSize:8,color:a.dim},children:[s.jsxs("span",{children:["LOW ",Me(C,4)]}),s.jsxs("span",{children:["HIGH ",Me(Zs,4)]})]}),s.jsxs("div",{style:{marginTop:4,display:"flex",justifyContent:"space-between",fontSize:8,color:a.muted},children:[s.jsx("span",{children:ut?"live stream active":"connecting to live stream"}),s.jsxs("span",{children:[Qt.length," live points"]})]}),J.id!=="KAS"&&s.jsx("div",{style:{marginTop:6,fontSize:8,color:a.dim,lineHeight:1.45},children:We?"Stablecoin chart is pegged to $1.00 in-wallet by design for USDT/USDC analytics.":"Spot chart reflects live Kaspa base feed. Token-specific pricing requires a trusted market route."})]}),s.jsxs("div",{style:te(),children:[s.jsx("div",{style:{fontSize:8,color:a.dim,letterSpacing:"0.08em",marginBottom:5},children:"ON-CHAIN TECHNICALS"}),s.jsxs("div",{style:{fontSize:8,color:a.text,lineHeight:1.55},children:["Network BPS: ",s.jsx("span",{style:{color:a.accent},children:ey[r]??10})]}),s.jsxs("div",{style:{fontSize:8,color:a.text,lineHeight:1.55},children:["Virtual DAA: ",s.jsx("span",{style:{color:a.accent},children:rt??""})]}),s.jsxs("div",{style:{fontSize:8,color:a.text,lineHeight:1.55},children:["Spendable UTXOs: ",s.jsx("span",{style:{color:a.ok},children:wi}),"  Covenant UTXOs:"," ",s.jsx("span",{style:{color:Hn>0?a.warn:a.dim},children:Hn})]}),s.jsxs("div",{style:{fontSize:8,color:a.text,lineHeight:1.55},children:["Largest UTXO: ",s.jsx("span",{style:{color:a.accent},children:wn(Ws,4)}),"  Avg UTXO:"," ",s.jsx("span",{style:{color:a.accent},children:wn(Fr,4)})]}),wt&&s.jsxs("div",{style:{fontSize:8,color:a.danger,marginTop:5,lineHeight:1.45},children:["Feed warning: ",wt]})]}),J.id!=="KAS"&&s.jsxs("div",{style:te(),children:[s.jsx("div",{style:{fontSize:8,color:a.dim,letterSpacing:"0.08em",marginBottom:6},children:"KRC TOKEN ADDRESS LOOKUP"}),s.jsxs("div",{style:{display:"flex",gap:6,marginBottom:6},children:[s.jsx("input",{value:et,onChange:T=>kt(T.target.value),placeholder:"Search symbol/name or paste token address",style:{...Wc(!!xn),flex:1,marginBottom:0}}),s.jsx("button",{onClick:Gt,style:{...X(a.dim,!0),padding:"7px 8px",color:a.dim,fontSize:8},children:"PASTE"})]}),s.jsx("div",{style:{display:"flex",gap:6,marginBottom:6},children:["krc20","krc721"].map(T=>s.jsx("button",{onClick:()=>k(T),style:{...X(N===T?a.accent:a.dim,!0),padding:"6px 8px",color:N===T?a.accent:a.dim,fontSize:8,flex:1},children:T.toUpperCase()},T))}),s.jsx("button",{onClick:uo,disabled:Qe||!et.trim(),style:{...Cl(!!et.trim()&&!Qe),marginTop:0},children:Qe?"RESOLVING":"RESOLVE TOKEN METADATA"}),xn&&s.jsx("div",{style:{fontSize:8,color:a.danger,marginTop:6,lineHeight:1.45},children:xn}),ne&&s.jsxs("div",{style:{...te(),marginTop:7},children:[s.jsxs("div",{style:{display:"flex",alignItems:"center",gap:8,marginBottom:5},children:[s.jsx("img",{src:ne.logoUri,alt:`${ne.symbol} logo`,style:{width:26,height:26,borderRadius:"50%",objectFit:"cover",border:`1px solid ${a.border}`}}),s.jsxs("div",{children:[s.jsx("div",{style:{fontSize:10,color:a.text,fontWeight:700,...j},children:ne.symbol}),s.jsx("div",{style:{fontSize:8,color:a.dim},children:ne.name})]})]}),s.jsx("div",{style:{fontSize:8,color:a.text,lineHeight:1.5,wordBreak:"break-all"},children:ne.address}),s.jsxs("div",{style:{fontSize:8,color:a.dim,marginTop:4},children:["Standard: ",ne.standard.toUpperCase(),"  Decimals: ",ne.decimals]})]}),s.jsx("div",{style:{fontSize:7,color:a.muted,lineHeight:1.45,marginTop:6},children:"Resolver is env-driven with bounded LRU + endpoint health scoring for low-latency repeated lookups."})]})]}):null,vo=B?s.jsxs("div",{style:mr(),children:[s.jsxs("div",{style:{display:"flex",alignItems:"center",justifyContent:"space-between",marginBottom:6},children:[s.jsx("div",{style:Yn,children:"KRC TOKEN ANALYTICS"}),s.jsx("button",{onClick:mt,style:{background:"none",border:"none",color:a.dim,fontSize:9,cursor:"pointer",...j},children:""})]}),s.jsxs("div",{style:{...te(),display:"flex",alignItems:"center",justifyContent:"space-between",gap:10},children:[s.jsxs("div",{style:{display:"flex",alignItems:"center",gap:10,minWidth:0},children:[s.jsx("img",{src:B.token.logoUri,alt:`${B.token.symbol} logo`,style:{width:32,height:32,borderRadius:"50%",objectFit:"cover",border:`1px solid ${a.border}`}}),s.jsxs("div",{style:{minWidth:0},children:[s.jsx("div",{style:{fontSize:11,color:a.text,fontWeight:700,letterSpacing:"0.05em",...j},children:B.token.symbol}),s.jsxs("div",{style:{fontSize:8,color:a.dim,whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis",maxWidth:220},children:[B.token.name,"  ",B.standard.toUpperCase(),"  ",r.toUpperCase()]})]})]}),s.jsx("div",{style:{...X(a.ok,!0),padding:"4px 7px",fontSize:8,color:a.ok},children:"LIVE"})]}),s.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:7},children:[s.jsx(dr,{label:"PRICE USD",value:Ai!=null?Me(Ai,6):"",tone:Ai!=null?a.accent:a.dim}),s.jsx(dr,{label:"SESSION ",value:ir!=null?`${o?"":`${ir>=0?"+":""}${Ye(ir,2)}%`}`:"",tone:ir!=null?ir>=0?a.ok:a.danger:a.dim}),s.jsx(dr,{label:"BALANCE",value:`${mo(B.balanceDisplay)} ${B.token.symbol}`,tone:a.text}),s.jsx(dr,{label:"USD VALUE",value:Ti!=null?Me(Ti,2):"",tone:Ti!=null?a.accent:a.dim})]}),s.jsxs("div",{style:te(),children:[s.jsxs("div",{style:{display:"flex",alignItems:"center",justifyContent:"space-between",marginBottom:6},children:[s.jsx("div",{style:{fontSize:8,color:a.dim,letterSpacing:"0.08em"},children:qa}),s.jsxs("div",{style:{display:"flex",alignItems:"center",gap:6},children:[B.standard==="krc721"&&s.jsxs(s.Fragment,{children:[s.jsx("button",{onClick:()=>ln("floor"),style:{...X(Ie==="floor"?a.accent:a.dim,!0),padding:"3px 6px",fontSize:8,color:Ie==="floor"?a.accent:a.dim},children:"FLOOR"}),s.jsx("button",{onClick:()=>ln("volume"),style:{...X(Ie==="volume"?a.accent:a.dim,!0),padding:"3px 6px",fontSize:8,color:Ie==="volume"?a.accent:a.dim},children:"VOLUME"})]}),s.jsxs("div",{style:{fontSize:8,color:a.muted},children:[Xs.length," pts"]})]})]}),B.standard==="krc721"&&s.jsxs("div",{style:{display:"flex",alignItems:"center",justifyContent:"space-between",gap:6,marginBottom:6},children:[s.jsx("div",{style:{display:"flex",gap:6,flexWrap:"wrap"},children:pd.map(T=>s.jsx("button",{onClick:()=>Kt(T),style:{...X(De===T?a.accent:a.dim,!0),padding:"3px 6px",fontSize:8,color:De===T?a.accent:a.dim},children:bT(T)},T))}),s.jsxs("div",{style:{fontSize:8,color:a.muted},children:["render ",sr.length]})]}),s.jsx(eh,{points:sr,color:a.accent}),s.jsxs("div",{style:{marginTop:6,display:"flex",justifyContent:"space-between",fontSize:8,color:a.dim},children:[s.jsxs("span",{children:["LOW ",Js!=null?Me(Js,4):""]}),s.jsxs("span",{children:["HIGH ",Ci!=null?Me(Ci,4):""]})]}),s.jsxs("div",{style:{marginTop:4,fontSize:8,color:a.muted},children:["UNIT: ",Ys]})]}),s.jsxs("div",{style:te(),children:[s.jsx("div",{style:{fontSize:8,color:a.dim,letterSpacing:"0.08em",marginBottom:5},children:"CHAIN INFO"}),s.jsxs("div",{style:{fontSize:8,color:a.text,lineHeight:1.55,wordBreak:"break-all"},children:["Address: ",s.jsx("span",{style:{color:a.accent},children:B.token.address})]}),s.jsxs("div",{style:{fontSize:8,color:a.text,lineHeight:1.55},children:["Holders: ",s.jsx("span",{style:{color:a.accent},children:((Xf=B.chain)==null?void 0:Xf.holders)??""})]}),s.jsxs("div",{style:{fontSize:8,color:a.text,lineHeight:1.55},children:["Owners: ",s.jsx("span",{style:{color:a.accent},children:((Yf=B.chain)==null?void 0:Yf.owners)??""}),"  Listed:"," ",s.jsx("span",{style:{color:a.accent},children:((Jf=B.chain)==null?void 0:Jf.listedCount)??""})]}),s.jsxs("div",{style:{fontSize:8,color:a.text,lineHeight:1.55},children:["Supply: ",s.jsx("span",{style:{color:a.accent},children:((Zf=B.chain)==null?void 0:Zf.supply)??""})]}),s.jsxs("div",{style:{fontSize:8,color:a.text,lineHeight:1.55},children:["Collection Items: ",s.jsx("span",{style:{color:a.accent},children:((qf=B.chain)==null?void 0:qf.collectionItems)??""}),"  24h Sales:"," ",s.jsx("span",{style:{color:a.accent},children:((ep=B.chain)==null?void 0:ep.sales24h)??""})]}),s.jsxs("div",{style:{fontSize:8,color:a.text,lineHeight:1.55},children:["24h Tx: ",s.jsx("span",{style:{color:a.accent},children:((tp=B.chain)==null?void 0:tp.txCount24h)??""}),"  24h Volume USD:"," ",s.jsx("span",{style:{color:a.accent},children:((np=B.chain)==null?void 0:np.volume24hUsd)!=null?Ye(B.chain.volume24hUsd,2):""})]}),s.jsxs("div",{style:{fontSize:8,color:a.text,lineHeight:1.55},children:["Floor USD:"," ",s.jsx("span",{style:{color:a.accent},children:((rp=B.chain)==null?void 0:rp.floorPriceUsd)!=null?Ye(B.chain.floorPriceUsd,4):""})," "," Floor  24h:"," ",s.jsx("span",{style:{color:((op=B.chain)==null?void 0:op.floorChange24hPct)==null?a.accent:B.chain.floorChange24hPct>=0?a.ok:a.danger},children:((ip=B.chain)==null?void 0:ip.floorChange24hPct)!=null?`${B.chain.floorChange24hPct>=0?"+":""}${Ye(B.chain.floorChange24hPct,2)}%`:""})]}),s.jsxs("div",{style:{fontSize:8,color:a.text,lineHeight:1.55},children:["Market Cap USD:"," ",s.jsx("span",{style:{color:a.accent},children:((sp=B.chain)==null?void 0:sp.marketCapUsd)!=null?Ye(B.chain.marketCapUsd,2):""})]})]})]}):null;return s.jsxs("div",{style:{...Yr,position:"relative"},children:[(Za||ho)&&s.jsx("div",{style:_T,onClick:T=>{T.target===T.currentTarget&&jn&&Rt()},children:s.jsx("div",{style:NT,children:ho?B?vo:So:lr})}),s.jsxs("div",{style:{...xt("purple"),background:"linear-gradient(165deg, rgba(10,18,28,0.96) 0%, rgba(7,13,22,0.93) 52%, rgba(5,10,18,0.94) 100%)",border:`1px solid ${a.accent}3A`,boxShadow:"inset 0 1px 0 rgba(255,255,255,0.06), 0 12px 26px rgba(0,0,0,0.28), 0 0 24px rgba(57,221,182,0.09)"},children:[s.jsx("div",{style:{position:"absolute",top:-32,right:-26,width:130,height:130,borderRadius:"50%",background:"radial-gradient(circle, rgba(57,221,182,0.26) 0%, rgba(57,221,182,0.05) 48%, transparent 75%)",pointerEvents:"none"}}),s.jsx("div",{style:{position:"absolute",inset:0,pointerEvents:"none",backgroundImage:"repeating-linear-gradient(0deg, transparent 0px, transparent 23px, rgba(57,221,182,0.05) 24px), repeating-linear-gradient(90deg, transparent 0px, transparent 23px, rgba(57,221,182,0.04) 24px)",opacity:.45}}),s.jsx("div",{style:{marginBottom:11,display:"flex",alignItems:"center",justifyContent:"space-between",gap:8,position:"relative"},children:s.jsx("div",{style:mn,children:"TOKEN BALANCES"})}),fo.map((T,Z)=>{const ee=Ur[T.id]??Ur.KAS,be=T.id==="KAS",At=be?48:30,Yt=be?40:20,Tt=$s[T.id]??0,wo=T.id==="KAS"?Ye(Tt,4):Ye(Tt,2),tl=mo(wo);return s.jsxs("button",{onClick:()=>Vt(T.id),style:{width:"100%",border:"none",textAlign:"left",cursor:"pointer",display:"flex",alignItems:"center",justifyContent:"space-between",background:"linear-gradient(160deg, rgba(15,24,36,0.86), rgba(8,14,22,0.88))",borderRadius:12,padding:"10px 11px",marginTop:Z>0?8:0,opacity:be||T.enabled?1:.58,position:"relative",zIndex:1},children:[s.jsx("div",{style:{position:"absolute",inset:0,border:`1px solid ${q===T.id?`${a.accent}75`:a.border}`,borderRadius:12,pointerEvents:"none"}}),s.jsxs("div",{style:{display:"flex",alignItems:"center",gap:10},children:[s.jsx("div",{style:{width:At,height:At,borderRadius:"50%",flexShrink:0,background:"transparent",display:"flex",alignItems:"center",justifyContent:"center",border:"none",boxShadow:"none",overflow:"hidden"},children:s.jsx("img",{src:ee,alt:`${T.symbol} logo`,style:{width:Yt,height:Yt,objectFit:"contain",borderRadius:"50%",filter:"none"}})}),s.jsxs("div",{children:[s.jsx("div",{style:{fontSize:11,fontWeight:700,color:a.text,letterSpacing:"0.05em",...j},children:T.symbol}),s.jsx("div",{style:{fontSize:9,color:a.dim,letterSpacing:"0.03em"},children:T.name})]})]}),s.jsxs("div",{style:{textAlign:"right",paddingRight:12},children:[s.jsx("div",{style:{fontSize:18,fontWeight:700,color:a.text},children:tl}),!T.enabled&&T.disabledReason&&s.jsx("div",{style:{fontSize:8,color:a.dim,maxWidth:140,lineHeight:1.35,marginTop:3},children:T.disabledReason})]}),s.jsx("div",{style:{fontSize:10,color:a.dim,...j},children:""})]},T.id)}),jt&&s.jsx("div",{style:{...te(),marginTop:8,fontSize:8,color:a.dim},children:"Syncing KRC holdings"}),sn&&s.jsxs("div",{style:{...te(),marginTop:8,fontSize:8,color:a.warn,lineHeight:1.45},children:["KRC feed warning: ",sn]}),Te.map((T,Z)=>s.jsxs("button",{onClick:()=>He(T),style:{width:"100%",border:"none",textAlign:"left",cursor:"pointer",display:"flex",alignItems:"center",justifyContent:"space-between",background:"linear-gradient(160deg, rgba(13,22,34,0.9), rgba(7,12,20,0.9))",borderRadius:12,padding:"10px 11px",marginTop:Z>0||fo.length>0?8:0,position:"relative",zIndex:1},children:[s.jsx("div",{style:{position:"absolute",inset:0,border:`1px solid ${(Sn==null?void 0:Sn.key)===T.key?`${a.accent}75`:a.border}`,borderRadius:12,pointerEvents:"none"}}),s.jsxs("div",{style:{display:"flex",alignItems:"center",gap:10,minWidth:0},children:[s.jsx("img",{src:T.token.logoUri,alt:`${T.token.symbol} logo`,style:{width:28,height:28,borderRadius:"50%",objectFit:"cover",border:`1px solid ${a.border}`,flexShrink:0}}),s.jsxs("div",{style:{minWidth:0},children:[s.jsx("div",{style:{fontSize:11,fontWeight:700,color:a.text,letterSpacing:"0.05em",...j},children:T.token.symbol}),s.jsxs("div",{style:{fontSize:8,color:a.dim,letterSpacing:"0.03em",whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis",maxWidth:190},children:[T.token.name,"  ",T.standard.toUpperCase()]})]})]}),s.jsxs("div",{style:{textAlign:"right",paddingRight:12},children:[s.jsx("div",{style:{fontSize:12,fontWeight:700,color:a.text,...j},children:mo(T.balanceDisplay)}),s.jsx("div",{style:{fontSize:8,color:T.valueUsd!=null?a.accent:a.dim},children:T.valueUsd!=null?Me(T.valueUsd,2):"no spot"})]}),s.jsx("div",{style:{fontSize:10,color:a.dim,...j},children:""})]},T.key)),e&&s.jsx("div",{style:{marginTop:11,textAlign:"right",position:"relative",zIndex:1},children:s.jsx("button",{onClick:()=>chrome.tabs.create({url:Ks}),style:{...X(a.accent,!0),padding:"6px 9px",fontSize:9,color:a.accent},children:"EXPLORER "})})]}),s.jsxs("div",{style:xt("default"),children:[s.jsxs("div",{style:{marginBottom:9,display:"flex",alignItems:"center",justifyContent:"space-between",gap:8},children:[s.jsx("div",{style:mn,children:"UTXO SET"}),s.jsx("button",{onClick:()=>ve(T=>T+1),disabled:Se,style:{...X(a.accent,!0),padding:"5px 8px",fontSize:8,color:a.accent},children:Se?"SYNC":"REFRESH"})]}),s.jsxs("div",{style:{display:"flex",gap:6,marginBottom:9},children:[s.jsxs("div",{style:{...te(),flex:1,padding:"6px 7px"},children:[s.jsx("div",{style:{fontSize:8,color:a.muted,letterSpacing:"0.08em"},children:"COUNT"}),s.jsx("div",{style:{fontSize:11,color:a.text,fontWeight:700,...j},children:Ae.length})]}),s.jsxs("div",{style:{...te(),flex:1,padding:"6px 7px"},children:[s.jsx("div",{style:{fontSize:8,color:a.muted,letterSpacing:"0.08em"},children:"TOTAL"}),s.jsx("div",{style:{fontSize:11,color:a.text,fontWeight:700,...j},children:wn(Br,4)})]}),s.jsxs("div",{style:{...te(),flex:1,padding:"6px 7px"},children:[s.jsx("div",{style:{fontSize:8,color:a.muted,letterSpacing:"0.08em"},children:"LARGEST"}),s.jsx("div",{style:{fontSize:11,color:a.text,fontWeight:700,...j},children:wn(Ws,4)})]})]}),Hn>0&&s.jsxs("div",{style:{...te(),fontSize:8,color:a.warn,padding:"8px 10px",marginBottom:8,lineHeight:1.45},children:["Covenant outputs detected: ",Hn,". Standard send currently uses spendable UTXOs only (",wi," available)."]}),Se&&Ae.length===0&&s.jsxs("div",{style:{...te(),fontSize:8,color:a.dim,padding:"9px 10px"},children:["Fetching UTXOs from ",r,""]}),!Se&&Ae.length===0&&!z&&s.jsxs("div",{style:{...te(),fontSize:8,color:a.dim,padding:"9px 10px"},children:["No UTXOs found for this wallet on ",r,"."]}),z&&s.jsx("div",{style:{...te(),fontSize:8,color:a.danger,padding:"9px 10px",marginBottom:Ae.length?8:0},children:z}),Ae.length>0&&s.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:6},children:[Ae.slice(0,6).map((T,Z)=>{const ee=Xr(T.amount);return s.jsx("div",{style:{...te(),padding:"8px 9px"},children:s.jsxs("div",{style:{display:"flex",alignItems:"center",justifyContent:"space-between",gap:8},children:[s.jsxs("div",{style:{minWidth:0},children:[s.jsxs("div",{style:{fontSize:8,color:a.dim,...j,letterSpacing:"0.04em",whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis"},children:["#",Z+1," ",T.txId.slice(0,16),":",T.outputIndex]}),s.jsxs("div",{style:{fontSize:8,color:a.muted,marginTop:2},children:["DAA ",T.blockDaaScore.toString()," ",T.isCoinbase?" COINBASE":""," ",(T.scriptClass??"standard")==="covenant"?" COVENANT":""]})]}),s.jsx("div",{style:{fontSize:11,color:a.accent,fontWeight:700,...j},children:wn(ee,4)})]})},`${T.txId}:${T.outputIndex}`)}),Ae.length>6&&s.jsxs("div",{style:{fontSize:8,color:a.dim,textAlign:"right",paddingTop:1},children:["+",Ae.length-6," more UTXOs"]})]}),s.jsx("div",{style:{...m1(),margin:"9px 0 6px"}}),s.jsxs("div",{style:{fontSize:8,color:a.muted,letterSpacing:"0.06em",textAlign:"right"},children:["UPDATED ",Ei]})]})]})}const mr=()=>({...xt("default"),display:"flex",flexDirection:"column",gap:7}),Wc=e=>({...h1(e)}),Cl=e=>({...yr(e),padding:"9px",width:"100%"}),_T={position:"fixed",inset:0,zIndex:50,background:"rgba(3, 7, 12, 0.78)",display:"flex",alignItems:"flex-start",justifyContent:"center",padding:"12px 10px 14px",backdropFilter:"blur(1px)"},NT={width:"100%",maxWidth:420,display:"flex",flexDirection:"column",gap:8,maxHeight:"calc(100vh - 26px)",overflowY:"auto"};function bT(e){return e%60===0?`${e/60}H`:`${e}M`}function dr({label:e,value:t,tone:n}){return s.jsxs("div",{style:{...te(),padding:"7px 8px"},children:[s.jsx("div",{style:{fontSize:8,color:a.dim,letterSpacing:"0.07em",marginBottom:4},children:e}),s.jsx("div",{style:{fontSize:10,color:n,fontWeight:700,...j},children:t})]})}function eh({points:e,color:t}){if(e.length<2)return s.jsx("div",{style:{height:118,display:"flex",alignItems:"center",justifyContent:"center",color:a.dim,fontSize:8},children:"Waiting for enough live points"});const i=Math.min(...e.map(x=>x.price)),l=Math.max(...e.map(x=>x.price)),c=Math.max(1e-9,l-i),u=340-10*2,d=118-10*2,p=u/Math.max(1,e.length-1),h=e.map((x,E)=>{const w=10+p*E,A=10+(l-x.price)/c*d;return`${E===0?"M":"L"} ${w} ${A}`}).join(" "),g=`${h} L ${10+u} 108 L 10 108 Z`;return s.jsxs("svg",{viewBox:"0 0 340 118",width:"100%",height:118,role:"img","aria-label":"Live token chart",children:[s.jsx("defs",{children:s.jsxs("linearGradient",{id:"wallet-chart-fill",x1:"0",y1:"0",x2:"0",y2:"1",children:[s.jsx("stop",{offset:"0%",stopColor:t,stopOpacity:"0.35"}),s.jsx("stop",{offset:"100%",stopColor:t,stopOpacity:"0.02"})]})}),s.jsx("path",{d:g,fill:"url(#wallet-chart-fill)"}),s.jsx("path",{d:h,fill:"none",stroke:t,strokeWidth:2.2,strokeLinecap:"round",strokeLinejoin:"round"})]})}function Vc({icon:e,title:t,sub:n,color:r}){return s.jsxs("div",{style:{...mr(),textAlign:"center"},children:[s.jsx("div",{style:{fontSize:20},children:e}),s.jsx("div",{style:{fontSize:9,color:r,fontWeight:700,letterSpacing:"0.1em"},children:t}),s.jsx("div",{style:{fontSize:8,color:a.dim,lineHeight:1.5},children:n})]})}function PT({tx:e,usdPrice:t,onConfirm:n,onCancel:r}){var h;const o=e.outputs[0],i=o?Xr(o.amount):0,l=Xr(e.fee),c=e.platformFee?Xr(e.platformFee):0,u=e.changeOutput?Xr(e.changeOutput.amount):0,d=i+l+c,p=(g,x,E=a.text,w)=>s.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"baseline",marginBottom:5},children:[s.jsxs("span",{style:{fontSize:8,color:a.dim},children:[g,w&&s.jsx("span",{style:{fontSize:8,color:a.muted,marginLeft:4},children:w})]}),s.jsx("span",{style:{fontSize:9,color:E,fontWeight:700},children:x})]});return s.jsxs("div",{style:{...mr(),borderColor:`${a.accent}30`},children:[s.jsx("div",{style:{...Yn,color:a.accent},children:"CONFIRM TRANSACTION"}),s.jsxs("div",{style:te(),children:[p("TO",(h=e.outputs[0])!=null&&h.address?e.outputs[0].address.slice(0,22)+"":""),p("AMOUNT",`${Ye(i,4)} KAS${t>0?`  $${Ye(i*t,2)}`:""}`),p("NETWORK FEE",`${Ye(l,8)} KAS`,a.warn," miners"),c>0&&p("PLATFORM FEE",`${Ye(c,6)} KAS`,a.dim," treasury"),u>0&&p("CHANGE",`${Ye(u,4)} KAS`,a.dim),s.jsx("div",{style:{...m1(),margin:"6px 0"}}),p("TOTAL COST",`${Ye(d,4)} KAS`,a.accent)]}),s.jsx("div",{style:{fontSize:8,color:a.warn,lineHeight:1.5},children:" Kaspa transactions are irreversible once confirmed."}),s.jsxs("div",{style:{display:"flex",gap:8},children:[s.jsx("button",{onClick:r,style:{...X(a.dim,!0),flex:1,padding:"8px 0"},children:"CANCEL"}),s.jsx("button",{onClick:n,style:{...yr(!0),flex:2,padding:"8px 0"},children:"SIGN & SEND "})]})]})}function ss(e){return e&&typeof e=="object"?e:{}}function Vn(...e){for(const t of e)if(typeof t=="string"&&t.trim())return t.trim();return""}function th(e){if(typeof e=="number"&&Number.isFinite(e))return e;if(typeof e=="string"){const t=e.replace(/[$,\s]/g,""),n=Number(t);if(Number.isFinite(n))return n}return 0}function Ao(e){if(typeof e=="number"&&Number.isFinite(e)&&e>0)return e;if(typeof e=="string"){const t=Number(e);if(Number.isFinite(t)&&t>0)return t}return 0}function jT(e){if(typeof e!="string")return null;const t=e.trim().toLowerCase();return t.startsWith("kaspa:")?"mainnet":t.startsWith("kaspatest:")?"testnet":null}function ls(e,t="unknown"){const n=String(e??"").trim().toLowerCase().replace(/_/g,"-");if(n.includes("mainnet")||n==="main"||n==="livenet")return"mainnet";if(n.includes("testnet-12")||n==="tn12")return"testnet-12";if(n.includes("testnet-11")||n==="tn11")return"testnet-11";if(n.includes("testnet-10")||n==="tn10")return"testnet-10";if(n==="testnet"||n.startsWith("tn")||n.startsWith("testnet"))return"testnet";if(n==="kaspa")return"mainnet";if(n==="kaspatest")return"testnet";const r=String(t??"").trim().toLowerCase().replace(/_/g,"-");return r==="mainnet"?"mainnet":r==="testnet-12"||r==="tn12"?"testnet-12":r==="testnet-10"||r==="tn10"?"testnet-10":r==="testnet-11"||r==="tn11"?"testnet-11":r.startsWith("testnet")||r.startsWith("tn")?"testnet":"unknown"}function RT(e,t){const n=ss(e.wallet),r=ss(e.deployTx),o=ss(e.meta),i=Vn(e.network,n.network,r.network,o.network);if(i)return ls(i,"unknown");const l=Vn(n.address,e.address,r.from,r.to),c=jT(l);return ls(c||t,"unknown")}function LT(e){const t=e.toLowerCase();return t==="autonomous"||t==="auto"||t==="bot"}function OT(e){const t=e.toLowerCase();return t==="active"||t==="running"||t==="live"}function DT(e,t){const n=ss(e),r=ss(n.wallet),o=Date.now(),i=Vn(n.agentId,n.id,n.name)||`agent_${o}_${Math.random().toString(36).slice(2,8)}`,l=Vn(n.name,n.agentName)||"Agent",c=Vn(n.strategyLabel,n.strategy,n.strategyTemplate)||"",u=Vn(n.risk)||"",p=Vn(n.capitalLimit,n.capital_limit)||null,h=Vn(n.execMode,n.mode)||"manual",g=Vn(n.status)||"idle",x=RT(n,t),E=th(n.pnlUsd)||th(n.pnl),w=Math.max(Ao(n.updatedAt),Ao(n.lastActionTime),Ao(n.lastDecisionTs),Ao(n.lastSeenAt),Ao(n.deployedAt),Ao(r.updatedAt)),A=w>0&&o-w<=5*60*1e3,f=LT(h),m=OT(g)||f||A;return{id:i,name:l,strategy:c,risk:u,capitalLimitKas:p,execMode:h,status:g,isBot:f,isActive:m,pnlUsd:E,network:x,updatedAt:w,raw:n}}function MT(e,t){const n=[];for(const r of e){const o=DT(r,t);if(o&&n.push(o),n.length>=64)break}return n.sort((r,o)=>r.isActive!==o.isActive?r.isActive?-1:1:o.updatedAt-r.updatedAt),n}function zT(e,t,n){if(t==="all")return!0;if(t==="mainnet")return e==="mainnet";if(t==="testnet-12")return e==="testnet-12"||e==="testnet";if(t==="testnet-10")return e==="testnet-10"||e==="testnet";if(t==="testnet-11")return e==="testnet-11"||e==="testnet";const r=ls(n,"unknown");return r==="mainnet"?e==="mainnet":r==="testnet-12"?e==="testnet-12"||e==="testnet":r==="testnet-10"?e==="testnet-10"||e==="testnet":r==="testnet-11"?e==="testnet-11"||e==="testnet":r==="testnet"?e==="testnet"||e==="testnet-10"||e==="testnet-11"||e==="testnet-12":!0}function UT(e,t,n,r){return e.filter(o=>!(!zT(o.network,t,r)||n==="bots"&&!o.isBot||n==="manual"&&o.isBot))}function y1(e){return e==="mainnet"?"MAINNET":e==="testnet-12"?"TN12":e==="testnet-10"?"TN10":e==="testnet-11"?"TN11":e==="testnet"?"TESTNET":"UNKNOWN"}const BT="forgeos.session.agents.v2";function Gc(e,t){if(!e||e<=0)return"No recent heartbeat";const n=Math.max(0,t-e);return n<1e3?"just now":n<6e4?`${Math.floor(n/1e3)}s ago`:n<36e5?`${Math.floor(n/6e4)}m ago`:n<864e5?`${Math.floor(n/36e5)}h ago`:`${Math.floor(n/864e5)}d ago`}function nh(e,t){if(e==="current"){const n=ls(t,"unknown");return`CURRENT (${y1(n)})`}return e==="mainnet"?"MAINNET":e==="testnet-12"?"TN12":e==="testnet-10"?"TN10":e==="testnet-11"?"TN11":"ALL"}function rh(e){return e==="all"?"ALL MODES":e==="bots"?"BOTS":"MANUAL"}function FT({network:e}){const[t,n]=S.useState([]),[r,o]=S.useState(!0),[i,l]=S.useState("current"),[c,u]=S.useState("all"),[d,p]=S.useState(0),[h,g]=S.useState(Date.now()),x=S.useCallback(async()=>{const A=await hv();n(MT(A,e)),p(Date.now()),o(!1)},[e]);S.useEffect(()=>{x().catch(()=>o(!1))},[x]),S.useEffect(()=>{const A=setInterval(()=>{x().catch(()=>{}),g(Date.now())},5e3);return()=>clearInterval(A)},[x]),S.useEffect(()=>{const A=(f,m)=>{m==="local"&&BT in f&&x().catch(()=>{})};return chrome.storage.onChanged.addListener(A),()=>chrome.storage.onChanged.removeListener(A)},[x]),S.useEffect(()=>{const A=f=>{(f==null?void 0:f.type)==="FORGEOS_AGENTS_UPDATED"&&x().catch(()=>{})};return chrome.runtime.onMessage.addListener(A),()=>chrome.runtime.onMessage.removeListener(A)},[x]);const E=S.useMemo(()=>UT(t,i,c,e),[t,c,e,i]),w=S.useMemo(()=>{const A=E.length,f=E.filter(v=>v.isBot).length,m=E.filter(v=>v.isActive).length,y=E.reduce((v,_)=>v+_.pnlUsd,0);return{total:A,bots:f,active:m,pnlUsd:y}},[E]);return r?s.jsx("div",{style:{...Yr,paddingTop:20,fontSize:9,color:a.dim,textAlign:"center"},children:"Loading agents"}):E.length===0?s.jsxs("div",{style:{...Yr,gap:10},children:[s.jsxs("div",{style:xt("default",!0),children:[s.jsx("div",{style:{...mn,marginBottom:7},children:"LIVE AGENT FEED  TESTNET/MAINNET FILTERS"}),s.jsx("div",{style:{display:"flex",gap:6,flexWrap:"wrap",marginBottom:7},children:["current","mainnet","testnet-10","testnet-11","testnet-12","all"].map(A=>{const f=A===i;return s.jsx("button",{onClick:()=>l(A),style:{...X(f?a.accent:a.dim),padding:"5px 7px",fontSize:8,background:f?`${a.accent}20`:"rgba(16,25,35,0.45)",borderColor:f?`${a.accent}55`:a.border},children:nh(A,e)},A)})}),s.jsx("div",{style:{display:"flex",gap:6,flexWrap:"wrap"},children:["all","bots","manual"].map(A=>{const f=A===c;return s.jsx("button",{onClick:()=>u(A),style:{...X(f?a.ok:a.dim),padding:"5px 7px",fontSize:8,background:f?`${a.ok}20`:"rgba(16,25,35,0.45)",borderColor:f?`${a.ok}55`:a.border},children:rh(A)},A)})})]}),s.jsxs("div",{style:{...Yr,...xt("accent"),padding:"20px 18px",textAlign:"center",gap:14,alignItems:"center"},children:[s.jsx("div",{style:{width:52,height:52,borderRadius:"50%",background:`${a.accent}14`,border:`1px solid ${a.accent}35`,display:"flex",alignItems:"center",justifyContent:"center",fontSize:22,boxShadow:"0 8px 18px rgba(57,221,182,0.12)"},children:""}),s.jsxs("div",{children:[s.jsx("div",{style:{...Yn,fontSize:11,marginBottom:6},children:"No Agents In This Filter"}),s.jsx("div",{style:{fontSize:8,color:a.dim,lineHeight:1.6,maxWidth:220},children:"Live refresh runs every 5 seconds. Switch filters or deploy a new bot on Forge-OS."}),s.jsxs("div",{style:{fontSize:8,color:a.muted,marginTop:7},children:["Last sync ",d>0?Gc(d,h):"never"]})]}),s.jsx("button",{onClick:()=>chrome.tabs.create({url:`https://forge-os.xyz?network=${encodeURIComponent(e)}`}),style:{background:`linear-gradient(90deg, ${a.accent}, #7BE9CF)`,border:"none",borderRadius:10,padding:"10px 20px",color:"#04110E",fontSize:9,fontWeight:700,cursor:"pointer",...j,letterSpacing:"0.1em",boxShadow:"0 8px 18px rgba(57,221,182,0.16)"},children:"OPEN FORGE-OS "})]})]}):s.jsxs("div",{style:{...Yr,paddingTop:10,gap:8},children:[s.jsxs("div",{style:xt("default",!0),children:[s.jsx("div",{style:{...mn,marginBottom:7},children:"LIVE AGENT FEED  TESTNET/MAINNET OPTIONS"}),s.jsxs("div",{style:{display:"grid",gridTemplateColumns:"repeat(4, minmax(0, 1fr))",gap:6,marginBottom:8},children:[s.jsxs("div",{style:{background:"rgba(16,25,35,0.45)",border:`1px solid ${a.border}`,borderRadius:7,padding:"6px 7px"},children:[s.jsx("div",{style:{fontSize:8,color:a.dim},children:"VISIBLE"}),s.jsx("div",{style:{fontSize:10,color:a.text,fontWeight:700},children:w.total})]}),s.jsxs("div",{style:{background:"rgba(16,25,35,0.45)",border:`1px solid ${a.border}`,borderRadius:7,padding:"6px 7px"},children:[s.jsx("div",{style:{fontSize:8,color:a.dim},children:"BOTS"}),s.jsx("div",{style:{fontSize:10,color:a.accent,fontWeight:700},children:w.bots})]}),s.jsxs("div",{style:{background:"rgba(16,25,35,0.45)",border:`1px solid ${a.border}`,borderRadius:7,padding:"6px 7px"},children:[s.jsx("div",{style:{fontSize:8,color:a.dim},children:"ACTIVE"}),s.jsx("div",{style:{fontSize:10,color:a.ok,fontWeight:700},children:w.active})]}),s.jsxs("div",{style:{background:"rgba(16,25,35,0.45)",border:`1px solid ${a.border}`,borderRadius:7,padding:"6px 7px"},children:[s.jsx("div",{style:{fontSize:8,color:a.dim},children:"P&L USD"}),s.jsxs("div",{style:{fontSize:10,color:w.pnlUsd>=0?a.ok:a.danger,fontWeight:700},children:[w.pnlUsd>=0?"+":"-","$",Ye(Math.abs(w.pnlUsd),2)]})]})]}),s.jsx("div",{style:{display:"flex",gap:6,flexWrap:"wrap",marginBottom:7},children:["current","mainnet","testnet-10","testnet-11","testnet-12","all"].map(A=>{const f=A===i;return s.jsx("button",{onClick:()=>l(A),style:{...X(f?a.accent:a.dim),padding:"5px 7px",fontSize:8,background:f?`${a.accent}20`:"rgba(16,25,35,0.45)",borderColor:f?`${a.accent}55`:a.border},children:nh(A,e)},A)})}),s.jsx("div",{style:{display:"flex",gap:6,flexWrap:"wrap"},children:["all","bots","manual"].map(A=>{const f=A===c;return s.jsx("button",{onClick:()=>u(A),style:{...X(f?a.ok:a.dim),padding:"5px 7px",fontSize:8,background:f?`${a.ok}20`:"rgba(16,25,35,0.45)",borderColor:f?`${a.ok}55`:a.border},children:rh(A)},A)})})]}),s.jsxs("div",{style:{...mn,marginBottom:2},children:["LIVE UPDATE  LAST SYNC ",d>0?Gc(d,h).toUpperCase():"NEVER"]}),E.map(A=>{const f=A.pnlUsd>=0,m=String(A.execMode||"manual").toUpperCase(),y=A.isActive?a.ok:a.warn;return s.jsxs("div",{style:{...xt(A.isActive?"accent":"default",!0),borderColor:A.isActive?`${a.accent}40`:a.border,padding:"10px 12px"},children:[s.jsxs("div",{style:{display:"flex",alignItems:"center",justifyContent:"space-between",marginBottom:6,gap:8},children:[s.jsxs("div",{style:{display:"flex",alignItems:"center",gap:6,minWidth:0},children:[s.jsx("div",{style:{width:6,height:6,borderRadius:"50%",background:y,flexShrink:0}}),s.jsx("span",{style:{fontSize:10,fontWeight:700,color:a.text,whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis"},children:A.name})]}),s.jsxs("div",{style:{display:"flex",alignItems:"center",gap:4,flexWrap:"wrap",justifyContent:"flex-end"},children:[s.jsx("span",{style:{fontSize:8,color:a.dim,...j,background:"rgba(16,25,35,0.65)",border:`1px solid ${a.border}`,borderRadius:3,padding:"2px 5px"},children:y1(A.network)}),s.jsx("span",{style:{fontSize:8,color:A.isBot?a.accent:a.dim,...j,background:A.isBot?`${a.accent}18`:"rgba(16,25,35,0.65)",border:`1px solid ${A.isBot?`${a.accent}50`:a.border}`,borderRadius:3,padding:"2px 5px"},children:A.isBot?"BOT":"MANUAL"}),s.jsx("span",{style:{fontSize:8,color:A.isActive?a.ok:a.warn,fontWeight:700,...j,background:A.isActive?`${a.ok}15`:`${a.warn}15`,border:`1px solid ${A.isActive?a.ok:a.warn}30`,borderRadius:3,padding:"2px 5px"},children:m})]})]}),s.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:6},children:[s.jsxs("div",{children:[s.jsx("div",{style:{fontSize:8,color:a.dim,marginBottom:1},children:"STRATEGY"}),s.jsx("div",{style:{fontSize:8,color:a.text,whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis"},children:A.strategy})]}),s.jsxs("div",{children:[s.jsx("div",{style:{fontSize:8,color:a.dim,marginBottom:1},children:"P&L (USD)"}),s.jsxs("div",{style:{fontSize:8,color:f?a.ok:a.danger,fontWeight:700},children:[f?"+":"","$",Ye(Math.abs(A.pnlUsd),2)]})]}),A.capitalLimitKas&&s.jsxs("div",{children:[s.jsx("div",{style:{fontSize:8,color:a.dim,marginBottom:1},children:"CAPITAL"}),s.jsxs("div",{style:{fontSize:8,color:a.text},children:[A.capitalLimitKas," KAS"]})]}),s.jsxs("div",{children:[s.jsx("div",{style:{fontSize:8,color:a.dim,marginBottom:1},children:"LAST HEARTBEAT"}),s.jsx("div",{style:{fontSize:8,color:a.text},children:Gc(A.updatedAt,h)})]}),s.jsxs("div",{children:[s.jsx("div",{style:{fontSize:8,color:a.dim,marginBottom:1},children:"RISK"}),s.jsx("div",{style:{fontSize:8,color:a.text},children:String(A.risk||"").toUpperCase()})]})]})]},A.id)}),s.jsx("button",{onClick:()=>chrome.tabs.create({url:`https://forge-os.xyz?network=${encodeURIComponent(e)}`}),style:{...X(a.dim,!0),padding:"8px 10px",marginTop:2},children:"MANAGE LIVE ON FORGE-OS "})]})}function x1(){return typeof chrome>"u"||!chrome.permissions?null:chrome.permissions}function $T(e){const t=new Set;for(const n of e){const r=String(n||"").trim();if(r)try{const o=new URL(r);if(o.protocol!=="http:"&&o.protocol!=="https:")continue;t.add(`${o.origin}/*`)}catch{}}return[...t]}async function KT(e){const t=x1();return t?new Promise(n=>{t.contains({origins:[e]},r=>{n(r===!0)})}):!0}async function HT(e){const t=x1();return t?new Promise(n=>{t.request({origins:[e]},r=>{n(r===!0)})}):!0}async function WT(e){const t=$T(e);for(const n of t){if(await KT(n))continue;if(!await HT(n))throw new Error(`HOST_PERMISSION_DENIED:${n}`)}}const VT=["mainnet","testnet-10","testnet-11","testnet-12"],GT={local_node_enabled_and_healthy:"Local node healthy (local route active)",local_node_disabled:"Local-first mode disabled",local_node_unhealthy:"Local RPC unhealthy (remote fallback active)",local_node_syncing:"Local node still syncing (remote fallback active)",local_profile_mismatch:"Local profile does not match active network",local_rpc_missing:"Local RPC endpoint missing",local_endpoint_missing:"Local RPC endpoint missing"};function oh(e){const t=String(e||"").trim().toLowerCase().replace(/_/g,"-");return t==="testnet-10"||t==="tn10"?"testnet-10":t==="testnet-11"||t==="tn11"?"testnet-11":t==="testnet-12"||t==="tn12"?"testnet-12":"mainnet"}function Il(e){return e==="mainnet"?"MAINNET":e.toUpperCase().replace("TESTNET-","TN")}function Qc(e){if(!e||!Number.isFinite(e))return"never";const t=Math.max(0,Date.now()-e);return t<1e3?"just now":t<6e4?`${Math.floor(t/1e3)}s ago`:t<36e5?`${Math.floor(t/6e4)}m ago`:`${Math.floor(t/36e5)}h ago`}function QT(e){if(!e)return"unresolved";try{const t=new URL(e);return`${t.protocol}//${t.host}`}catch{return e}}function XT(e,t,n=Date.now()){const r=e.find(i=>i.base===t)||e[0];if(!r||r.circuit==="open"||!r.lastOkAt)return"disconnected";const o=Math.max(0,n-r.lastOkAt);return o<=6e4?r.lastFailAt>r.lastOkAt?"degraded":"connected":o<=18e4?"degraded":"disconnected"}function YT({address:e,network:t,isManagedWallet:n,autoLockMinutes:r,persistUnlockSessionEnabled:o,onAutoLockMinutesChange:i,onPersistUnlockSessionChange:l,onLock:c}){var xo,Zs;const[u,d]=S.useState("none"),[p,h]=S.useState([]),[g,x]=S.useState(""),[E,w]=S.useState(null),[A,f]=S.useState(!1),[m,y]=S.useState(""),[v,_]=S.useState(""),[I,P]=S.useState(""),[O,V]=S.useState(null),[F,xe]=S.useState(!1),[Q,ue]=S.useState(!1),[Oe,Ae]=S.useState(!1),[le,Se]=S.useState(!1),[D,z]=S.useState("official"),[H,G]=S.useState(""),[oe,Re]=S.useState(!1),[ve,q]=S.useState(null),[we,W]=S.useState(!1),[fe,qe]=S.useState({}),[pe,ut]=S.useState(""),[Pt,wt]=S.useState(!1),[Ge,Et]=S.useState(null),[Ft,or]=S.useState(!1),[Ke,rt]=S.useState(!1),[Ee,et]=S.useState("mainnet"),[kt,N]=S.useState(""),[k,ne]=S.useState(null),[Y,Qe]=S.useState(null),[st,xn]=S.useState(null),[me,Te]=S.useState(""),[Ce,jt]=S.useState(!1),[dt,sn]=S.useState(!1),[$t,Sn]=S.useState(null),[ie,Ie]=S.useState(!1),[ln,De]=S.useState(null),[Kt,vn]=S.useState(!1),[an,Ht]=S.useState(null),[L,$]=S.useState([]),[re,Xe]=S.useState(null),[ft,Wt]=S.useState("checking"),[b,U]=S.useState(null),[he,de]=S.useState(null),[pt,Vt]=S.useState(null),He={official:"OFFICIAL",igra:"IGRA",kasplex:"KASPLEX",custom:"CUSTOM",local:"LOCAL NODE"},mt=n?"managed":e?"watch-only":"none",uo=[{label:"1m",value:1},{label:"15m",value:15},{label:"1h",value:60},{label:"4h",value:240},{label:"Never",value:-1}],Gt=S.useMemo(()=>oh(t),[t]),fo=Ee===Gt,Ur=kt.trim(),$s=oh((k==null?void 0:k.networkProfile)||Ee),po=((k==null?void 0:k.dataDirBase)||"").trim(),Ks=((k==null?void 0:k.dataDirManagedDefault)||"").trim(),Hs=Ur||Ks,Br=!!(k!=null&&k.running&&($s!==Ee||Hs.length>0&&po.length>0&&Hs!==po)),Ws=Nv(),Fr=(k==null?void 0:k.connectionState)||"stopped",Hn=((xo=k==null?void 0:k.sync)==null?void 0:xo.progressPct)??null,wi=S.useMemo(()=>Jv(t,D,H.trim()||null,fe),[t,D,H,fe]),Ei=ft==="connected"?a.ok:ft==="degraded"?a.warn:ft==="checking"?a.dim:a.danger,Vs=ft==="connected"?"CONNECTED":ft==="degraded"?"DEGRADED":ft==="checking"?"CHECKING":"DISCONNECTED",Ja=he==="local"?"LOCAL NODE":he==="remote"?"REMOTE RPC":"UNRESOLVED",mo=QT(b),wn=D==="official"||D==="igra"||D==="kasplex"?D:null,Me=S.useCallback(()=>{J0(t)},[t]),J=(C,M)=>{ne((C==null?void 0:C.status)??null),Qe((C==null?void 0:C.backend)??null),typeof(M==null?void 0:M.logs)=="string"&&Te(M.logs),M&&Object.prototype.hasOwnProperty.call(M,"metrics")&&xn(M.metrics??null),Sn(Date.now())},B=async C=>{const M=(C==null?void 0:C.includeLogs)===!0,se=(C==null?void 0:C.includeMetrics)!==!1,[Xt,jn,Rt]=await Promise.all([G0(),M?Em(40):Promise.resolve(""),se?jv():Promise.resolve(null)]);return J(Xt,{logs:M?jn:void 0,metrics:Rt}),Xt};S.useEffect(()=>{let C=!0;return Re(!0),q(null),W(!1),Promise.all([$0(t),B0(t),Go(t,"official"),Go(t,"igra"),Go(t,"kasplex"),K0(),H0(),Av(),B({includeLogs:!1,includeMetrics:!0})]).then(([M,se,Xt,jn,Rt,lr,So,vo])=>{if(!C)return;G(M??""),z(se);const ar={official:Xt,igra:jn,kasplex:Rt};qe(ar);const $r=se==="official"||se==="igra"||se==="kasplex"?ar[se]||[]:[];ut($r.join(`
`)),rt(lr),et(So),N(vo??"")}).catch(()=>{C&&q("Failed to load RPC settings.")}).finally(()=>{C&&Re(!1)}),()=>{C=!1}},[t]),S.useEffect(()=>{let C=!1,M=!1,se=0;const Xt=async()=>{if(!(C||M)){M=!0;try{const lr=!dt||se%3===0;await B({includeLogs:!1,includeMetrics:lr})}catch{}finally{se+=1,M=!1}}};Xt();const Rt=setInterval(()=>{Xt()},dt?15e3:6e3);return()=>{C=!0,clearInterval(Rt)}},[dt]),S.useEffect(()=>{const C=Lv(M=>{if((M.type==="connected"||M.type==="heartbeat")&&(sn(!0),Sn(Date.now())),(M.type==="stream_error"||M.type==="error")&&sn(!1),M.type==="status"){const se=M.payload;se!=null&&se.status&&J(se,{metrics:null})}M.type==="lifecycle"&&B({includeLogs:Ce,includeMetrics:!0})});return()=>{C(),sn(!1)}},[Ce]),S.useEffect(()=>{$([]),Ht(null),Xe(null),Wt("checking"),U(null),de(null),Vt(null)},[t,D]),S.useEffect(()=>{if(!wn){ut("");return}ut((fe[wn]||[]).join(`
`))},[wn,fe]),S.useEffect(()=>{if(!Ce)return;let C=!1;return Em(120).then(M=>{C||Te(M)}).catch(()=>{C||Te("")}),()=>{C=!0}},[Ce]);const We=async C=>{C.preventDefault(),w(null),f(!0);try{const M=await io(g,r,{persistSession:o});h(M.mnemonic.split(" ")),x("")}catch(M){const se=M instanceof Error?M.message:String(M);w(se==="INVALID_PASSWORD"?"Incorrect password.":"Authentication failed."),x("")}finally{f(!1)}},ho=()=>{h([]),x(""),w(null),d("none")},Za=async C=>{if(C.preventDefault(),V(null),v.length<8){V("New password must be at least 8 characters.");return}if(v!==I){V("New passwords do not match.");return}if(v===m){V("New password must differ from current password.");return}ue(!0);try{await cy(m,v),xe(!0),y(""),_(""),P("")}catch(M){const se=M instanceof Error?M.message:String(M);V(se==="INVALID_PASSWORD"?"Current password is incorrect.":se==="WEAK_PASSWORD"?"New password is too short (min 8 chars).":"Failed to change password. Try again.")}finally{ue(!1)}},Qf=async()=>{if(!Oe){Ae(!0);return}await uy(),c()},Pn=(C=!1)=>({...h1(C)}),ki=()=>{d("none"),h([]),x(""),w(null),y(""),_(""),P(""),V(null),xe(!1),Ae(!1)},Gs=C=>{var se;const M=`${Ws}${C}`;if(typeof chrome<"u"&&((se=chrome.tabs)!=null&&se.create)){chrome.tabs.create({url:M});return}typeof window<"u"&&window.open(M,"_blank","noopener,noreferrer")},go=S.useCallback(async C=>{var se;const M=(C==null?void 0:C.silent)===!0;M||vn(!0),Ht(null);try{Me();const jn=[...await sw(t)].sort((So,vo)=>{const ar=So.lastOkAt||0,$r=vo.lastOkAt||0;if(ar!==$r)return $r-ar;const qs=So.consecutiveFails||0,el=vo.consecutiveFails||0;return qs-el}),Rt=await Z0(t).catch(()=>null),lr=(Rt==null?void 0:Rt.activeEndpoint)??((se=jn[0])==null?void 0:se.base)??null;$(jn),Xe(Date.now()),U(lr),de((Rt==null?void 0:Rt.source)??null),Wt(XT(jn,lr)),Vt(Date.now())}catch{Ht("Failed to probe provider feed."),Wt("disconnected"),U(null),de(null),Vt(Date.now())}finally{M||vn(!1)}},[Me,t]);S.useEffect(()=>{let C=!1,M=!1;const se=async()=>{if(!(C||M)){M=!0;try{await go({silent:!0})}finally{M=!1}}};se();const Xt=setInterval(()=>{se()},2e4);return()=>{C=!0,clearInterval(Xt)}},[go]);const Ai=async C=>{Se(!0);try{await i(C)}finally{Se(!1)}},Ti=async()=>{Se(!0);try{await l(!o)}finally{Se(!1)}},ir=async C=>{Ie(!0),De(null);try{if(C==="managed_local"){if(await Ic(Gt),et(Gt),await vm(null),N(""),await Oi(!0),rt(!0),await ur(t,"local"),z("local"),!(k!=null&&k.running)){const M=await Nc({networkProfile:Gt,dataDir:null});J(M,{})}}else await Oi(!1),rt(!1),await ur(t,"official"),z("official");Me(),await B({includeLogs:Ce,includeMetrics:!0})}catch(M){De(M instanceof Error?M.message:"Failed to apply node preset.")}finally{Ie(!1)}},Qs=async C=>{Re(!0),q(null),W(!1);try{await ur(t,C),C==="local"&&(await Oi(!0),rt(!0)),z(C),W(!0),Me()}catch{q("Failed to save RPC provider preset.")}finally{Re(!1)}},Xs=async()=>{const C=H.trim();if(!C){q("Enter a custom RPC endpoint first.");return}Re(!0),q(null),W(!1);try{await WT([C]),await Sm(t,C),await ur(t,"custom"),z("custom"),W(!0),Me()}catch(M){const se=M instanceof Error?M.message:String(M);se==="INVALID_RPC_ENDPOINT"?q("Invalid endpoint URL. Use http(s)://..."):se.startsWith("HOST_PERMISSION_DENIED:")?q("Browser denied host permission for selected endpoint. Allow permission to use this endpoint."):q("Failed to save custom RPC endpoint.")}finally{Re(!1)}},sr=async()=>{Re(!0),q(null),W(!1);try{await Sm(t,null),await ur(t,"official"),z("official"),G(""),W(!0),Me()}catch{q("Failed to clear custom RPC endpoint.")}finally{Re(!1)}},qa=async C=>{Ie(!0),De(null);try{let M=Ee;if(C&&!fo&&(M=Gt,await Ic(M),et(M)),await Oi(C),rt(C),C){if(await ur(t,"local"),z("local"),!(k!=null&&k.running)){const se=await Nc({networkProfile:M,dataDir:Ur||null});J(se,{})}}else D==="local"&&(await ur(t,"official"),z("official"));Me(),await B({includeLogs:Ce,includeMetrics:!0})}catch(M){De(M instanceof Error?M.message:"Failed to update local node mode.")}finally{Ie(!1)}},Ys=async C=>{Ie(!0),De(null);try{await Ic(C),et(C),Me(),await B({includeLogs:!1,includeMetrics:!0})}catch(M){De(M instanceof Error?M.message:"Failed to save local node profile.")}finally{Ie(!1)}},Ci=async C=>{Ie(!0),De(null);try{const M=C!==void 0?typeof C=="string"?C.trim():null:kt.trim()||null;await vm(M),M||N(""),await B({includeLogs:!1,includeMetrics:!0})}catch(M){De(M instanceof Error?M.message:"Failed to save local node data dir.")}finally{Ie(!1)}},Js=async()=>{Ie(!0),De(null);try{const C=await Nc({networkProfile:Ee,dataDir:kt.trim()||null});J(C,{}),await Oi(!0),await ur(t,"local"),rt(!0),z("local"),Me(),await B({includeLogs:Ce,includeMetrics:!0})}catch(C){De(C instanceof Error?C.message:"Failed to start local node.")}finally{Ie(!1)}},Qt=async()=>{Ie(!0),De(null);try{const C=await bv();J(C,{}),Me(),await B({includeLogs:Ce,includeMetrics:!0})}catch(C){De(C instanceof Error?C.message:"Failed to stop local node.")}finally{Ie(!1)}},yo=async()=>{Ie(!0),De(null);try{const C=await Pv({networkProfile:Ee,dataDir:kt.trim()||null});J(C,{}),Me(),await B({includeLogs:Ce,includeMetrics:!0})}catch(C){De(C instanceof Error?C.message:"Failed to restart local node.")}finally{Ie(!1)}},ec=async()=>{if(k!=null&&k.running){if(Br){await yo();return}await B({includeLogs:Ce,includeMetrics:!0});return}await Js()};return s.jsxs("div",{style:Yr,children:[s.jsxs("div",{style:xt("default"),children:[s.jsx("div",{style:{...mn,marginBottom:8},children:"CONNECTION STATUS"}),s.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:8},children:[s.jsxs("div",{children:[s.jsx("div",{style:{fontSize:8,color:a.dim,marginBottom:3},children:"PROVIDER"}),s.jsxs("div",{style:{display:"flex",alignItems:"center",gap:5},children:[s.jsx("div",{style:{width:5,height:5,borderRadius:"50%",background:e?a.ok:a.warn}}),s.jsx("span",{style:{fontSize:9,color:a.text,fontWeight:700},children:mt.toUpperCase()})]})]}),s.jsxs("div",{children:[s.jsx("div",{style:{fontSize:8,color:a.dim,marginBottom:3},children:"NETWORK"}),s.jsx("span",{style:{fontSize:8,color:t==="mainnet"?a.warn:a.ok,fontWeight:700,background:t==="mainnet"?`${a.warn}15`:`${a.ok}15`,border:`1px solid ${t==="mainnet"?a.warn:a.ok}30`,borderRadius:3,padding:"2px 6px"},children:t.toUpperCase()})]}),e&&s.jsxs("div",{style:{gridColumn:"1 / -1"},children:[s.jsx("div",{style:{fontSize:8,color:a.dim,marginBottom:3},children:"ADDRESS"}),s.jsx("div",{style:{...te(),fontSize:8,color:a.text,padding:"7px 9px"},children:Ms(e)})]})]})]}),s.jsxs("div",{style:xt("default"),children:[s.jsx("div",{style:{...mn,marginBottom:8},children:"KASPA RPC ENDPOINT"}),s.jsxs("div",{style:{fontSize:8,color:a.dim,lineHeight:1.5,marginBottom:6},children:["Active network: ",s.jsx("span",{style:{color:a.text,fontWeight:700},children:wi.network.toUpperCase()})]}),s.jsxs("div",{style:{fontSize:8,color:a.dim,lineHeight:1.5,marginBottom:7},children:["Provider preset: ",s.jsx("span",{style:{color:a.text,fontWeight:700},children:He[D]}),"  Pool size:"," ",s.jsx("span",{style:{color:a.text,fontWeight:700},children:wi.effectivePool.length})]}),s.jsxs("div",{style:{...te(),marginBottom:8,display:"flex",flexDirection:"column",gap:6},children:[s.jsxs("div",{style:{display:"flex",alignItems:"center",justifyContent:"space-between",gap:8},children:[s.jsx("div",{style:{fontSize:8,color:a.dim,letterSpacing:"0.08em"},children:"RPC CONNECTOR"}),s.jsx("div",{style:{fontSize:7,color:Ei,border:`1px solid ${Ei}55`,borderRadius:4,padding:"2px 6px",letterSpacing:"0.06em",fontWeight:700},children:Vs})]}),s.jsxs("div",{style:{fontSize:8,color:a.dim,lineHeight:1.45},children:["Route: ",s.jsx("span",{style:{color:a.text,fontWeight:700},children:Ja}),"  Endpoint:"," ",s.jsx("span",{style:{...j,color:a.text},children:mo})]}),s.jsxs("div",{style:{fontSize:8,color:a.dim,lineHeight:1.45},children:["Last verified: ",s.jsx("span",{style:{color:a.text,fontWeight:700},children:Qc(pt)})]})]}),s.jsx("div",{style:{display:"flex",gap:6,flexWrap:"wrap",marginBottom:8},children:Object.keys(He).map(C=>{const M=D===C;return s.jsx("button",{onClick:()=>{Qs(C)},disabled:oe,style:{...X(M?a.accent:a.dim,!0),padding:"6px 8px",fontSize:8,color:M?a.accent:a.dim,opacity:oe?.7:1},children:He[C]},C)})}),s.jsx("input",{value:H,onChange:C=>{G(C.target.value),W(!1),q(null)},placeholder:"Enter custom RPC endpoint",disabled:oe,style:{...Pn(!!ve),marginBottom:7}}),s.jsxs("div",{style:{display:"flex",gap:6},children:[s.jsx("button",{onClick:()=>{Xs()},disabled:oe||!H.trim(),style:{...X(a.accent,!0),flex:1,padding:"7px 8px",color:a.accent,opacity:oe?.7:1},children:oe?"SAVING":"SAVE & USE CUSTOM"}),s.jsx("button",{onClick:()=>{sr()},disabled:oe,style:{...X(a.dim,!0),flex:1,padding:"7px 8px",color:a.dim,opacity:oe?.7:1},children:"CLEAR"})]}),s.jsx("div",{style:{display:"flex",gap:6,marginTop:6},children:s.jsx("button",{onClick:()=>{go()},disabled:Kt,style:{...X(a.ok,!0),flex:1,padding:"7px 8px",color:a.ok,opacity:Kt?.7:1},children:Kt?"PROBING":"TEST LIVE FEED"})}),ve&&s.jsx("div",{style:{fontSize:8,color:a.danger,marginTop:6},children:ve}),!ve&&we&&s.jsx("div",{style:{fontSize:8,color:a.ok,marginTop:6},children:"Saved RPC settings for this network."}),an&&s.jsx("div",{style:{fontSize:8,color:a.danger,marginTop:6},children:an}),re&&!an&&s.jsxs("div",{style:{fontSize:8,color:a.dim,marginTop:6},children:["Last provider probe: ",Qc(re)]}),L.length>0&&s.jsx("div",{style:{...te(),marginTop:6,display:"flex",flexDirection:"column",gap:5},children:L.slice(0,4).map((C,M)=>s.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr auto",gap:8,alignItems:"center"},children:[s.jsxs("div",{style:{fontSize:8,color:a.text,lineHeight:1.35},children:["Endpoint #",M+1]}),s.jsxs("div",{style:{fontSize:7,color:C.circuit==="open"?a.danger:a.ok},children:[C.circuit.toUpperCase(),"  ",C.lastLatencyMs?`${Math.round(C.lastLatencyMs)}ms`:"n/a"]})]},C.base))}),s.jsxs("div",{style:{...te(),marginTop:8,display:"flex",flexDirection:"column",gap:7},children:[s.jsxs("div",{style:{display:"flex",alignItems:"center",justifyContent:"space-between",gap:8},children:[s.jsx("div",{style:{fontSize:8,color:a.dim,letterSpacing:"0.08em"},children:"LOCAL NODE MODE"}),s.jsx("div",{style:{fontSize:7,color:dt?a.ok:a.warn,border:`1px solid ${dt?`${a.ok}45`:`${a.warn}45`}`,borderRadius:4,padding:"2px 5px",letterSpacing:"0.06em"},children:dt?"EVENT STREAM":"POLL FALLBACK"})]}),s.jsxs("div",{style:{fontSize:8,color:a.dim,lineHeight:1.45},children:["Run your own ",s.jsx("span",{style:{...j,color:a.text},children:"kaspad"})," for self-custody routing. When local health/sync/profile checks pass, traffic stays local; otherwise the wallet auto-falls back to remote RPC."]}),s.jsxs("div",{style:{display:"flex",gap:6,flexWrap:"wrap"},children:[s.jsxs("div",{style:{fontSize:7,color:k!=null&&k.running?a.ok:a.dim,border:`1px solid ${k!=null&&k.running?`${a.ok}45`:a.border}`,borderRadius:4,padding:"2px 5px",letterSpacing:"0.06em"},children:["LOCAL NODE ",k!=null&&k.running?"ON":"OFF"]}),s.jsxs("div",{style:{fontSize:7,color:k!=null&&k.rpcHealthy?a.ok:a.warn,border:`1px solid ${k!=null&&k.rpcHealthy?`${a.ok}45`:`${a.warn}45`}`,borderRadius:4,padding:"2px 5px",letterSpacing:"0.06em"},children:["LOCAL RPC ",k!=null&&k.rpcHealthy?"HEALTHY":"DEGRADED"]}),s.jsxs("div",{style:{fontSize:7,color:Fr==="healthy"?a.ok:Fr==="degraded"?a.danger:a.dim,border:`1px solid ${Fr==="healthy"?`${a.ok}45`:Fr==="degraded"?`${a.danger}55`:a.border}`,borderRadius:4,padding:"2px 5px",letterSpacing:"0.06em"},children:["STATE ",Fr.toUpperCase()]}),s.jsx("button",{onClick:()=>Gs("/node/status"),style:{...X(a.dim,!0),padding:"2px 6px",fontSize:7,color:a.dim,letterSpacing:"0.06em"},children:"OPEN STATUS"}),s.jsx("button",{onClick:()=>Gs("/metrics"),style:{...X(a.dim,!0),padding:"2px 6px",fontSize:7,color:a.dim,letterSpacing:"0.06em"},children:"OPEN METRICS"})]}),s.jsxs("div",{style:{display:"flex",gap:6,flexWrap:"wrap"},children:[s.jsx("button",{onClick:()=>{ir("managed_local")},disabled:ie,style:{...X(a.accent,!0),padding:"6px 8px",fontSize:8,color:a.accent,opacity:ie?.7:1},children:"QUICK PRESET: LOCAL-FIRST"}),s.jsx("button",{onClick:()=>{ir("remote_official")},disabled:ie,style:{...X(a.dim,!0),padding:"6px 8px",fontSize:8,color:a.dim,opacity:ie?.7:1},children:"QUICK PRESET: REMOTE-FIRST"})]}),!k&&s.jsxs("div",{style:{fontSize:8,color:a.warn,lineHeight:1.45},children:["Local node helper is offline. Run ",s.jsx("span",{style:{...j,color:a.text},children:"npm run local-node:start"})," to enable local-first routing."]}),s.jsxs("div",{style:{display:"flex",gap:6,flexWrap:"wrap"},children:[s.jsx("button",{onClick:()=>{qa(!Ke)},disabled:ie,style:{...X(Ke?a.ok:a.dim,!0),padding:"6px 8px",fontSize:8,color:Ke?a.ok:a.dim,opacity:ie?.7:1},children:Ke?"LOCAL-FIRST ROUTING ON":"LOCAL-FIRST ROUTING OFF"}),s.jsxs("button",{onClick:()=>{Ys(Gt)},disabled:ie||Ee===Gt,style:{...X(Ee===Gt?a.ok:a.accent,!0),padding:"6px 8px",fontSize:8,color:Ee===Gt?a.ok:a.accent,opacity:ie?.7:1},children:["MATCH ACTIVE (",Il(Gt),")"]})]}),s.jsx("div",{style:{display:"flex",gap:6,flexWrap:"wrap"},children:VT.map(C=>s.jsx("button",{onClick:()=>{Ys(C)},disabled:ie,style:{...X(Ee===C?a.accent:a.dim,!0),padding:"6px 8px",fontSize:8,color:Ee===C?a.accent:a.dim,opacity:ie?.7:1},children:Il(C)},C))}),!fo&&s.jsxs("div",{style:{fontSize:8,color:a.warn,lineHeight:1.45},children:["Profile mismatch: local ",Il(Ee)," vs active ",Il(Gt),". Remote fallback remains active until profiles match."]}),s.jsx("input",{value:kt,onChange:C=>N(C.target.value),placeholder:"Optional custom data root (leave empty for managed default)",disabled:ie,style:{...Pn(!!ln),marginBottom:0}}),s.jsxs("div",{style:{display:"flex",gap:6,flexWrap:"wrap"},children:[s.jsx("button",{onClick:()=>{Ci()},disabled:ie,style:{...X(a.accent,!0),flex:1,minWidth:86,padding:"7px 8px",color:a.accent,opacity:ie?.7:1},children:"SAVE DIR"}),s.jsx("button",{onClick:()=>{Ci(null)},disabled:ie,style:{...X(a.dim,!0),minWidth:120,padding:"7px 8px",color:a.dim,opacity:ie?.7:1},children:"USE MANAGED DIR"}),s.jsx("button",{onClick:()=>{ec()},disabled:ie,style:{...X(k!=null&&k.running&&Br?a.warn:a.ok,!0),flex:1,minWidth:120,padding:"7px 8px",color:k!=null&&k.running&&Br?a.warn:a.ok,opacity:ie?.7:1},children:k!=null&&k.running?Br?"APPLY & RESTART":"RUNNING":"START"}),s.jsx("button",{onClick:()=>{yo()},disabled:ie||!(k!=null&&k.running),style:{...X(a.warn,!0),flex:1,minWidth:86,padding:"7px 8px",color:a.warn,opacity:ie||!(k!=null&&k.running)?.7:1},children:"RESTART"}),s.jsx("button",{onClick:()=>{Qt()},disabled:ie||!(k!=null&&k.running),style:{...X(a.danger,!0),flex:1,minWidth:72,padding:"7px 8px",color:a.danger,opacity:ie||!(k!=null&&k.running)?.7:1},children:"STOP"}),s.jsx("button",{onClick:()=>{B({includeLogs:Ce,includeMetrics:!0})},disabled:ie,style:{...X(a.dim,!0),minWidth:82,padding:"7px 8px",color:a.dim,opacity:ie?.7:1},children:"REFRESH"}),s.jsx("button",{onClick:()=>jt(C=>!C),disabled:ie,style:{...X(Ce?a.accent:a.dim,!0),minWidth:92,padding:"7px 8px",color:Ce?a.accent:a.dim,opacity:ie?.7:1},children:Ce?"HIDE LOGS":"SHOW LOGS"})]}),s.jsxs("div",{style:{fontSize:8,color:k!=null&&k.rpcHealthy?a.ok:a.dim,lineHeight:1.45},children:["Engine: ",k!=null&&k.running?"running":"stopped","  Route: ",(Y==null?void 0:Y.source)||"remote","  Local RPC: ",k!=null&&k.rpcHealthy?"healthy":"degraded","  Sync:"," ",Hn!=null?`${Ye(Hn,2)}%`:"","  Updated ",Qc($t)]}),s.jsx("div",{style:{...te(),height:8,padding:0,overflow:"hidden"},children:s.jsx("div",{style:{width:`${Math.max(0,Math.min(100,Hn??0))}%`,height:"100%",background:(Zs=k==null?void 0:k.sync)!=null&&Zs.synced?`linear-gradient(90deg, ${a.ok}, #6DD6A7)`:`linear-gradient(90deg, ${a.accent}, #7BE9CF)`,transition:"width 200ms ease"}})}),s.jsxs("div",{style:{fontSize:8,color:a.dim,lineHeight:1.45,wordBreak:"break-all"},children:["Storage: ",k!=null&&k.dataDirOverride?"CUSTOM PATH":"MANAGED DEFAULT","  Root: ",(k==null?void 0:k.dataDirBase)||""]}),s.jsxs("div",{style:{fontSize:8,color:a.dim,lineHeight:1.45,wordBreak:"break-all"},children:["Profile dir: ",(k==null?void 0:k.dataDir)||""]}),s.jsxs("div",{style:{fontSize:8,color:a.dim,lineHeight:1.45},children:["Active route: ",((Y==null?void 0:Y.source)||"remote").toUpperCase(),"  ",GT[(Y==null?void 0:Y.reason)||""]||(Y==null?void 0:Y.reason)||"No status reason"]}),st&&s.jsxs("div",{style:{display:"grid",gridTemplateColumns:"repeat(4, minmax(0, 1fr))",gap:6},children:[s.jsxs("div",{style:{...te(),padding:"6px 7px"},children:[s.jsx("div",{style:{fontSize:7,color:a.dim},children:"REQ"}),s.jsx("div",{style:{fontSize:9,color:a.text,fontWeight:700},children:st.control.requestsTotal})]}),s.jsxs("div",{style:{...te(),padding:"6px 7px"},children:[s.jsx("div",{style:{fontSize:7,color:a.dim},children:"EVENTS"}),s.jsx("div",{style:{fontSize:9,color:a.text,fontWeight:700},children:st.control.eventsEmittedTotal})]}),s.jsxs("div",{style:{...te(),padding:"6px 7px"},children:[s.jsx("div",{style:{fontSize:7,color:a.dim},children:"UPTIME"}),s.jsxs("div",{style:{fontSize:9,color:a.text,fontWeight:700},children:[st.uptimeSec,"s"]})]}),s.jsxs("div",{style:{...te(),padding:"6px 7px"},children:[s.jsx("div",{style:{fontSize:7,color:a.dim},children:"RESTARTS"}),s.jsx("div",{style:{fontSize:9,color:a.warn,fontWeight:700},children:st.node.restartsTotal})]})]}),(k==null?void 0:k.rpcBaseUrl)&&s.jsxs("div",{style:{fontSize:8,color:a.dim,lineHeight:1.45,wordBreak:"break-all"},children:["RPC Endpoint: ",k.rpcBaseUrl]}),(k==null?void 0:k.error)&&s.jsx("div",{style:{fontSize:8,color:a.danger,lineHeight:1.45},children:k.error}),ln&&s.jsx("div",{style:{fontSize:8,color:a.danger,lineHeight:1.45},children:ln}),Ce&&s.jsx("div",{style:{...te(),fontSize:7,color:a.muted,whiteSpace:"pre-wrap",lineHeight:1.4,maxHeight:96,overflowY:"auto"},children:me||"No recent logs available yet."})]}),s.jsx("div",{style:{fontSize:8,color:a.dim,lineHeight:1.5,marginTop:6},children:"Presets are saved per network. Local-first mode uses your control service (`VITE_LOCAL_NODE_CONTROL_URL`) and automatically falls back to remote RPC for reliability."})]}),n&&s.jsxs("div",{style:xt("default"),children:[s.jsx("div",{style:{...mn,marginBottom:8},children:"SESSION SETTINGS"}),s.jsxs("div",{style:{marginBottom:10},children:[s.jsx("div",{style:{fontSize:8,color:a.dim,marginBottom:5,letterSpacing:"0.08em"},children:"AUTO-LOCK"}),s.jsx("div",{style:{display:"flex",gap:6,flexWrap:"wrap"},children:uo.map(C=>s.jsx("button",{disabled:le,onClick:()=>{Ai(C.value)},style:{...X(r===C.value?a.accent:a.dim,!0),padding:"6px 8px",fontSize:8,color:r===C.value?a.accent:a.dim,opacity:le?.7:1},children:C.label},C.value))})]}),s.jsx("button",{onClick:()=>{Ti()},disabled:le,style:{...X(o?a.ok:a.dim,!0),width:"100%",padding:"8px 10px",color:o?a.ok:a.dim,textAlign:"left",opacity:le?.7:1},children:o?" KEEP UNLOCKED WHEN POPUP CLOSES":"KEEP UNLOCKED WHEN POPUP CLOSES"}),s.jsx("div",{style:{fontSize:8,color:a.dim,lineHeight:1.5,marginTop:6},children:"Stores unlocked session in browser session memory only; lock manually on shared devices."})]}),n&&s.jsxs(s.Fragment,{children:[u==="none"&&s.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:7},children:[s.jsx("button",{onClick:()=>d("reveal"),style:Xc(a.accent),children:" REVEAL SEED PHRASE"}),s.jsx("button",{onClick:()=>d("change_pw"),style:Xc(a.dim),children:" CHANGE PASSWORD"}),s.jsx("button",{onClick:()=>d("reset"),style:Xc(a.danger),children:" RESET WALLET"})]}),u==="reveal"&&s.jsxs("div",{style:{...xt("warn")},children:[s.jsxs("div",{style:{display:"flex",alignItems:"center",justifyContent:"space-between",marginBottom:8},children:[s.jsx("span",{style:{...Yn,color:a.warn},children:"SEED PHRASE"}),s.jsx("button",{onClick:ho,style:{background:"none",border:"none",color:a.dim,fontSize:8,cursor:"pointer",...j},children:" close"})]}),p.length===0?s.jsxs("form",{onSubmit:We,children:[s.jsx("div",{style:{fontSize:8,color:a.dim,marginBottom:6,lineHeight:1.5},children:"Enter your password to view your seed phrase. Never share it  anyone with this phrase controls your wallet."}),s.jsx("input",{type:"password",value:g,onChange:C=>x(C.target.value),placeholder:"Your password",disabled:A,style:{...Pn(!!E),marginBottom:6}}),E&&s.jsx("div",{style:{fontSize:8,color:a.danger,marginBottom:6},children:E}),s.jsx("button",{type:"submit",disabled:!g||A,style:{...X(g&&!A?a.warn:a.dim,!0),width:"100%",padding:"7px 0",color:g&&!A?a.warn:a.dim,cursor:g&&!A?"pointer":"not-allowed"},children:A?"AUTHENTICATING":"SHOW SEED PHRASE"})]}):s.jsxs(s.Fragment,{children:[s.jsx("div",{style:{...te(),display:"grid",gridTemplateColumns:"repeat(4, 1fr)",gap:4,marginBottom:8},children:p.map((C,M)=>s.jsxs("div",{style:{background:"rgba(5,7,10,0.9)",border:`1px solid ${a.border}`,borderRadius:4,padding:"5px 4px",display:"flex",alignItems:"center",gap:3},children:[s.jsxs("span",{style:{fontSize:8,color:a.dim,flexShrink:0},children:[M+1,"."]}),s.jsx("span",{style:{fontSize:8,color:a.text,fontWeight:600},children:C})]},M))}),s.jsx("div",{style:{fontSize:8,color:a.warn,lineHeight:1.4},children:" Store offline. Never photograph or share digitally."})]})]}),u==="change_pw"&&s.jsxs("div",{style:xt("default"),children:[s.jsxs("div",{style:{display:"flex",alignItems:"center",justifyContent:"space-between",marginBottom:8},children:[s.jsx("span",{style:Yn,children:"CHANGE PASSWORD"}),s.jsx("button",{onClick:ki,style:{background:"none",border:"none",color:a.dim,fontSize:8,cursor:"pointer",...j},children:" close"})]}),F?s.jsx("div",{style:{fontSize:8,color:a.ok,textAlign:"center",padding:"8px 0"},children:" Password updated successfully."}):s.jsxs("form",{onSubmit:Za,style:{display:"flex",flexDirection:"column",gap:7},children:[s.jsx("input",{type:"password",value:m,onChange:C=>y(C.target.value),placeholder:"Current password",disabled:Q,style:Pn()}),s.jsx("input",{type:"password",value:v,onChange:C=>_(C.target.value),placeholder:"New password (min 8 chars)",disabled:Q,style:Pn()}),s.jsx("input",{type:"password",value:I,onChange:C=>P(C.target.value),placeholder:"Confirm new password",disabled:Q,style:Pn()}),O&&s.jsx("div",{style:{fontSize:8,color:a.danger},children:O}),s.jsx("button",{type:"submit",disabled:!m||!v||!I||Q,style:{...yr(m&&v&&I&&!Q),padding:"8px 0",cursor:m&&v&&I&&!Q?"pointer":"not-allowed"},children:Q?"RE-ENCRYPTING":"UPDATE PASSWORD"})]})]}),u==="reset"&&s.jsxs("div",{style:{...xt("danger"),backgroundColor:a.dLow},children:[s.jsxs("div",{style:{display:"flex",alignItems:"center",justifyContent:"space-between",marginBottom:8},children:[s.jsx("span",{style:{...Yn,color:a.danger},children:" RESET WALLET"}),s.jsx("button",{onClick:ki,style:{background:"none",border:"none",color:a.dim,fontSize:8,cursor:"pointer",...j},children:" cancel"})]}),s.jsxs("div",{style:{fontSize:8,color:a.dim,lineHeight:1.5,marginBottom:10},children:["This will permanently delete your encrypted vault from this extension. Your on-chain funds are NOT affected. You can re-import using your seed phrase.",s.jsx("strong",{style:{color:a.warn},children:" Make sure your seed phrase is backed up before proceeding."})]}),s.jsx("button",{onClick:Qf,style:{...X(a.danger,!0),width:"100%",padding:"8px 0",background:Oe?a.danger:"rgba(49,21,32,0.65)",border:`1px solid ${a.danger}${Oe?"90":"50"}`,color:Oe?"#fff":a.danger},children:Oe?" CONFIRM  PERMANENTLY DELETE VAULT":"RESET WALLET"}),Oe&&s.jsx("div",{style:{fontSize:8,color:a.danger,marginTop:5,textAlign:"center"},children:"This cannot be undone. Your seed phrase is your only recovery option."})]})]}),s.jsxs("div",{style:{...te(),padding:"10px 12px"},children:[s.jsx("div",{style:{...mn,marginBottom:6},children:"SECURITY NOTES"}),["Seed phrase encrypted with AES-256-GCM before storage.","Password derived with Argon2id (legacy PBKDF2 vaults migrate on unlock).","Plaintext secrets never touch chrome.storage.","All signing happens locally  nothing is transmitted to servers."].map((C,M,se)=>s.jsxs("div",{style:{display:"flex",gap:6,marginBottom:M<se.length-1?4:0},children:[s.jsx("span",{style:{color:a.ok,fontSize:8,flexShrink:0},children:""}),s.jsx("span",{style:{fontSize:8,color:a.dim,lineHeight:1.5},children:C})]},M))]}),n&&u==="none"&&s.jsx("button",{onClick:c,style:{...X(a.dim,!0),padding:"8px 0"},children:" LOCK WALLET"})]})}function Xc(e){return{...X(e,!0),padding:"10px 12px",color:e,textAlign:"left",letterSpacing:"0.08em"}}const JT={KAS:"../icons/kaspa-logo.png",USDC:"../icons/usdc.png",USDT:"../icons/usdt.png"};function _l({symbol:e,logoUri:t,size:n=22}){const r=t??JT[e];return r?s.jsx("img",{src:r,alt:e,style:{width:n,height:n,borderRadius:"50%",objectFit:"contain",flexShrink:0,background:"rgba(57,221,182,0.08)"},onError:o=>{o.currentTarget.style.display="none"}}):s.jsx("div",{style:{width:n,height:n,borderRadius:"50%",background:"rgba(57,221,182,0.18)",border:"1px solid rgba(57,221,182,0.35)",display:"flex",alignItems:"center",justifyContent:"center",flexShrink:0},children:s.jsx("span",{style:{color:"#39DDB6",fontSize:n*.45,fontWeight:800},children:e.slice(0,1)})})}function ih(e){return 36}function ZT(e,t){const n=String(e||"").trim();if(!n||!/^\d+(\.\d+)?$/.test(n))return null;const[r,o=""]=n.split("."),i=r.replace(/^0+(?=\d)/,"")||"0",l=o.slice(0,t).padEnd(t,"0"),c=`${i}${l}`.replace(/^0+(?=\d)/,"")||"0";try{return BigInt(c)}catch{return null}}function Yc(e,t,n=6){const r=e<0n,o=r?-e:e,i=10n**BigInt(Math.max(0,t)),l=o/i,c=o%i;let u=l.toString();if(u.length>15&&(u=`${u.slice(0,6)}${u.slice(-4)}`),c===0n||t<=0)return`${r?"-":""}${u}`;let d=c.toString().padStart(t,"0").slice(0,n);return d=d.replace(/0+$/,""),d?`${r?"-":""}${u}.${d}`:`${r?"-":""}${u}`}function sh(){const[e,t]=S.useState(()=>nd()),[n,r]=S.useState(null),[o,i]=S.useState([]),[l,c]=S.useState(null),[u,d]=S.useState(!1),[p,h]=S.useState(!1),[g,x]=S.useState(!1),[E,w]=S.useState(!1),[A,f]=S.useState(!1),m=by(),y=Sy(),[v,_]=S.useState("KAS"),[I,P]=S.useState("USDC"),[O,V]=S.useState(""),[F,xe]=S.useState(ge.defaultSlippageBps),[Q,ue]=S.useState(""),[Oe,Ae]=S.useState("krc20"),[le,Se]=S.useState(null),[D,z]=S.useState(!1),[H,G]=S.useState(null),[oe,Re]=S.useState(!1),[ve,q]=S.useState(!1),[we,W]=S.useState(null),[fe,qe]=S.useState(!0),[pe,ut]=S.useState(""),Pt="20",wt="auto",Ge=!m.enabled,Et=Q.trim().toLowerCase();Et&&y.filter(L=>`${L.symbol} ${L.name} ${L.id}`.toLowerCase().includes(Et)).slice(0,8);const Ft=y.find(L=>L.id===I)??null;S.useEffect(()=>{t(nd()),od().catch(()=>{}),rs().then(i).catch(()=>{})},[]),S.useEffect(()=>{const L=setInterval(()=>{od().then(()=>rs().then($=>i($.slice(0,4)))).catch(()=>{})},ge.settlementPollIntervalMs);return()=>clearInterval(L)},[]);const or=async()=>{const L=await rs();i(L.slice(0,4))},Ke=()=>{r(null),c(null),f(!1)},rt=async()=>{c(null);const L=y.find(re=>re.id===v),$=ZT(O,(L==null?void 0:L.decimals)??8);if(!$||$<=0n){c("Enter a valid amount.");return}h(!0);try{const re=await XE({tokenIn:v,tokenOut:I,amountIn:$,slippageBps:F,customTokenOut:le},{routeSource:Ce,allowHybridAuto:wt==="auto"});if(!re){c(m.reason??"Swap is currently unavailable.");return}r(re)}catch(re){c(re instanceof Error?re.message:String(re))}finally{h(!1)}},Ee=async L=>{G(null),c(null);const $=String(L||"").trim();if(!$){G("Paste a token address first.");return}z(!0);try{const re=await pa().catch(()=>"mainnet"),Xe=await Ga($,Oe,re);ue($),Se(Xe),P("USDC"),q(!1),Ke()}catch(re){Se(null),G(re instanceof Error?re.message:String(re))}finally{z(!1)}},et=()=>{Se(null),G(null),q(!1),Ke()},kt=async()=>{var L;if(G(null),c(null),!((L=navigator==null?void 0:navigator.clipboard)!=null&&L.readText)){G("Clipboard read is unavailable in this browser.");return}Re(!0);try{const re=(await navigator.clipboard.readText()).trim();if(!re){G("Clipboard is empty.");return}ue(re),Se(null),q(!1),Ke(),await k(re)}catch($){G($ instanceof Error?$.message:"Failed to read clipboard.")}finally{Re(!1)}},N=L=>{P(L),Se(null),G(null),q(!1),ue(""),Ke()},k=async L=>{G(null),c(null);const $=String(L??Q).trim();if(!$){G("Type a token name/symbol or paste a token address.");return}const re=$.toLowerCase(),Xe=y.find(U=>U.id.toLowerCase()===re||U.symbol.toLowerCase()===re||U.name.toLowerCase()===re);if(Xe){if(!Xe.enabled){G(Xe.disabledReason??`${Xe.symbol} is not currently available.`);return}N(Xe.id);return}const ft=y.find(U=>`${U.symbol} ${U.name} ${U.id}`.toLowerCase().includes(re));if(ft){if(!ft.enabled){G(ft.disabledReason??`${ft.symbol} is not currently available.`);return}N(ft.id);return}const Wt=await pa().catch(()=>"mainnet"),b=await a1($,Oe,Wt);if(b){Se(b),P("USDC"),q(!1),Ke();return}await Ee($)},ne=async()=>{var L;if(le!=null&&le.address&&(L=navigator==null?void 0:navigator.clipboard)!=null&&L.writeText)try{await navigator.clipboard.writeText(le.address),q(!0),setTimeout(()=>q(!1),1400)}catch{}},Y=async()=>{c(null),d(!0);try{const L=await JE();t(L),w(!1)}catch(L){c(L instanceof Error?L.message:String(L))}finally{d(!1)}},Qe=()=>{lE(),t(null)},st=async()=>{if(n){c(null),x(!0);try{await ek(n),f(!1),await or()}catch(L){c(L instanceof Error?L.message:String(L))}finally{x(!1)}}},xn=()=>{if(!new Set(y.filter($=>$.enabled).map($=>$.id)).has(I)){c(`Cannot flip while ${I} is disabled for input.`);return}_(I),P(v),et(),Ke()},me=y.find(L=>L.id===v),Te=le?{symbol:le.symbol,name:le.name,logoUri:le.logoUri}:Ft?{symbol:Ft.symbol,name:Ft.name,logoUri:void 0}:null,Ce=ge.routeSource,jt=Cf(v,le?"USDC":I,Ce,{allowHybridAuto:wt==="auto"});me==null||me.decimals;const dt=(le==null?void 0:le.decimals)??(Ft==null?void 0:Ft.decimals)??8,sn=n?Yc(n.amountOut,dt,6):"0.00",$t=`0.000000 ${((me==null?void 0:me.symbol)??"KAS").toUpperCase()}`,Sn=Te?`0.000000 ${Te.symbol.toUpperCase()}`:"",ie=Et?y.filter(L=>`${L.symbol} ${L.name} ${L.id}`.toLowerCase().includes(Et)):y,Ie=()=>{W(null),ue(""),G(null)},ln=L=>{we==="from"?(_(L),Ke()):N(L),Ie()},De={background:"linear-gradient(155deg, rgba(14,20,29,0.97) 0%, rgba(10,15,22,0.94) 100%)",border:"1px solid rgba(28,42,58,0.9)",borderRadius:18,padding:"16px 16px 14px",boxShadow:"inset 0 1px 0 rgba(255,255,255,0.05), 0 10px 28px rgba(0,0,0,0.32)"},Kt=L=>({display:"flex",alignItems:"center",gap:7,background:L?"rgba(24,34,48,0.95)":"linear-gradient(90deg, rgba(57,221,182,0.12), rgba(57,221,182,0.06))",border:`1px solid ${L?"rgba(28,42,58,0.9)":"rgba(57,221,182,0.3)"}`,borderRadius:999,padding:L?"8px 12px 8px 9px":"8px 14px",color:L?a.text:a.accent,fontSize:13,fontWeight:700,cursor:Ge?"not-allowed":"pointer",flexShrink:0,whiteSpace:"nowrap",...j}),vn={marginTop:11,display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",gap:4,background:"rgba(12,18,26,0.78)",border:"1px solid rgba(28,42,58,0.85)",borderRadius:11,padding:"7px 10px"},an={fontSize:8,color:a.muted,letterSpacing:"0.1em",...j},Ht={fontSize:12,color:a.text,fontWeight:700,letterSpacing:"0.03em",lineHeight:1.1,textAlign:"center",fontVariantNumeric:"tabular-nums",...j};if(we!==null){const L=oe||D;return s.jsxs("div",{style:{display:"flex",flexDirection:"column",height:"100%",minHeight:440},children:[s.jsxs("div",{style:{display:"flex",alignItems:"center",gap:10,padding:"14px 15px 12px",borderBottom:`1px solid ${a.border}`},children:[s.jsx("button",{onClick:Ie,style:{background:"none",border:"none",color:a.dim,cursor:"pointer",fontSize:18,display:"flex",alignItems:"center",padding:"0 4px 0 0"},children:""}),s.jsx("span",{style:{fontSize:13,fontWeight:700,color:a.text,letterSpacing:"0.04em"},children:"Select a Token"}),s.jsx("span",{style:{marginLeft:"auto",fontSize:9,fontWeight:700,letterSpacing:"0.1em",color:we==="from"?a.accent:a.dim,background:we==="from"?`${a.accent}15`:"rgba(28,42,58,0.5)",border:`1px solid ${we==="from"?`${a.accent}30`:a.border}`,borderRadius:4,padding:"2px 7px"},children:we==="from"?"FROM":"TO"})]}),s.jsxs("div",{style:{padding:"12px 15px 0"},children:[s.jsxs("div",{style:{display:"flex",alignItems:"center",gap:0,background:"rgba(10,15,22,0.9)",border:`1px solid ${a.border}`,borderRadius:12,overflow:"hidden"},children:[s.jsx("span",{style:{padding:"0 10px",color:a.dim,fontSize:14,flexShrink:0},children:""}),s.jsx("input",{autoFocus:!0,value:Q,onChange:$=>{ue($.target.value),le&&(Se(null),q(!1)),G(null),Ke()},onKeyDown:$=>{$.key==="Enter"&&($.preventDefault(),L||k().catch(()=>{}))},placeholder:"Search name or symbol",style:{flex:1,background:"none",border:"none",outline:"none",color:a.text,fontSize:11,padding:"11px 0",...j}}),s.jsx("button",{onClick:kt,disabled:L,style:{marginRight:6,background:L?"rgba(22,32,45,0.8)":"rgba(57,221,182,0.12)",border:`1px solid ${L?a.border:`${a.accent}35`}`,borderRadius:8,color:L?a.dim:a.accent,fontSize:9,fontWeight:700,letterSpacing:"0.08em",padding:"6px 9px",cursor:L?"wait":"pointer",...j},children:L?"":"PASTE"}),s.jsx("button",{onClick:()=>{L||k().catch(()=>{})},disabled:L,style:{marginRight:6,background:"rgba(22,32,45,0.8)",border:`1px solid ${a.border}`,borderRadius:8,color:a.text,fontSize:9,fontWeight:700,letterSpacing:"0.08em",padding:"6px 9px",cursor:L?"wait":"pointer",...j},children:"GO"})]}),s.jsx("div",{style:{fontSize:8,color:a.muted,marginTop:7,paddingLeft:2},children:"Paste token address, then press GO (or Enter) to resolve."}),s.jsx("div",{style:{display:"flex",gap:6,marginTop:10},children:["krc20","krc721"].map($=>{const re=Oe===$;return s.jsx("button",{onClick:()=>Ae($),style:{flex:1,padding:"5px 0",fontSize:9,fontWeight:700,letterSpacing:"0.08em",borderRadius:8,cursor:"pointer",background:re?`${a.accent}18`:"rgba(16,25,35,0.5)",border:`1px solid ${re?`${a.accent}45`:a.border}`,color:re?a.accent:a.dim,...j},children:$.toUpperCase()},$)})})]}),H&&s.jsx("div",{style:{margin:"8px 15px 0",fontSize:9,color:a.danger,padding:"6px 10px",background:`${a.danger}0D`,borderRadius:8,border:`1px solid ${a.danger}30`},children:H}),le&&s.jsxs("div",{style:{margin:"10px 15px 0",background:`${a.accent}0A`,border:`1px solid ${a.accent}30`,borderRadius:12,padding:"10px 12px"},children:[s.jsx("div",{style:{fontSize:8,color:a.accent,letterSpacing:"0.1em",marginBottom:8},children:"RESOLVED TOKEN"}),s.jsxs("div",{style:{display:"flex",alignItems:"center",gap:10},children:[s.jsx(_l,{symbol:le.symbol,logoUri:le.logoUri,size:34}),s.jsxs("div",{style:{flex:1,minWidth:0},children:[s.jsx("div",{style:{fontSize:12,color:a.text,fontWeight:700},children:le.symbol}),s.jsx("div",{style:{fontSize:9,color:a.dim,whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis"},children:le.address})]}),s.jsx("button",{onClick:ne,style:{...X(ve?a.ok:a.dim),padding:"4px 8px",fontSize:8},children:ve?"":"COPY ADDR"})]}),s.jsxs("button",{onClick:()=>{we==="to"&&(W(null),ue(""),G(null))},style:{...yr(!0),width:"100%",padding:"9px 0",marginTop:10,fontSize:10},children:["SELECT ",le.symbol," "]})]}),s.jsxs("div",{style:{flex:1,overflowY:"auto",padding:"10px 15px 16px"},children:[!Et&&s.jsx("div",{style:{fontSize:8,color:a.dim,letterSpacing:"0.1em",marginBottom:8},children:"POPULAR TOKENS"}),ie.map(($,re)=>s.jsxs("button",{onClick:()=>ln($.id),disabled:!$.enabled,style:{width:"100%",background:"none",border:"none",display:"flex",alignItems:"center",gap:12,padding:"9px 4px",borderBottom:re<ie.length-1?"1px solid rgba(28,42,58,0.6)":"none",cursor:$.enabled?"pointer":"not-allowed",borderRadius:0},children:[s.jsx(_l,{symbol:$.symbol,size:36}),s.jsxs("div",{style:{flex:1,textAlign:"left"},children:[s.jsx("div",{style:{fontSize:13,color:$.enabled?a.text:a.dim,fontWeight:700,...j},children:$.symbol}),s.jsx("div",{style:{fontSize:10,color:a.dim,marginTop:1},children:$.name})]}),!$.enabled&&s.jsx("span",{style:{fontSize:8,fontWeight:700,letterSpacing:"0.08em",color:a.warn,background:`${a.warn}12`,border:`1px solid ${a.warn}30`,borderRadius:4,padding:"2px 7px",...j},children:"SOON"}),$.enabled&&(v===$.id&&we==="from"||I===$.id&&we==="to")&&s.jsx("span",{style:{fontSize:12,color:a.accent},children:""})]},$.id)),Et&&ie.length===0&&!D&&!le&&s.jsxs("div",{style:{textAlign:"center",padding:"24px 0",color:a.dim,fontSize:10},children:[s.jsx("div",{style:{marginBottom:6},children:"No token found."}),s.jsx("div",{style:{fontSize:9,color:a.muted},children:"Paste a KRC20 contract address to add it."})]})]})]})}return s.jsxs("div",{style:{...Yr,gap:8},children:[Ge&&s.jsxs("div",{style:{...xt("purple"),display:"flex",alignItems:"flex-start",gap:10},children:[s.jsx("span",{style:{fontSize:16,flexShrink:0},children:""}),s.jsxs("div",{children:[s.jsx("div",{style:{fontSize:9,color:a.purple,fontWeight:700,letterSpacing:"0.1em",marginBottom:3},children:"SWAP UNAVAILABLE"}),s.jsx("div",{style:{fontSize:8,color:a.dim,lineHeight:1.5},children:m.reason??"Swap coming soon to Kaspa."})]})]}),jt.requiresEvmSigner&&s.jsxs("div",{style:xt("default",!0),children:[s.jsx("div",{style:{...mn,marginBottom:6},children:"EVM SIDECAR"}),e?s.jsxs(s.Fragment,{children:[s.jsxs("div",{style:{fontSize:8,color:a.text,marginBottom:6},children:[e.address.slice(0,8),"",e.address.slice(-6)," (chain ",e.chainId,")"]}),s.jsx("button",{onClick:Qe,style:{...X(a.warn),width:"100%",padding:"7px 0"},children:"DISCONNECT"})]}):E?s.jsxs("div",{style:{...te(),padding:"8px 10px"},children:[s.jsx("div",{style:{fontSize:8,color:a.dim,lineHeight:1.5,marginBottom:6},children:"Forge-OS Kaspa keys are not shared with this signer."}),s.jsxs("div",{style:{display:"flex",gap:6},children:[s.jsx("button",{onClick:Y,style:{...yr(!0),flex:1,padding:"7px 0"},disabled:u,children:u?"CONNECTING":"CONNECT"}),s.jsx("button",{onClick:()=>w(!1),style:{...X(a.dim),flex:1,padding:"7px 0"},children:"CANCEL"})]})]}):s.jsx("button",{onClick:()=>w(!0),style:{...X(a.accent),width:"100%",padding:"7px 0"},disabled:u,children:"CONNECT METAMASK SIDECAR"})]}),s.jsxs("div",{style:De,children:[s.jsx("div",{style:{fontSize:11,color:a.dim,marginBottom:12,letterSpacing:"0.04em"},children:"from"}),s.jsx("div",{style:{display:"flex",alignItems:"center",justifyContent:"space-between",gap:10,minWidth:0},children:s.jsxs("button",{onClick:()=>!Ge&&W("from"),style:Kt(!0),children:[s.jsx(_l,{symbol:(me==null?void 0:me.symbol)??"KAS",size:ih(me==null?void 0:me.symbol)}),s.jsx("span",{children:(me==null?void 0:me.symbol)??"KAS"}),s.jsx("span",{style:{color:a.dim,fontSize:11},children:""})]})}),s.jsx("input",{type:"number",min:"0",value:O,onChange:L=>V(L.target.value),placeholder:"0.00",disabled:Ge,style:{width:"100%",minWidth:0,marginTop:12,background:"none",border:"none",outline:"none",color:Ge?a.dim:a.text,fontSize:20,fontWeight:600,textAlign:"center",cursor:Ge?"not-allowed":"text",lineHeight:1.1,...j}}),s.jsxs("div",{style:vn,children:[s.jsx("div",{style:an,children:"TOKEN BALANCE"}),s.jsx("div",{style:Ht,children:$t})]}),s.jsx("div",{style:{display:"flex",justifyContent:"center",alignItems:"center",marginTop:8},children:s.jsx("button",{onClick:()=>{},style:{background:`${a.accent}14`,border:`1px solid ${a.accent}35`,borderRadius:8,color:a.accent,fontSize:9,fontWeight:700,padding:"4px 12px",cursor:"pointer",letterSpacing:"0.08em",...j},children:"MAX"})})]}),s.jsx("div",{style:{display:"flex",justifyContent:"center",margin:"-4px 0",zIndex:1},children:s.jsx("button",{disabled:Ge,onClick:xn,style:{background:"rgba(14,20,29,0.98)",border:"1px solid rgba(28,42,58,0.9)",borderRadius:"50%",width:34,height:34,color:Ge?a.muted:a.text,fontSize:16,cursor:Ge?"not-allowed":"pointer",display:"flex",alignItems:"center",justifyContent:"center",boxShadow:"0 4px 16px rgba(0,0,0,0.4)"},children:""})}),s.jsxs("div",{style:De,children:[s.jsx("div",{style:{fontSize:11,color:a.dim,marginBottom:12,letterSpacing:"0.04em"},children:"to"}),s.jsx("div",{style:{display:"flex",alignItems:"center",justifyContent:"space-between",gap:10,minWidth:0},children:Te?s.jsxs("button",{onClick:()=>!Ge&&W("to"),style:Kt(!0),children:[s.jsx(_l,{symbol:Te.symbol,logoUri:Te.logoUri,size:ih(Te.symbol)}),s.jsx("span",{children:Te.symbol}),s.jsx("span",{style:{color:a.dim,fontSize:11},children:""})]}):s.jsxs("button",{onClick:()=>!Ge&&W("to"),style:Kt(!1),children:[s.jsx("span",{children:"Select Token"}),s.jsx("span",{style:{fontSize:11},children:""})]})}),s.jsx("div",{style:{width:"100%",minWidth:0,marginTop:12,textAlign:"center",color:n?a.text:a.dim,fontSize:20,fontWeight:600,...j,overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap",lineHeight:1.1},children:sn}),s.jsxs("div",{style:vn,children:[s.jsx("div",{style:an,children:"TOKEN BALANCE"}),s.jsx("div",{style:Ht,children:Sn})]})]}),s.jsxs("div",{style:{padding:"2px 4px"},children:[s.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[s.jsxs("div",{style:{fontSize:10,color:a.dim},children:["Rate: ",s.jsxs("span",{style:{color:a.text},children:["1 ",(me==null?void 0:me.symbol)??"KAS","  ",n?`~${Yc(n.amountOut,dt,4)}`:""," ",(Te==null?void 0:Te.symbol)??""]})]}),s.jsx("button",{onClick:()=>qe(!fe),style:{background:fe?`${a.accent}12`:"none",border:`1px solid ${fe?`${a.accent}35`:a.border}`,borderRadius:8,padding:"4px 10px",color:fe?a.accent:a.dim,fontSize:9,fontWeight:700,letterSpacing:"0.06em",cursor:"pointer",...j},children:" SETTINGS"})]}),fe&&s.jsxs("div",{style:{marginTop:8,padding:"12px 14px",background:"linear-gradient(155deg, rgba(14,20,29,0.97) 0%, rgba(10,15,22,0.94) 100%)",border:"1px solid rgba(28,42,58,0.9)",borderRadius:14},children:[s.jsx("div",{style:{fontSize:9,color:a.dim,letterSpacing:"0.1em",marginBottom:8,fontWeight:700},children:"SLIPPAGE TOLERANCE"}),s.jsxs("div",{style:{display:"flex",gap:5,alignItems:"center"},children:[[25,50,100,200].map(L=>{const $=F===L&&!pe;return s.jsx("button",{onClick:()=>{xe(L),ut("")},style:{flex:1,padding:"7px 0",borderRadius:8,fontSize:10,fontWeight:700,background:$?`${a.accent}20`:"rgba(22,32,45,0.8)",border:`1px solid ${$?`${a.accent}55`:a.border}`,color:$?a.accent:a.dim,cursor:"pointer",...j},children:L===200?"2%":`${(L/100).toFixed(2).replace(".00","")}%`},L)}),s.jsx("input",{value:pe,onChange:L=>{ut(L.target.value);const $=parseFloat(L.target.value);!isNaN($)&&$>0&&$<=50&&xe(Math.round($*100))},placeholder:"Custom",style:{flex:1,background:pe?`${a.accent}10`:"rgba(22,32,45,0.8)",border:`1px solid ${pe?`${a.accent}55`:a.border}`,borderRadius:8,color:a.text,fontSize:10,textAlign:"center",padding:"7px 4px",outline:"none",...j}})]}),s.jsxs("div",{style:{fontSize:9,color:a.muted,marginTop:8},children:["Current slippage:"," ",s.jsxs("span",{style:{color:F>150?a.warn:a.text,fontWeight:600},children:[(F/100).toFixed(2),"%"]}),F>150&&s.jsx("span",{style:{color:a.warn},children:"  High slippage. Proceed with caution."})]}),s.jsxs("div",{style:{marginTop:12,paddingTop:10,borderTop:"1px solid rgba(28,42,58,0.7)"},children:[s.jsx("div",{style:{fontSize:9,color:a.dim,letterSpacing:"0.1em",marginBottom:6,fontWeight:700},children:"NETWORK"}),s.jsx("div",{style:{fontSize:10,color:a.text},children:"Kaspa Mainnet  BlockDAG  10 BPS"}),s.jsx("div",{style:{fontSize:9,color:a.dim,marginTop:3},children:"Transactions confirm in ~1 second on average."})]})]})]}),Ge?s.jsx("div",{style:{textAlign:"center",padding:"8px 0"},children:s.jsx("div",{style:{fontSize:9,color:a.muted,letterSpacing:"0.1em"},children:"SWAP COMING SOON TO KASPA"})}):s.jsxs(s.Fragment,{children:[s.jsx("button",{onClick:rt,style:{...yr(!0),width:"100%",padding:"14px 0",fontSize:12,letterSpacing:"0.08em",borderRadius:14},disabled:p,children:p?"PREPARING SWAP":"SWAP"}),n&&s.jsxs("div",{style:{...xt("accent",!0)},children:[s.jsx("div",{style:{...mn,marginBottom:8,color:a.accent},children:"SWAP PREVIEW"}),n.customTokenOut&&s.jsxs("div",{style:{fontSize:9,color:a.dim,marginBottom:4},children:["Output: ",s.jsxs("span",{style:{color:a.text},children:[n.customTokenOut.symbol," (",n.customTokenOut.standard.toUpperCase(),")"]})]}),s.jsxs("div",{style:{fontSize:9,color:a.dim,marginBottom:3},children:["Route: ",s.jsx("span",{style:{color:a.text},children:n.route.join("  ")})]}),s.jsxs("div",{style:{fontSize:9,color:a.dim,marginBottom:10},children:["Min received: ",s.jsxs("span",{style:{color:a.text},children:[Yc(n.amountOut,dt,6)," ",(Te==null?void 0:Te.symbol)??I]})]}),s.jsxs("div",{style:{fontSize:9,color:a.dim,marginBottom:10},children:["Deadline: ",s.jsxs("span",{style:{color:a.text},children:[Pt,"m"]})]}),A?s.jsxs("div",{style:{...te(),padding:"10px 12px"},children:[s.jsx("div",{style:{fontSize:9,color:a.dim,lineHeight:1.6,marginBottom:8},children:n.routeSource==="kaspa_native"?"This will sign and broadcast via the managed Kaspa signer. Settlement is saved and recovers after restart.":"This will sign and broadcast via the external EVM signer. Settlement is saved and recovers after restart."}),s.jsxs("div",{style:{display:"flex",gap:8},children:[s.jsx("button",{onClick:st,style:{...yr(!0),flex:1,padding:"9px 0"},disabled:g,children:g?"EXECUTING":"CONFIRM"}),s.jsx("button",{onClick:()=>f(!1),style:{...X(a.dim),flex:1,padding:"9px 0"},children:"CANCEL"})]})]}):s.jsx("button",{onClick:()=>f(!0),style:{...yr(!0),width:"100%",padding:"10px 0",borderRadius:10},disabled:g,children:"SIGN & EXECUTE SWAP"})]})]}),l&&s.jsx("div",{style:{...te(),border:`1px solid ${a.danger}50`,color:a.danger,fontSize:9,lineHeight:1.5},children:l}),o.length>0&&s.jsxs("div",{style:{...te(),padding:"10px 12px"},children:[s.jsx("div",{style:{...mn,marginBottom:6},children:"RECENT SWAPS"}),o.map((L,$)=>s.jsxs("div",{style:{display:"flex",alignItems:"center",gap:8,marginBottom:$<o.length-1?6:0},children:[s.jsx("div",{style:{width:6,height:6,borderRadius:"50%",flexShrink:0,background:L.state==="settled"?a.ok:L.state==="failed"?a.danger:a.warn}}),s.jsx("span",{style:{fontSize:9,color:a.text,flex:1},children:L.state}),s.jsx("span",{style:{fontSize:8,color:a.dim},children:L.txHash?`${L.txHash.slice(0,8)}`:"pending"}),s.jsx("span",{style:{fontSize:8,color:a.muted},children:new Date(L.updatedAt).toLocaleTimeString()})]},L.id))]})]})}const hi=1,ei=440,bs=720,S1=ei,v1=bs;function qT({autoLockMinutes:e,persistSession:t,onUnlock:n,onReset:r,walletAddress:o}){const[i,l]=S.useState(""),[c,u]=S.useState(null),[d,p]=S.useState(!1),[h,g]=S.useState(!1),x=S.useRef(null);S.useEffect(()=>{var w;(w=x.current)==null||w.focus()},[]);const E=async w=>{var A;if(w.preventDefault(),!(!i||d)){p(!0),u(null);try{const f=await io(i,e,{persistSession:t});n(f)}catch(f){const m=f instanceof Error?f.message:String(f);u(m==="INVALID_PASSWORD"?"Incorrect password.":"Failed to unlock. Try again."),l(""),(A=x.current)==null||A.focus()}finally{p(!1)}}};return s.jsxs("div",{"data-testid":"lock-screen",style:{width:ei,minHeight:bs,...mi(),display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"flex-start",padding:"28px 30px 24px",...j,position:"relative",overflow:"hidden",overflowX:"hidden",overflowY:"auto",zoom:hi},children:[s.jsx("div",{style:{position:"absolute",top:"-12%",left:"50%",transform:"translateX(-50%)",width:360,height:360,borderRadius:"50%",background:`radial-gradient(ellipse, ${a.accent}18 0%, transparent 70%)`,pointerEvents:"none"}}),s.jsx("div",{style:{position:"absolute",bottom:"-10%",right:"-32%",width:260,height:260,borderRadius:"50%",background:`radial-gradient(ellipse, ${a.accent}0A 0%, transparent 72%)`,pointerEvents:"none"}}),s.jsxs("div",{style:{position:"relative",zIndex:1,width:"100%",display:"flex",flexDirection:"column",alignItems:"center",marginTop:4},children:[s.jsxs("div",{style:{marginBottom:o?14:22,textAlign:"center"},children:[s.jsx("img",{src:"../icons/icon128.png",alt:"Forge-OS",style:{width:58,height:58,objectFit:"contain",imageRendering:"auto",filter:"drop-shadow(0 0 8px rgba(57,221,182,0.52))",marginBottom:12}}),s.jsxs("div",{style:{fontSize:17,fontWeight:700,letterSpacing:"0.12em"},children:[s.jsx("span",{style:{color:a.accent},children:"FORGE"}),s.jsx("span",{style:{color:a.text},children:"-OS"})]}),s.jsx("div",{style:{fontSize:10,color:a.dim,marginTop:5,letterSpacing:"0.12em"},children:o?"WELCOME BACK":"WALLET LOCKED"})]}),o&&s.jsxs("div",{style:{display:"flex",alignItems:"center",gap:6,marginBottom:16,background:`${a.accent}0A`,border:`1px solid ${a.accent}25`,borderRadius:20,padding:"6px 14px"},children:[s.jsx("div",{style:{width:7,height:7,borderRadius:"50%",background:a.ok,flexShrink:0}}),s.jsx("span",{style:{fontSize:11,color:a.text,fontWeight:600},children:Ms(o)})]}),s.jsx("div",{style:{width:48,height:48,borderRadius:"50%",background:`${a.accent}15`,border:`1px solid ${a.accent}30`,display:"flex",alignItems:"center",justifyContent:"center",marginBottom:18},children:s.jsx("span",{style:{fontSize:22},children:""})}),s.jsxs("form",{onSubmit:E,style:{width:"100%"},children:[s.jsxs("div",{style:{marginBottom:12},children:[s.jsx("div",{style:{fontSize:8,color:a.dim,letterSpacing:"0.1em",marginBottom:6},children:o?"ENTER PASSWORD TO SIGN IN":"PASSWORD"}),s.jsx("input",{"data-testid":"lock-screen-password-input",ref:x,type:"password",value:i,onChange:w=>l(w.target.value),placeholder:"Enter your password",disabled:d,style:{width:"100%",boxSizing:"border-box",background:"rgba(8,13,20,0.7)",border:`1px solid ${c?a.danger:a.border}`,borderRadius:8,padding:"10px 12px",color:a.text,fontSize:11,...j,outline:"none"}})]}),c&&s.jsx("div",{style:{fontSize:8,color:a.danger,marginBottom:10,textAlign:"center"},children:c}),s.jsx("button",{"data-testid":"lock-screen-unlock-button",type:"submit",disabled:!i||d,style:{width:"100%",padding:"10px 0",background:i&&!d?`linear-gradient(90deg, ${a.accent}, #7BE9CF)`:`${a.accent}30`,border:"none",borderRadius:8,color:i&&!d?"#04110E":a.dim,fontSize:10,fontWeight:700,cursor:i&&!d?"pointer":"not-allowed",letterSpacing:"0.1em",...j,transition:"background 0.15s, color 0.15s"},children:d?"UNLOCKING":"UNLOCK WALLET"})]}),s.jsx("div",{style:{marginTop:20,textAlign:"center"},children:h?s.jsxs("div",{style:{background:a.dLow,border:`1px solid ${a.danger}40`,borderRadius:8,padding:"12px 14px",marginTop:4},children:[s.jsx("div",{style:{fontSize:9,color:a.warn,fontWeight:700,marginBottom:6,letterSpacing:"0.08em"},children:" RESET WALLET"}),s.jsx("div",{style:{fontSize:8,color:a.dim,lineHeight:1.5,marginBottom:10},children:"This will permanently delete your encrypted vault. Make sure you have your seed phrase backed up before proceeding."}),s.jsxs("div",{style:{display:"flex",gap:8},children:[s.jsx("button",{"data-testid":"lock-screen-reset-cancel",onClick:()=>g(!1),style:{flex:1,padding:"7px 0",background:"rgba(33,48,67,0.5)",border:`1px solid ${a.border}`,borderRadius:6,color:a.dim,fontSize:8,cursor:"pointer",...j},children:"CANCEL"}),s.jsx("button",{"data-testid":"lock-screen-reset-confirm",onClick:r,style:{flex:1,padding:"7px 0",background:a.dLow,border:`1px solid ${a.danger}60`,borderRadius:6,color:a.danger,fontSize:8,fontWeight:700,cursor:"pointer",...j},children:"RESET WALLET"})]})]}):s.jsx("button",{"data-testid":"lock-screen-forgot-password",onClick:()=>g(!0),style:{background:"none",border:"none",color:a.dim,fontSize:8,cursor:"pointer",...j},children:"Forgot password?"})})]})]})}const w1="forgeos.import.addressbook.v1",lh="forgeos.import.addressbook.salt.v1",eC=32,tC=240;function E1(){return chrome.storage.local}function nC(e){return String(e||"").trim().toLowerCase().split(/\s+/).join(" ")}function rC(e){return String(e||"").trim()}function md(e){return Array.from(e,t=>t.toString(16).padStart(2,"0")).join("")}function oC(e){const t=e.trim();if(!t||t.length%2!==0)return new Uint8Array;const n=new Uint8Array(t.length/2);for(let r=0;r<t.length;r+=2)n[r/2]=parseInt(t.slice(r,r+2),16);return n}async function k1(e){return new Promise(t=>{E1().get(e,n=>t((n==null?void 0:n[e])??null))})}async function A1(e,t){return new Promise(n=>{E1().set({[e]:t},n)})}async function iC(){const e=await k1(lh);if(e&&typeof e=="string"){const n=oC(e);if(n.length>0)return n}const t=crypto.getRandomValues(new Uint8Array(16));return await A1(lh,md(t)),t}async function T1(){const e=await k1(w1);return!e||typeof e!="object"?{}:e}async function sC(e){await A1(w1,e)}async function C1(e,t){const n=await iC(),r=nC(e),o=rC(t);if(!r)return"";const i=new TextEncoder().encode(`${md(n)}
${r}
${o}`),l=await crypto.subtle.digest("SHA-256",i);return md(new Uint8Array(l))}function lC(e){const t=qt(e.derivation);return{address:e.address,derivation:t,derivationPath:An(t),chainLabel:xf(t.chain)}}function aC(e,t,n){const r=qt(e.derivation);return{address:e.address,network:t,derivation:r,derivationPath:An(r),chainLabel:xf(r.chain),createdAt:n,lastUsedAt:n}}function cC(e){const t=new Map;for(const n of e){const r=`${n.network.toLowerCase()}|${n.address.toLowerCase()}|${n.derivationPath}`,o=t.get(r);if(!o){t.set(r,n);continue}t.set(r,{...o,lastUsedAt:Math.max(o.lastUsedAt,n.lastUsedAt),createdAt:Math.min(o.createdAt,n.createdAt)})}return[...t.values()].sort((n,r)=>r.lastUsedAt-n.lastUsedAt)}function uC(e){const t=Object.entries(e).sort((n,r)=>{var l,c,u,d;const o=((c=(l=n[1])==null?void 0:l[0])==null?void 0:c.lastUsedAt)??0;return(((d=(u=r[1])==null?void 0:u[0])==null?void 0:d.lastUsedAt)??0)-o});return Object.fromEntries(t.slice(0,eC))}async function dC(e,t,n){const r=await C1(e,t);return r?((await T1())[r]??[]).filter(l=>l.network===n).sort((l,c)=>c.lastUsedAt-l.lastUsedAt).map(lC):[]}async function hd(e,t,n,r){const o=await C1(e,t);if(!o||!r.length)return;const i=Date.now(),l=await T1(),c=l[o]??[],u=r.map(p=>aC(p,n,i)),d=cC([...u,...c]).slice(0,tC);l[o]=d,await sC(uC(l))}async function fC(e,t,n,r){await hd(e,t,n,[r])}const pC=ei,Jc=[0,4],Zc=[0,9],gd=80,I1=320,mC=[...yf].join(`
`);function Ui(e){return`${e.address.toLowerCase()}|${e.derivationPath}`}function yd(e,t){const n=Number(String(e||"").trim());return!Number.isFinite(n)||n<0?t:Math.floor(n)}function ah(e,t,n){const r=yd(e,n[0]),o=yd(t,n[1]);return[Math.min(r,o),Math.max(r,o)]}function hC(e){const t=yd(e,gd);return Math.max(1,Math.min(I1,t||gd))}function gC(e){const t=String(e||"").split(/[,\n]+/).map(n=>n.trim()).filter(Boolean);return t.length?t:[...yf]}function ch({onSubmit:e,loading:t,submitLabel:n}){const[r,o]=S.useState(""),[i,l]=S.useState(""),[c,u]=S.useState(null),d=h=>{if(h.preventDefault(),u(null),r.length<8){u("Password must be at least 8 characters.");return}if(r!==i){u("Passwords do not match.");return}e(r)},p=(h=!1)=>({width:"100%",boxSizing:"border-box",background:"rgba(8,13,20,0.8)",border:`1px solid ${h?a.danger:a.border}`,borderRadius:8,padding:"10px 12px",color:a.text,fontSize:11,...j,outline:"none",marginBottom:8});return s.jsxs("form",{onSubmit:d,children:[s.jsx("div",{style:{fontSize:8,color:a.dim,letterSpacing:"0.1em",marginBottom:8},children:"CREATE PASSWORD"}),s.jsx("input",{type:"password",placeholder:"Password (min 8 characters)",value:r,onChange:h=>o(h.target.value),disabled:t,style:p()}),s.jsx("input",{type:"password",placeholder:"Confirm password",value:i,onChange:h=>l(h.target.value),disabled:t,style:{...p(),marginBottom:0}}),c&&s.jsx("div",{style:{fontSize:8,color:a.danger,marginTop:6},children:c}),s.jsx("button",{type:"submit",disabled:!r||!i||t,style:{width:"100%",marginTop:12,padding:"11px 0",background:r&&i&&!t?`linear-gradient(90deg, ${a.accent}, #7BE9CF)`:`${a.accent}25`,border:"none",borderRadius:8,color:r&&i&&!t?"#04110E":a.dim,fontSize:10,fontWeight:700,cursor:r&&i&&!t?"pointer":"not-allowed",letterSpacing:"0.1em",...j},children:t?"ENCRYPTING":n})]})}function Kr({children:e}){return s.jsxs("div",{style:{width:pC,minHeight:bs,...mi(),display:"flex",flexDirection:"column",padding:"22px 22px 18px",...j,overflowX:"hidden",overflowY:"auto",position:"relative",zoom:hi},children:[s.jsx("div",{style:{position:"absolute",top:-80,right:-50,width:240,height:240,background:`radial-gradient(ellipse, ${a.accent}14 0%, transparent 70%)`,borderRadius:"50%",pointerEvents:"none"}}),s.jsx("div",{style:{position:"absolute",bottom:-60,left:-50,width:180,height:180,background:"radial-gradient(ellipse, rgba(57,221,182,0.10) 0%, transparent 70%)",borderRadius:"50%",pointerEvents:"none"}}),s.jsx("div",{style:{position:"relative",zIndex:1,display:"flex",flexDirection:"column",flex:1},children:e})]})}function To({title:e,sub:t,onBack:n}){return s.jsxs("div",{style:{marginBottom:20},children:[n&&s.jsx("button",{onClick:n,style:{background:"none",border:"none",color:a.dim,fontSize:8,cursor:"pointer",...j,marginBottom:10,padding:0},children:" back"}),s.jsxs("div",{style:{display:"flex",alignItems:"center",gap:8,marginBottom:12},children:[s.jsx("img",{src:"../icons/icon48.png",alt:"",style:{width:30,height:30,objectFit:"contain",filter:"drop-shadow(0 0 10px rgba(57,221,182,0.65))"}}),s.jsxs("span",{style:{fontSize:15,fontWeight:700,letterSpacing:"0.11em"},children:[s.jsx("span",{style:{color:a.accent},children:"FORGE"}),s.jsx("span",{style:{color:a.text},children:"-OS"})]})]}),s.jsx("div",{style:{fontSize:13,color:a.text,fontWeight:700,letterSpacing:"0.05em"},children:e}),t&&s.jsx("div",{style:{fontSize:8,color:a.dim,marginTop:5,lineHeight:1.6},children:t})]})}function yC({network:e,onComplete:t}){const[n,r]=S.useState("choose"),o="mainnet",[i,l]=S.useState(""),[c,u]=S.useState(""),[d,p]=S.useState(Lt),[h,g]=S.useState(""),[x,E]=S.useState(""),[w,A]=S.useState(""),[f,m]=S.useState(Lt),[y,v]=S.useState([]),[_,I]=S.useState([]),[P,O]=S.useState(mC),[V,F]=S.useState(String(Jc[0])),[xe,Q]=S.useState(String(Jc[1])),[ue,Oe]=S.useState(String(Zc[0])),[Ae,le]=S.useState(String(Zc[1])),[Se,D]=S.useState(!0),[z,H]=S.useState(!0),[G,oe]=S.useState(String(gd)),[Re,ve]=S.useState(An(Lt)),[q,we]=S.useState(!1),[W,fe]=S.useState(!1),[qe,pe]=S.useState(null),ut=(N,k)=>{const ne=new Map;for(const Y of[...N,...k]){const Qe=Ui(Y);ne.has(Qe)||ne.set(Qe,Y)}return[...ne.values()]},Pt=()=>{const N=[];return Se&&N.push(0),z&&N.push(1),N.length?N:[0]},wt=async()=>{const N=await dC(h,x||void 0,o);return I(N.map(k=>Ui(k))),N},Ge=async()=>{fe(!0),pe(null);try{const N=await wt();if(!N.length)throw new Error("No remembered candidates found for this phrase/passphrase.");v(N);const k=N[0];A(k.address),m(k.derivation),ve(k.derivationPath),r("import_discover")}catch(N){const k=N instanceof Error?N.message:String(N);pe(k||"Failed to load remembered candidates.")}finally{fe(!1)}},Et=async()=>{var N;fe(!0),pe(null);try{const k=dw(Re),ne=await Dm(h,o,{mnemonicPassphrase:x||void 0,derivation:k}),Y={address:ne.address,derivation:qt(ne.derivation??k),derivationPath:An(ne.derivation??k),chainLabel:((N=ne.derivation)==null?void 0:N.chain)===1?"change":"receive"};A(Y.address),m(Y.derivation),v(Qe=>ut([Y],Qe)),await hd(h,x||void 0,o,[Y]),I(Qe=>{const st=new Set(Qe);return st.add(Ui(Y)),[...st]}),r("import_password")}catch(k){const ne=k instanceof Error?k.message:String(k);pe(ne||"Failed to validate derivation path.")}finally{fe(!1)}},Ft=async()=>{fe(!0),pe(null);try{const N=await rk(o);l(N.phrase),u(N.address),p(qt(N.derivation??Lt)),r("create_view")}catch{pe("Failed to generate wallet. Please try again.")}finally{fe(!1)}},or=async N=>{fe(!0),pe(null);try{await Is(i,N,c,o,{derivation:d}),await Vu({address:c,network:o});const k=await io(N);l(""),t(k)}catch{pe("Failed to encrypt vault. Please try again."),fe(!1)}},Ke=async()=>{fe(!0),pe(null);try{const N=await Dm(h,o,{mnemonicPassphrase:x||void 0}),k=qt(N.derivation??Lt),ne={address:N.address,derivation:k,derivationPath:An(k),chainLabel:k.chain===1?"change":"receive"};A(N.address),m(k),v([ne]),ve(ne.derivationPath),r("import_password")}catch(N){const k=N instanceof Error?N.message:String(N);pe(k.toLowerCase().includes("bip39")||k.toLowerCase().includes("checksum")?"Invalid BIP39 phrase. Check word count, spelling, and passphrase.":"Failed to validate phrase.")}finally{fe(!1)}},rt=async()=>{fe(!0),pe(null);let N=[],k=[],ne="";try{try{N=await wt()}catch{N=[]}const Y=ah(V,xe,Jc),Qe=ah(ue,Ae,Zc),st=Pt(),xn=gC(P),me=hC(G);try{k=await ok(h,o,{mnemonicPassphrase:x||void 0,basePaths:xn,accountRange:Y,indexRange:Qe,chains:st,limit:me})}catch(jt){ne=jt instanceof Error?jt.message:String(jt)}const Te=ut(k,N);if(!Te.length)throw new Error(ne||"No derivation candidates found for the configured scan window.");k.length&&await hd(h,x||void 0,o,k),ne&&N.length&&pe(`${ne} Showing remembered candidates only.`),v(Te),I(Te.map(jt=>Ui(jt)));const Ce=Te[0];w||(A(Ce.address),m(Ce.derivation)),ve(Ce.derivationPath),r("import_discover")}catch(Y){const Qe=Y instanceof Error?Y.message:String(Y);pe(Qe||"Failed to scan import paths.")}finally{fe(!1)}},Ee=N=>{A(N.address),m(qt(N.derivation)),ve(N.derivationPath),r("import_password")},et=async N=>{fe(!0),pe(null);try{const k=h.trim().toLowerCase().split(/\s+/).join(" ");await Is(k,N,w,o,{mnemonicPassphrase:x||void 0,derivation:f}),await Vu({address:w,network:o});try{await fC(k,x||void 0,o,{address:w,derivation:f,derivationPath:An(f),chainLabel:f.chain===1?"change":"receive"})}catch{}const ne=await io(N);g(""),E(""),v([]),I([]),t(ne)}catch{pe("Failed to encrypt vault. Please try again."),fe(!1)}},kt=i.split(" ");return n==="choose"?s.jsxs(Kr,{children:[s.jsx(To,{title:"SET UP YOUR WALLET",sub:"Non-custodial  Your keys never leave your device"}),s.jsx("div",{style:{display:"flex",gap:5,flexWrap:"wrap",marginBottom:14},children:["KASPA L1  L2","NON-CUSTODIAL","BIP44"].map(N=>s.jsx("span",{style:{fontSize:8,color:a.accent,fontWeight:700,letterSpacing:"0.08em",background:`${a.accent}10`,border:`1px solid ${a.accent}22`,borderRadius:4,padding:"3px 7px"},children:N},N))}),s.jsxs("div",{style:{display:"flex",alignItems:"center",gap:8,marginBottom:18,padding:"7px 12px",background:`${a.accent}08`,border:`1px solid ${a.accent}20`,borderRadius:8},children:[s.jsx("div",{style:{width:7,height:7,borderRadius:"50%",background:a.ok,flexShrink:0}}),s.jsx("span",{style:{fontSize:8,color:a.accent,fontWeight:700,letterSpacing:"0.08em"},children:"MAINNET"})]}),qe&&s.jsx("div",{style:{fontSize:8,color:a.danger,marginBottom:10},children:qe}),s.jsx("button",{onClick:Ft,disabled:W,style:{width:"100%",padding:"18px 16px",textAlign:"left",background:`linear-gradient(145deg, ${a.accent}1A, rgba(11,17,24,0.95))`,border:`1px solid ${a.accent}45`,borderRadius:12,marginBottom:10,cursor:W?"not-allowed":"pointer",...j},children:s.jsxs("div",{style:{display:"flex",alignItems:"center",gap:12},children:[s.jsx("div",{style:{width:40,height:40,borderRadius:"50%",flexShrink:0,background:`${a.accent}18`,border:`1px solid ${a.accent}40`,display:"flex",alignItems:"center",justifyContent:"center"},children:s.jsx("span",{style:{color:a.accent,fontSize:18},children:""})}),s.jsxs("div",{children:[s.jsx("div",{style:{fontSize:11,fontWeight:700,color:a.accent,marginBottom:4,letterSpacing:"0.06em"},children:W?"GENERATING":"CREATE NEW WALLET"}),s.jsx("div",{style:{fontSize:8,color:a.dim,lineHeight:1.6},children:"Generate a new wallet  24-word seed phrase  fully encrypted locally"})]})]})}),s.jsx("button",{onClick:()=>{pe(null),g(""),E(""),A(""),v([]),I([]),m(Lt),ve(An(Lt)),r("import_phrase")},style:{width:"100%",padding:"18px 16px",textAlign:"left",background:"rgba(11,17,24,0.85)",border:`1px solid ${a.border}`,borderRadius:12,marginBottom:18,cursor:"pointer",...j},children:s.jsxs("div",{style:{display:"flex",alignItems:"center",gap:12},children:[s.jsx("div",{style:{width:40,height:40,borderRadius:"50%",flexShrink:0,background:"rgba(33,48,67,0.5)",border:`1px solid ${a.border}`,display:"flex",alignItems:"center",justifyContent:"center"},children:s.jsx("span",{style:{color:a.dim,fontSize:18},children:""})}),s.jsxs("div",{children:[s.jsx("div",{style:{fontSize:11,fontWeight:700,color:a.text,marginBottom:4,letterSpacing:"0.06em"},children:"IMPORT WALLET"}),s.jsx("div",{style:{fontSize:8,color:a.dim,lineHeight:1.6},children:"Restore from a BIP39 seed phrase  supports 12/15/18/21/24 words"})]})]})}),s.jsx("div",{style:{marginTop:"auto",padding:"10px 12px",background:"rgba(5,7,10,0.5)",border:`1px solid ${a.border}`,borderRadius:8},children:["Your keys never leave your device.","Non-custodial  Forge-OS has zero access to your funds."].map((N,k)=>s.jsxs("div",{style:{display:"flex",gap:6,marginBottom:k===0?4:0},children:[s.jsx("span",{style:{color:a.ok,fontSize:8,flexShrink:0},children:""}),s.jsx("span",{style:{fontSize:8,color:a.dim,lineHeight:1.5},children:N})]},k))})]}):n==="create_view"?s.jsxs(Kr,{children:[s.jsx(To,{title:"YOUR SEED PHRASE",sub:"Write these 24 words down in order and store them offline. Anyone with this phrase controls your wallet.",onBack:()=>{r("choose"),l(""),u(""),p(Lt)}}),s.jsx("div",{style:{background:a.wLow,border:`1px solid ${a.warn}40`,borderRadius:8,padding:"8px 12px",marginBottom:12},children:s.jsx("div",{style:{fontSize:8,color:a.warn,fontWeight:700},children:" NEVER share this phrase. Forge-OS will never ask for it."})}),s.jsx("div",{style:{display:"grid",gridTemplateColumns:"repeat(4, 1fr)",gap:4,marginBottom:14},children:kt.map((N,k)=>s.jsxs("div",{style:{background:"rgba(5,7,10,0.9)",border:`1px solid ${a.border}`,borderRadius:5,padding:"5px 4px",display:"flex",alignItems:"center",gap:3},children:[s.jsxs("span",{style:{fontSize:8,color:a.dim,flexShrink:0},children:[k+1,"."]}),s.jsx("span",{style:{fontSize:8,color:a.text,fontWeight:600},children:N})]},k))}),s.jsxs("label",{style:{display:"flex",gap:8,alignItems:"flex-start",cursor:"pointer",marginBottom:14},children:[s.jsx("input",{type:"checkbox",checked:q,onChange:N=>we(N.target.checked),style:{marginTop:2,accentColor:a.accent,flexShrink:0}}),s.jsx("span",{style:{fontSize:8,color:a.dim,lineHeight:1.5},children:"I have written down my 24-word seed phrase and stored it securely offline."})]}),s.jsx("button",{onClick:()=>r("create_password"),disabled:!q,style:{width:"100%",padding:"11px 0",background:q?`linear-gradient(90deg, ${a.accent}, #7BE9CF)`:`${a.accent}25`,border:"none",borderRadius:8,color:q?"#04110E":a.dim,fontSize:10,fontWeight:700,cursor:q?"pointer":"not-allowed",letterSpacing:"0.1em",...j},children:"I'VE SAVED MY PHRASE "})]}):n==="create_password"?s.jsxs(Kr,{children:[s.jsx(To,{title:"ENCRYPT YOUR WALLET",sub:"Your seed phrase will be encrypted and stored locally. You'll need this password to unlock your wallet.",onBack:()=>r("create_view")}),qe&&s.jsx("div",{style:{fontSize:8,color:a.danger,marginBottom:10},children:qe}),s.jsx(ch,{onSubmit:or,loading:W,submitLabel:"CREATE WALLET"})]}):n==="import_phrase"?s.jsxs(Kr,{children:[s.jsx(To,{title:"IMPORT SEED PHRASE",sub:"Enter a BIP39 seed phrase (12/15/18/21/24 words). Optional BIP39 passphrase supported.",onBack:()=>r("choose")}),qe&&s.jsx("div",{style:{fontSize:8,color:a.danger,marginBottom:10},children:qe}),s.jsx("div",{style:{fontSize:8,color:a.dim,letterSpacing:"0.1em",marginBottom:7},children:"SEED PHRASE"}),s.jsx("textarea",{value:h,onChange:N=>{g(N.target.value),v([]),I([]),A(""),pe(null)},placeholder:"word1 word2 word3  (space-separated)",rows:4,style:{width:"100%",boxSizing:"border-box",background:"rgba(8,13,20,0.8)",border:`1px solid ${a.border}`,borderRadius:8,padding:"10px 12px",color:a.text,fontSize:10,resize:"vertical",...j,outline:"none",marginBottom:10}}),s.jsx("div",{style:{fontSize:8,color:a.dim,letterSpacing:"0.1em",marginBottom:7},children:"BIP39 PASSPHRASE (OPTIONAL)"}),s.jsx("input",{type:"password",value:x,onChange:N=>{E(N.target.value),v([]),I([]),A(""),pe(null)},placeholder:"Optional passphrase / 25th word",style:{width:"100%",boxSizing:"border-box",background:"rgba(8,13,20,0.8)",border:`1px solid ${a.border}`,borderRadius:8,padding:"10px 12px",color:a.text,fontSize:10,...j,outline:"none",marginBottom:10}}),h.trim()&&(()=>{const N=h.trim().split(/\s+/).filter(Boolean).length,k=[12,15,18,21,24].includes(N);return s.jsxs("div",{style:{fontSize:8,color:k?a.ok:a.warn,marginBottom:8},children:[N," words ",k?"":"(need 12/15/18/21/24)"]})})(),s.jsxs("div",{style:{background:"rgba(8,13,20,0.65)",border:`1px solid ${a.border}`,borderRadius:8,padding:"9px 10px",marginBottom:10},children:[s.jsx("div",{style:{fontSize:8,color:a.dim,letterSpacing:"0.08em",marginBottom:6},children:"DISCOVERY SCAN OPTIONS"}),s.jsx("div",{style:{fontSize:8,color:a.dim,marginBottom:5},children:"BASE PATH ROOTS (ONE PER LINE)"}),s.jsx("textarea",{value:P,onChange:N=>O(N.target.value),rows:2,style:{width:"100%",boxSizing:"border-box",background:"rgba(5,7,10,0.8)",border:`1px solid ${a.border}`,borderRadius:8,padding:"8px 10px",color:a.text,fontSize:8,resize:"vertical",...j,outline:"none",marginBottom:8}}),s.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:8,marginBottom:8},children:[s.jsxs("div",{children:[s.jsx("div",{style:{fontSize:8,color:a.dim,marginBottom:4},children:"ACCOUNT RANGE"}),s.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:6},children:[s.jsx("input",{type:"number",min:0,value:V,onChange:N=>F(N.target.value),placeholder:"start",style:{width:"100%",boxSizing:"border-box",background:"rgba(5,7,10,0.8)",border:`1px solid ${a.border}`,borderRadius:7,padding:"7px 8px",color:a.text,fontSize:8,...j,outline:"none"}}),s.jsx("input",{type:"number",min:0,value:xe,onChange:N=>Q(N.target.value),placeholder:"end",style:{width:"100%",boxSizing:"border-box",background:"rgba(5,7,10,0.8)",border:`1px solid ${a.border}`,borderRadius:7,padding:"7px 8px",color:a.text,fontSize:8,...j,outline:"none"}})]})]}),s.jsxs("div",{children:[s.jsx("div",{style:{fontSize:8,color:a.dim,marginBottom:4},children:"INDEX RANGE"}),s.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:6},children:[s.jsx("input",{type:"number",min:0,value:ue,onChange:N=>Oe(N.target.value),placeholder:"start",style:{width:"100%",boxSizing:"border-box",background:"rgba(5,7,10,0.8)",border:`1px solid ${a.border}`,borderRadius:7,padding:"7px 8px",color:a.text,fontSize:8,...j,outline:"none"}}),s.jsx("input",{type:"number",min:0,value:Ae,onChange:N=>le(N.target.value),placeholder:"end",style:{width:"100%",boxSizing:"border-box",background:"rgba(5,7,10,0.8)",border:`1px solid ${a.border}`,borderRadius:7,padding:"7px 8px",color:a.text,fontSize:8,...j,outline:"none"}})]})]})]}),s.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:8},children:[s.jsxs("div",{children:[s.jsx("div",{style:{fontSize:8,color:a.dim,marginBottom:5},children:"CHAINS"}),s.jsxs("div",{style:{display:"flex",gap:10},children:[s.jsxs("label",{style:{display:"flex",alignItems:"center",gap:5,fontSize:8,color:a.dim,cursor:"pointer"},children:[s.jsx("input",{type:"checkbox",checked:Se,onChange:N=>D(N.target.checked),style:{accentColor:a.accent}}),"RECEIVE (0)"]}),s.jsxs("label",{style:{display:"flex",alignItems:"center",gap:5,fontSize:8,color:a.dim,cursor:"pointer"},children:[s.jsx("input",{type:"checkbox",checked:z,onChange:N=>H(N.target.checked),style:{accentColor:a.accent}}),"CHANGE (1)"]})]})]}),s.jsxs("div",{children:[s.jsx("div",{style:{fontSize:8,color:a.dim,marginBottom:4},children:"RESULT LIMIT"}),s.jsx("input",{type:"number",min:1,max:I1,value:G,onChange:N=>oe(N.target.value),style:{width:"100%",boxSizing:"border-box",background:"rgba(5,7,10,0.8)",border:`1px solid ${a.border}`,borderRadius:7,padding:"7px 8px",color:a.text,fontSize:8,...j,outline:"none"}})]})]})]}),s.jsxs("div",{style:{background:"rgba(8,13,20,0.65)",border:`1px solid ${a.border}`,borderRadius:8,padding:"9px 10px",marginBottom:10},children:[s.jsx("div",{style:{fontSize:8,color:a.dim,letterSpacing:"0.08em",marginBottom:6},children:"MANUAL DERIVATION PATH"}),s.jsx("input",{value:Re,onChange:N=>ve(N.target.value),placeholder:"m/44'/111'/0'/0/0",style:{width:"100%",boxSizing:"border-box",background:"rgba(5,7,10,0.8)",border:`1px solid ${a.border}`,borderRadius:8,padding:"9px 10px",color:a.text,fontSize:8,...j,outline:"none",marginBottom:8}}),s.jsx("button",{onClick:Et,disabled:!h.trim()||W,style:{width:"100%",padding:"9px 0",background:"rgba(11,17,24,0.85)",border:`1px solid ${a.border}`,borderRadius:8,color:h.trim()&&!W?a.text:a.dim,fontSize:8,fontWeight:700,cursor:h.trim()&&!W?"pointer":"not-allowed",letterSpacing:"0.08em",...j},children:W?"VALIDATING":"USE MANUAL PATH"})]}),s.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:8},children:[s.jsx("button",{onClick:Ke,disabled:!h.trim()||W,style:{width:"100%",padding:"11px 0",background:h.trim()&&!W?`linear-gradient(90deg, ${a.accent}, #7BE9CF)`:`${a.accent}25`,border:"none",borderRadius:8,color:h.trim()&&!W?"#04110E":a.dim,fontSize:10,fontWeight:700,cursor:h.trim()&&!W?"pointer":"not-allowed",letterSpacing:"0.1em",...j},children:W?"VALIDATING":"VALIDATE PHRASE "}),s.jsx("button",{onClick:rt,disabled:!h.trim()||W,style:{width:"100%",padding:"11px 0",background:"rgba(11,17,24,0.85)",border:`1px solid ${a.border}`,borderRadius:8,color:h.trim()&&!W?a.text:a.dim,fontSize:9,fontWeight:700,cursor:h.trim()&&!W?"pointer":"not-allowed",letterSpacing:"0.08em",...j},children:W?"SCANNING":"SCAN PATHS"})]}),s.jsx("button",{onClick:Ge,disabled:!h.trim()||W,style:{width:"100%",padding:"10px 0",marginTop:8,background:"rgba(11,17,24,0.85)",border:`1px solid ${a.border}`,borderRadius:8,color:h.trim()&&!W?a.text:a.dim,fontSize:8,fontWeight:700,cursor:h.trim()&&!W?"pointer":"not-allowed",letterSpacing:"0.08em",...j},children:W?"LOADING":"LOAD REMEMBERED CANDIDATES"})]}):n==="import_discover"?s.jsxs(Kr,{children:[s.jsx(To,{title:"SELECT DERIVATION",sub:"Choose the address/path that matches your existing wallet. This choice will be saved for signing.",onBack:()=>r("import_phrase")}),qe&&s.jsx("div",{style:{fontSize:8,color:a.danger,marginBottom:10},children:qe}),s.jsxs("div",{style:{background:"rgba(11,17,24,0.65)",border:`1px solid ${a.border}`,borderRadius:8,padding:"8px 10px",marginBottom:10},children:[s.jsx("div",{style:{fontSize:8,color:a.dim,lineHeight:1.5},children:"Showing common derivation candidates for your phrase/passphrase. If unsure, compare with the address shown in your current wallet app and select the exact match."}),s.jsxs("div",{style:{fontSize:8,color:a.dim,marginTop:6},children:["Remembered candidates for this mnemonic fingerprint: ",_.length]})]}),s.jsx("div",{style:{display:"flex",flexDirection:"column",gap:6,maxHeight:300,overflowY:"auto",paddingRight:2,marginBottom:12},children:y.map((N,k)=>{const ne=N.address.toLowerCase()===w.toLowerCase()&&An(N.derivation)===An(f),Y=_.includes(Ui(N));return s.jsxs("button",{onClick:()=>Ee(N),style:{width:"100%",textAlign:"left",background:ne?`${a.accent}10`:"rgba(8,13,20,0.8)",border:`1px solid ${ne?`${a.accent}55`:a.border}`,borderRadius:8,padding:"9px 10px",cursor:"pointer",...j},children:[s.jsxs("div",{style:{display:"flex",alignItems:"center",justifyContent:"space-between",gap:8,marginBottom:4},children:[s.jsxs("span",{style:{fontSize:8,color:ne?a.accent:a.text,fontWeight:700},children:["#",k+1,"  ",N.chainLabel.toUpperCase()]}),s.jsxs("div",{style:{display:"flex",alignItems:"center",gap:6},children:[Y&&s.jsx("span",{style:{fontSize:8,color:a.accent,border:`1px solid ${a.accent}44`,background:`${a.accent}14`,borderRadius:4,padding:"2px 4px",letterSpacing:"0.06em"},children:"REMEMBERED"}),s.jsx("span",{style:{fontSize:8,color:a.dim},children:N.derivation.account===0?"acct 0":`acct ${N.derivation.account}`})]})]}),s.jsx("div",{style:{fontSize:8,color:a.text,lineHeight:1.45,wordBreak:"break-all",marginBottom:4},children:N.address}),s.jsx("div",{style:{fontSize:8,color:a.dim,lineHeight:1.4,wordBreak:"break-all"},children:N.derivationPath})]},`${N.address}-${N.derivationPath}`)})}),s.jsx("button",{onClick:()=>rt(),disabled:W,style:{width:"100%",padding:"10px 0",background:"rgba(11,17,24,0.85)",border:`1px solid ${a.border}`,borderRadius:8,color:W?a.dim:a.text,fontSize:9,fontWeight:700,cursor:W?"not-allowed":"pointer",letterSpacing:"0.08em",...j},children:W?"SCANNING":"RESCAN CANDIDATES"})]}):n==="import_password"?s.jsxs(Kr,{children:[s.jsx(To,{title:"ENCRYPT YOUR WALLET",sub:"Your imported phrase will be encrypted and stored locally. Choose a strong password.",onBack:()=>r(y.length?"import_discover":"import_phrase")}),s.jsxs("div",{style:{background:"rgba(8,13,20,0.8)",border:`1px solid ${a.border}`,borderRadius:8,padding:"8px 10px",marginBottom:10},children:[s.jsx("div",{style:{fontSize:8,color:a.dim,marginBottom:4,letterSpacing:"0.08em"},children:"SELECTED ADDRESS"}),s.jsx("div",{style:{fontSize:8,color:a.text,lineHeight:1.4,wordBreak:"break-all",marginBottom:4},children:w}),s.jsx("div",{style:{fontSize:8,color:a.dim,lineHeight:1.4,wordBreak:"break-all"},children:An(f)})]}),qe&&s.jsx("div",{style:{fontSize:8,color:a.danger,marginBottom:10},children:qe}),s.jsx(ch,{onSubmit:et,loading:W,submitLabel:"IMPORT WALLET"})]}):s.jsx(Kr,{children:s.jsx("div",{style:{flex:1,display:"flex",alignItems:"center",justifyContent:"center"},children:s.jsxs("div",{style:{textAlign:"center"},children:[s.jsx("img",{src:"../icons/icon48.png",alt:"",style:{width:36,height:36,objectFit:"contain",filter:"drop-shadow(0 0 12px rgba(57,221,182,0.7))",marginBottom:14}}),s.jsx("div",{style:{fontSize:10,color:a.accent,marginBottom:6,letterSpacing:"0.1em",fontWeight:700},children:"ENCRYPTING VAULT"}),s.jsx("div",{style:{fontSize:8,color:a.dim},children:"Deriving key  This may take a moment"})]})})})}function xC({address:e,network:t,origin:n,onApprove:r,onReject:o}){const i=n??"forge-os.xyz",[l,c]=S.useState(!1);function u(){l&&n&&Cv(n,{address:e,network:t,connectedAt:Date.now()}).catch(()=>{}),r()}return s.jsxs("div",{"data-testid":"connect-approval-screen",style:{width:"100%",maxWidth:S1,height:"100%",minHeight:v1,...mi(),display:"flex",flexDirection:"column",...j,overflow:"hidden",zoom:hi},children:[s.jsxs("div",{style:{padding:"12px 14px 10px",borderBottom:`1px solid ${a.border}`,display:"flex",alignItems:"center",gap:8},children:[s.jsx("img",{src:"../icons/icon48.png",alt:"Forge-OS",style:{width:22,height:22,objectFit:"contain",filter:"drop-shadow(0 0 6px rgba(57,221,182,0.5))"}}),s.jsxs("span",{style:{fontSize:13,fontWeight:700,letterSpacing:"0.1em"},children:[s.jsx("span",{style:{color:a.accent},children:"FORGE"}),s.jsx("span",{style:{color:a.text},children:"-OS"})]})]}),s.jsxs("div",{style:{flex:1,minHeight:0,display:"flex",flexDirection:"column",padding:"14px 16px 12px",gap:12,overflowY:"auto"},children:[s.jsxs("div",{style:{textAlign:"center"},children:[s.jsx("div",{style:{width:52,height:52,borderRadius:"50%",background:`${a.accent}18`,border:`2px solid ${a.accent}40`,display:"flex",alignItems:"center",justifyContent:"center",margin:"0 auto 10px"},children:s.jsx("img",{src:"../icons/icon48.png",alt:"",style:{width:30,height:30,objectFit:"contain"}})}),s.jsx("div",{style:{fontSize:13,fontWeight:700,color:a.text,marginBottom:4},children:"Connect to Site"}),s.jsx("div",{style:{fontSize:10,color:a.dim,letterSpacing:"0.06em",wordBreak:"break-word",overflowWrap:"anywhere"},children:i})]}),s.jsxs("div",{style:{background:"rgba(11,17,24,0.8)",border:`1px solid ${a.border}`,borderRadius:10,padding:"12px 14px"},children:[s.jsx("div",{style:{fontSize:8,color:a.dim,letterSpacing:"0.12em",marginBottom:10},children:"THIS SITE WILL BE ABLE TO"}),[{icon:"",label:"View your wallet address"},{icon:"",label:"Request message signatures"}].map(d=>s.jsxs("div",{style:{display:"flex",alignItems:"center",gap:8,marginBottom:6,fontSize:10,color:a.text},children:[s.jsx("span",{style:{color:a.ok,fontSize:9,flexShrink:0},children:d.icon}),d.label]},d.label)),s.jsx("div",{style:{height:1,background:a.border,margin:"10px 0"}}),s.jsx("div",{style:{fontSize:8,color:a.dim,letterSpacing:"0.12em",marginBottom:6},children:"THIS SITE WILL NOT BE ABLE TO"}),[{icon:"",label:"Access your private keys or seed phrase"},{icon:"",label:"Send transactions without your approval"}].map(d=>s.jsxs("div",{style:{display:"flex",alignItems:"center",gap:8,marginBottom:4,fontSize:10,color:a.muted},children:[s.jsx("span",{style:{color:a.danger,fontSize:9,flexShrink:0},children:d.icon}),d.label]},d.label))]}),s.jsxs("div",{style:{background:`${a.accent}08`,border:`1px solid ${a.accent}20`,borderRadius:8,padding:"10px 12px",display:"flex",alignItems:"center",gap:10},children:[s.jsx("div",{style:{width:8,height:8,borderRadius:"50%",background:a.ok,flexShrink:0}}),s.jsxs("div",{children:[s.jsx("div",{style:{fontSize:9,color:a.dim,marginBottom:2},children:"CONNECTING WITH"}),s.jsx("div",{style:{fontSize:11,color:a.text,fontWeight:600},children:Ms(e)}),s.jsx("div",{style:{fontSize:8,color:a.dim},children:t})]})]}),s.jsxs("label",{style:{display:"flex",alignItems:"center",gap:8,cursor:"pointer",fontSize:10,color:a.dim},children:[s.jsx("input",{"data-testid":"connect-approval-remember-site",type:"checkbox",checked:l,onChange:d=>c(d.target.checked),style:{accentColor:a.accent,width:13,height:13,cursor:"pointer"}}),"Remember this site (skip approval next time)"]}),s.jsxs("div",{style:{display:"flex",gap:10,marginTop:2},children:[s.jsx("button",{"data-testid":"connect-approval-reject",onClick:o,style:{flex:1,background:"rgba(33,48,67,0.5)",border:`1px solid ${a.border}`,borderRadius:8,padding:"10px 0",color:a.dim,fontSize:10,fontWeight:700,cursor:"pointer",letterSpacing:"0.08em",...j},children:"REJECT"}),s.jsx("button",{"data-testid":"connect-approval-approve",onClick:u,style:{flex:2,background:`linear-gradient(90deg, ${a.accent}, #7BE9CF)`,border:"none",borderRadius:8,padding:"10px 0",color:"#04110E",fontSize:11,fontWeight:700,cursor:"pointer",letterSpacing:"0.08em",...j},children:"CONNECT "})]})]})]})}function SC({address:e,network:t,origin:n,message:r,loading:o=!1,error:i,onApprove:l,onReject:c}){const u=n??"forge-os.xyz";return s.jsxs("div",{"data-testid":"sign-approval-screen",style:{width:"100%",maxWidth:S1,height:"100%",minHeight:v1,...mi(),display:"flex",flexDirection:"column",...j,overflow:"hidden",zoom:hi},children:[s.jsxs("div",{style:{padding:"12px 14px 10px",borderBottom:`1px solid ${a.border}`,display:"flex",alignItems:"center",gap:8},children:[s.jsx("img",{src:"../icons/icon48.png",alt:"Forge-OS",style:{width:22,height:22,objectFit:"contain",filter:"drop-shadow(0 0 6px rgba(57,221,182,0.5))"}}),s.jsxs("span",{style:{fontSize:13,fontWeight:700,letterSpacing:"0.1em"},children:[s.jsx("span",{style:{color:a.accent},children:"FORGE"}),s.jsx("span",{style:{color:a.text},children:"-OS"})]})]}),s.jsxs("div",{style:{flex:1,minHeight:0,display:"flex",flexDirection:"column",padding:"18px 16px",gap:12,overflowY:"auto"},children:[s.jsxs("div",{style:{textAlign:"center"},children:[s.jsx("div",{style:{width:52,height:52,borderRadius:"50%",background:`${a.warn}18`,border:`2px solid ${a.warn}40`,display:"flex",alignItems:"center",justifyContent:"center",margin:"0 auto 12px"},children:s.jsx("span",{style:{fontSize:22},children:""})}),s.jsx("div",{style:{fontSize:12,fontWeight:700,color:a.text,marginBottom:3},children:"Signature Request"}),s.jsx("div",{style:{fontSize:10,color:a.dim,letterSpacing:"0.06em"},children:u})]}),s.jsxs("div",{style:{background:"rgba(11,17,24,0.9)",border:`1px solid ${a.border}`,borderRadius:10,padding:"10px 12px",minWidth:0},children:[s.jsx("div",{style:{fontSize:8,color:a.dim,letterSpacing:"0.12em",marginBottom:6},children:"MESSAGE TO SIGN"}),s.jsx("div",{style:{maxHeight:180,overflowY:"auto",background:"rgba(5,7,10,0.7)",border:`1px solid ${a.border}`,borderRadius:8,padding:"10px",fontSize:9,color:a.text,lineHeight:1.5,whiteSpace:"pre-wrap",wordBreak:"break-word",overflowWrap:"anywhere"},children:r})]}),s.jsxs("div",{style:{background:`${a.accent}08`,border:`1px solid ${a.accent}20`,borderRadius:8,padding:"10px 12px",display:"flex",alignItems:"center",gap:10,minWidth:0},children:[s.jsx("div",{style:{width:8,height:8,borderRadius:"50%",background:a.ok,flexShrink:0}}),s.jsxs("div",{style:{minWidth:0},children:[s.jsx("div",{style:{fontSize:9,color:a.dim,marginBottom:2},children:"SIGNING WITH"}),s.jsx("div",{style:{fontSize:11,color:a.text,fontWeight:600},children:Ms(e)}),s.jsx("div",{style:{fontSize:8,color:a.dim},children:t})]})]}),i&&s.jsx("div",{style:{fontSize:9,color:a.danger,lineHeight:1.5,textAlign:"center"},children:i})]}),s.jsxs("div",{style:{padding:"12px 16px",borderTop:`1px solid ${a.border}`,display:"flex",gap:10},children:[s.jsx("button",{"data-testid":"sign-approval-reject",onClick:c,disabled:o,style:{flex:1,background:"rgba(33,48,67,0.5)",border:`1px solid ${a.border}`,borderRadius:8,padding:"10px 0",color:a.dim,fontSize:10,fontWeight:700,cursor:o?"not-allowed":"pointer",letterSpacing:"0.08em",...j},children:"REJECT"}),s.jsx("button",{"data-testid":"sign-approval-approve",onClick:l,disabled:o,style:{flex:2,background:o?`${a.accent}35`:`linear-gradient(90deg, ${a.accent}, #7BE9CF)`,border:"none",borderRadius:8,padding:"10px 0",color:o?a.dim:"#04110E",fontSize:11,fontWeight:700,cursor:o?"not-allowed":"pointer",letterSpacing:"0.08em",...j},children:o?"SIGNING":"SIGN MESSAGE "})]})]})}const uh="forgeos.connect.pending",dh="forgeos.sign.pending",vC=12e4,wC=new Set(["forge-os.xyz","www.forge-os.xyz","forgeos.xyz","www.forgeos.xyz","localhost","127.0.0.1"]);function EC(){const[e,t]=S.useState({type:"loading"}),[n,r]=S.useState(null),[o,i]=S.useState("mainnet"),[l,c]=S.useState(null),[u,d]=S.useState(0),[p,h]=S.useState(!1),[g,x]=S.useState("wallet"),[E,w]=S.useState(),[A,f]=S.useState(0),[m,y]=S.useState(!1),[v,_]=S.useState(15),[I,P]=S.useState(!1),[O,V]=S.useState(!1),[F,xe]=S.useState(null),[Q,ue]=S.useState(null),[Oe,Ae]=S.useState(!1),[le,Se]=S.useState(null),D=S.useRef(new Set),z=S.useRef(null),H=S.useRef("mainnet"),[G,oe]=S.useState(null),[Re,ve]=S.useState(null),[q,we]=S.useState(null),[W,fe]=S.useState(null),[qe,pe]=S.useState(null),[ut,Pt]=S.useState(null),wt=["mainnet","testnet-10","testnet-11","testnet-12"],Ge={mainnet:"MAINNET","testnet-10":"TN10","testnet-11":"TN11","testnet-12":"TN12"},Et=45e3,Ft=45e3,or=6e4;S.useEffect(()=>{H.current=o},[o]);const Ke=S.useCallback(b=>{if(!b)return!1;let U="";try{U=b.origin?new URL(b.origin).hostname.toLowerCase():""}catch{U=""}const he=wC.has(U),de=b.message.includes("Sign in to Forge.OS")&&b.message.includes("Domain: forge-os.xyz");return he&&de},[]);S.useEffect(()=>{(async()=>{try{const[b,U,he,de,pt]=await Promise.all([sy(),pa(),yv(),Sv(),wv()]);if(i(U),_(he),P(de===!0),V(pt===!0),!b){const He=await xm();He!=null&&He.address?(r({mnemonic:"",address:He.address,network:U,autoLockAt:1/0}),Ee(He.address,U),t({type:"unlocked"})):t({type:"first_run"});return}const Vt=oo()??await ly();if(Vt)r(Vt),Ee(Vt.address,U),t({type:"unlocked"}),Ua().then(He=>{He.filter(mt=>(mt.state==="CONFIRMING"||mt.state==="BROADCASTING")&&mt.txId).forEach(mt=>qw(mt,uo=>{(uo.state==="CONFIRMED"||uo.state==="FAILED")&&Ee(Vt.address,U)}).catch(()=>{}))}).catch(()=>{}),od().catch(()=>{});else{const He=await xm();oe((He==null?void 0:He.address)??null),t({type:"locked"})}}catch{t({type:"first_run"})}})()},[]);const rt=S.useCallback(()=>{var U;const b=(U=chrome.storage)==null?void 0:U.session;b!=null&&b.get&&b.get([uh,dh]).then(he=>{const de=he==null?void 0:he[uh],pt=he==null?void 0:he[dh];xe(de!=null&&de.requestId?de:null),ue(pt!=null&&pt.requestId&&typeof(pt==null?void 0:pt.message)=="string"?pt:null)}).catch(()=>{})},[]);S.useEffect(()=>{rt()},[rt]),S.useEffect(()=>{const b=(U,he)=>{he==="session"&&rt()};return chrome.storage.onChanged.addListener(b),()=>chrome.storage.onChanged.removeListener(b)},[rt]),S.useEffect(()=>{Se(null)},[Q==null?void 0:Q.requestId]),S.useEffect(()=>{const b=()=>{z.current!==null&&(window.clearTimeout(z.current),z.current=null)};if(e.type!=="unlocked"||I){b();return}if(!!(F||Q)){b();return}return b(),z.current=window.setTimeout(()=>{z.current=null,Ju(!1)},vC),b},[e.type,I,F==null?void 0:F.requestId,Q==null?void 0:Q.requestId]),S.useEffect(()=>()=>{z.current!==null&&(window.clearTimeout(z.current),z.current=null)},[]),S.useEffect(()=>{const b=U=>{(U==null?void 0:U.type)==="AUTOLOCK_FIRED"&&N()};return chrome.runtime.onMessage.addListener(b),()=>chrome.runtime.onMessage.removeListener(b)},[]),S.useEffect(()=>{if(e.type!=="unlocked"||!n)return;const b=setInterval(()=>{if(!oo()){N();return}Hi(v,{persistSession:I})},3e4);return()=>clearInterval(b)},[e.type,n,v,I]),S.useEffect(()=>{if(e.type!=="unlocked")return;const b=async()=>{const he=await ty(o);he!=null&&he.virtualDaaScore?(ve(he.virtualDaaScore),pe(Date.now()),Pt(de=>de!=null&&de.startsWith("Live BlockDAG feed")?null:de)):Pt("Live BlockDAG feed unavailable  retrying")};b();const U=setInterval(b,2e4);return()=>clearInterval(U)},[e.type,o]);const Ee=S.useCallback(async(b,U)=>{try{const he=es(b,U),[de,pt]=await Promise.allSettled([lw(he,U),ny(U)]),Vt=Date.now();let He=!1;de.status==="fulfilled"?(c(de.value),we(Vt)):He=!0,pt.status==="fulfilled"?(d(pt.value),fe(Vt)):He=!0,Pt(mt=>He?"Live balance/price feed degraded  retrying":mt!=null&&mt.startsWith("Live balance/price feed")?null:mt)}catch{}},[]),et=S.useCallback(b=>{const U=String(b||"").trim();!U||H.current===U||(H.current=U,i(U),c(null),ve(null),we(null),fe(null),pe(null),Pt(null),n!=null&&n.address&&Ee(n.address,U))},[Ee,n==null?void 0:n.address]);S.useEffect(()=>{const b=(U,he)=>{if(he!=="local")return;const de=U==null?void 0:U[av];!de||typeof de.newValue!="string"||et(de.newValue)};return chrome.storage.onChanged.addListener(b),()=>chrome.storage.onChanged.removeListener(b)},[et]),S.useEffect(()=>{let b=null;try{b=chrome.runtime.connect({name:aw})}catch{return}const U=he=>{if(cw(he))for(const de of he.patches)(de==null?void 0:de.type)==="network"&&typeof de.network=="string"&&et(de.network)};return b.onMessage.addListener(U),()=>{try{b==null||b.onMessage.removeListener(U),b==null||b.disconnect()}catch{}}},[et]),S.useEffect(()=>{if(e.type!=="unlocked"||!(n!=null&&n.address))return;const b=()=>{Ee(n.address,o)};b();const U=setInterval(b,15e3);return()=>clearInterval(U)},[e.type,n==null?void 0:n.address,o,Ee]),S.useEffect(()=>{if(e.type!=="unlocked"||!(n!=null&&n.address))return;fy(o).catch(()=>{});const b=jw(n.address,()=>{Ee(n.address,o)}),U=Rw(he=>{ve(he),pe(Date.now())});return()=>{b(),U(),py().catch(()=>{})}},[e.type,n==null?void 0:n.address,o,Ee]);const kt=b=>{oe(null),r(b),Ee(b.address,o),t({type:"unlocked"})},N=()=>{oe((n==null?void 0:n.address)??null),ay(),r(null),c(null),d(0),ve(null),we(null),fe(null),pe(null),Pt(null),t({type:"locked"})},k=async()=>{const{resetWallet:b}=await Ds(async()=>{const{resetWallet:U}=await Promise.resolve().then(()=>kw);return{resetWallet:U}},void 0);await b(),r(null),c(null),d(0),ve(null),we(null),fe(null),pe(null),Pt(null),t({type:"first_run"})},ne=b=>{r(b),Ee(b.address,o),t({type:"unlocked"})},Y=(()=>{if(!(n!=null&&n.address))return null;try{return es(n.address,o)}catch{return n.address}})(),Qe=async()=>{if(Y)try{await navigator.clipboard.writeText(Y),h(!0),setTimeout(()=>h(!1),2e3)}catch{}},st=async()=>{const b=wt.indexOf(o),U=wt[(b+1)%wt.length];if(et(U),await gv(U),n!=null&&n.address)try{await Vu({address:es(n.address,U),network:U})}catch{}},xn=()=>{e.type==="unlocked"&&Hi(v,{persistSession:I})},me=async b=>{_(b),await xv(b),e.type==="unlocked"&&Hi(b,{persistSession:I})},Te=async b=>{P(b),await vv(b),await Ju(b),e.type==="unlocked"&&Hi(v,{persistSession:b})},Ce=async()=>{const b=!O;V(b);try{await Ev(b)}catch{}};S.useEffect(()=>{e.type!=="unlocked"||!Q||n!=null&&n.mnemonic||(chrome.runtime.sendMessage({type:"FORGEOS_SIGN_REJECT",requestId:Q.requestId,error:"Managed wallet is required for site signing"}).catch(()=>{}),ue(null))},[e.type,Q,n==null?void 0:n.mnemonic]);const jt=async()=>{const b=Q;if(b){if(!(n!=null&&n.mnemonic)){Se("Wallet is locked. Unlock to sign.");return}Ae(!0),Se(null);try{const U=await ik(n.mnemonic,b.message,{mnemonicPassphrase:n.mnemonicPassphrase,derivation:n.derivation});await chrome.runtime.sendMessage({type:"FORGEOS_SIGN_APPROVE",requestId:b.requestId,signature:U}),ue(null)}catch(U){const he=U instanceof Error?U.message:String(U);Se(he||"Signing failed")}finally{Ae(!1)}}},dt=()=>{Q&&(chrome.runtime.sendMessage({type:"FORGEOS_SIGN_REJECT",requestId:Q.requestId,error:"Signing rejected by user"}).catch(()=>{}),window.close())};if(S.useEffect(()=>{if(e.type!=="unlocked"||!Q||Oe||!(n!=null&&n.mnemonic))return;const b=Q.requestId;!b||D.current.has(b)||Ke(Q)&&(D.current.add(b),jt())},[e.type,Q,n==null?void 0:n.mnemonic,Oe,Ke]),e.type==="loading")return s.jsxs("div",{style:{width:ei,height:bs,...mi(),display:"flex",alignItems:"center",justifyContent:"center",...j,position:"relative",overflowX:"hidden",overflowY:"auto",zoom:hi},children:[s.jsx("div",{style:{position:"absolute",top:"30%",left:"50%",transform:"translate(-50%,-50%)",width:260,height:260,borderRadius:"50%",background:`radial-gradient(ellipse, ${a.accent}12 0%, transparent 70%)`,pointerEvents:"none"}}),s.jsxs("div",{style:{textAlign:"center",position:"relative"},children:[s.jsx("img",{src:"../icons/icon48.png",alt:"",style:{width:36,height:36,objectFit:"contain",opacity:.7,filter:"drop-shadow(0 0 10px rgba(57,221,182,0.5))"}}),s.jsx("div",{style:{fontSize:9,color:a.dim,marginTop:10,letterSpacing:"0.14em"},children:"LOADING"})]})]});if(e.type==="first_run")return s.jsx(yC,{network:o,onComplete:ne});if(e.type==="locked"){const b=I||!!(F||Q);return s.jsx(qT,{walletAddress:G,autoLockMinutes:v,persistSession:b,onUnlock:kt,onReset:k})}const sn=!!(n!=null&&n.mnemonic);if(Q&&Y&&sn&&!Ke(Q))return s.jsx(SC,{address:Y,network:o,origin:Q.origin,message:Q.message,loading:Oe,error:le,onApprove:jt,onReject:dt});if(F&&Y)return s.jsx(xC,{address:Y,network:o,origin:F.origin,onApprove:()=>{chrome.runtime.sendMessage({type:"FORGEOS_CONNECT_APPROVE",requestId:F.requestId,address:Y,network:o}).catch(()=>{}),xe(null)},onReject:()=>{chrome.runtime.sendMessage({type:"FORGEOS_CONNECT_REJECT",requestId:F.requestId}).catch(()=>{}),window.close()}});const $t=Y,Sn="USD",ie=l!==null&&u>0?l*u:null,Ie=ie!==null?lv(ie,Sn):"",ln=O?"":Ie,De=o==="mainnet",Kt=Date.now(),vn=(b,U)=>b!==null&&Kt-b<=U,an=vn(q,Et),Ht=vn(W,Ft),L=vn(qe,or),$=an&&Ht&&L,re=an||Ht||L,Xe=$?"LIVE FEED":re?"PARTIAL FEED":"FEED OFFLINE",ft=$?a.ok:re?a.warn:a.danger,Wt=De?a.ok:a.warn;return s.jsxs("div",{onClick:xn,style:{width:ei,minHeight:bs,...mi(),display:"flex",flexDirection:"column",...j,position:"relative",overflowX:"hidden",overflowY:"auto",zoom:hi},children:[s.jsx("div",{style:{position:"absolute",top:-60,left:"50%",transform:"translateX(-50%)",width:320,height:320,borderRadius:"50%",background:`radial-gradient(ellipse, ${a.accent}0D 0%, transparent 70%)`,pointerEvents:"none",zIndex:0}}),s.jsx("div",{style:{position:"absolute",bottom:40,right:-60,width:200,height:200,borderRadius:"50%",background:`radial-gradient(ellipse, ${a.accent}07 0%, transparent 70%)`,pointerEvents:"none",zIndex:0}}),s.jsxs("div",{style:{padding:"13px 16px 11px",borderBottom:`1px solid ${a.border}`,display:"flex",alignItems:"center",justifyContent:"space-between",position:"relative",zIndex:1},children:[s.jsxs("div",{style:{display:"flex",alignItems:"center",gap:9},children:[s.jsx("img",{src:"../icons/icon48.png",alt:"Forge-OS",style:{width:24,height:24,objectFit:"contain",filter:"drop-shadow(0 0 8px rgba(57,221,182,0.55))"}}),s.jsxs("span",{style:{fontSize:14,fontWeight:700,letterSpacing:"0.1em"},children:[s.jsx("span",{style:{color:a.accent},children:"FORGE"}),s.jsx("span",{style:{color:a.text},children:"-OS"})]})]}),s.jsxs("div",{style:{display:"flex",alignItems:"center",gap:8},children:[s.jsx("button",{onClick:st,title:"Click to switch network",style:{fontSize:9,color:Wt,fontWeight:700,letterSpacing:"0.1em",background:`${Wt}15`,border:`1px solid ${Wt}35`,borderRadius:4,padding:"3px 8px",cursor:"pointer",...j},children:Ge[o]??o.toUpperCase()}),sn&&s.jsx("button",{onClick:N,title:"Lock wallet",style:{background:"rgba(33,48,67,0.5)",border:`1px solid ${a.border}`,borderRadius:4,padding:"3px 8px",color:a.dim,fontSize:10,cursor:"pointer",...j},children:""})]})]}),$t?s.jsxs("div",{style:{padding:"20px 16px 16px",borderBottom:`1px solid ${a.border}`,textAlign:"center",position:"relative",zIndex:1},children:[s.jsxs("div",{style:{display:"flex",alignItems:"center",justifyContent:"center",gap:6,marginBottom:16},children:[s.jsx("div",{style:{width:6,height:6,borderRadius:"50%",background:a.ok,flexShrink:0,boxShadow:`0 0 6px ${a.ok}`}}),s.jsx("span",{style:{fontSize:10,color:a.dim,letterSpacing:"0.04em"},children:Ms($t)}),s.jsx("button",{onClick:Qe,style:{...X(p?a.ok:a.dim,!0),padding:"3px 8px",fontSize:9,letterSpacing:"0.08em",color:p?a.ok:a.dim,minWidth:56},children:p?"COPIED":"COPY"})]}),s.jsxs("div",{style:{marginBottom:6},children:[s.jsxs("div",{style:{display:"flex",alignItems:"center",justifyContent:"center",gap:6,marginBottom:6},children:[s.jsx("span",{style:{fontSize:8,color:a.dim,letterSpacing:"0.1em"},children:"TOTAL PORTFOLIO VALUE"}),s.jsx("button",{onClick:Ce,"aria-label":O?"Show portfolio balances":"Hide portfolio balances",title:O?"Show portfolio balances":"Hide portfolio balances",style:{...X(O?a.warn:a.dim,!0),padding:"3px 0",fontSize:9,letterSpacing:"0.08em",color:O?a.warn:a.dim,minWidth:34,width:34,display:"inline-flex",alignItems:"center",justifyContent:"center"},children:s.jsxs("svg",{width:"12",height:"12",viewBox:"0 0 12 12",fill:"none",xmlns:"http://www.w3.org/2000/svg","aria-hidden":"true",style:{flexShrink:0},children:[s.jsx("path",{d:"M1 6C1 6 2.8 3.4 6 3.4C9.2 3.4 11 6 11 6C11 6 9.2 8.6 6 8.6C2.8 8.6 1 6 1 6Z",stroke:"currentColor",strokeWidth:"1"}),s.jsx("circle",{cx:"6",cy:"6",r:"1.3",fill:"currentColor"}),O&&s.jsx("path",{d:"M1.3 1.3L10.7 10.7",stroke:"currentColor",strokeWidth:"1.2"})]})})]}),s.jsx("div",{style:{fontSize:38,fontWeight:700,color:a.text,letterSpacing:"0.005em",lineHeight:1},children:ln})]}),s.jsx("div",{style:{display:"flex",gap:8,marginTop:16},children:[{label:"SEND",action:()=>{x("wallet"),w("send"),f(b=>b+1)}},{label:"RECEIVE",action:()=>{x("wallet"),w("receive"),f(b=>b+1)}},{label:"SWAP",action:()=>y(!0)}].map(b=>s.jsx("button",{onClick:b.action,style:{flex:1,background:`linear-gradient(145deg, ${a.accent}1A, rgba(8,13,20,0.7))`,border:`1px solid ${a.accent}40`,borderRadius:10,padding:"9px 0",color:a.accent,fontSize:10,fontWeight:700,cursor:"pointer",...j,letterSpacing:"0.1em",transition:"background 0.15s, border-color 0.15s"},children:b.label},b.label))})]}):s.jsxs("div",{style:{padding:"28px 16px",textAlign:"center",borderBottom:`1px solid ${a.border}`,position:"relative",zIndex:1},children:[s.jsx("div",{style:{fontSize:11,color:a.dim,marginBottom:12},children:"No wallet connected"}),s.jsx("button",{onClick:()=>chrome.tabs.create({url:"https://forge-os.xyz"}),style:{background:`linear-gradient(90deg, ${a.accent}, #7BE9CF)`,color:"#04110E",border:"none",borderRadius:10,padding:"10px 20px",fontSize:11,fontWeight:700,cursor:"pointer",...j,letterSpacing:"0.08em"},children:"OPEN FORGE-OS "})]}),m&&s.jsx("div",{style:{position:"absolute",inset:0,zIndex:40,background:"rgba(3,7,12,0.78)",display:"flex",alignItems:"flex-start",justifyContent:"center",padding:"10px 8px 12px",backdropFilter:"blur(1px)"},onClick:b=>{b.target===b.currentTarget&&y(!1)},children:s.jsxs("div",{style:{width:"100%",maxWidth:ei-10,maxHeight:"100%",borderRadius:14,border:`1px solid ${a.border}`,background:"linear-gradient(165deg, rgba(8,13,20,0.98) 0%, rgba(5,9,15,0.98) 100%)",boxShadow:"0 18px 34px rgba(0,0,0,0.45)",overflow:"hidden",display:"flex",flexDirection:"column"},children:[s.jsxs("div",{style:{display:"flex",alignItems:"center",justifyContent:"space-between",padding:"10px 12px",borderBottom:`1px solid ${a.border}`},children:[s.jsx("div",{style:{fontSize:10,color:a.accent,fontWeight:700,letterSpacing:"0.1em",...j},children:"SWAP"}),s.jsx("button",{onClick:()=>y(!1),style:{background:"none",border:"none",color:a.dim,fontSize:14,cursor:"pointer",...j},"aria-label":"Close swap overlay",title:"Close swap overlay",children:""})]}),s.jsx("div",{style:{overflowY:"auto",padding:"8px 8px 10px",flex:1},children:s.jsx(sh,{})})]})}),s.jsx("div",{style:{display:"flex",borderBottom:`1px solid ${a.border}`,position:"relative",zIndex:1},children:["wallet","swap","agents","security"].map(b=>s.jsx("button",{onClick:()=>x(b),style:{flex:1,background:g===b?`${a.accent}08`:"none",border:"none",borderBottom:`2px solid ${g===b?a.accent:"transparent"}`,color:g===b?a.accent:a.dim,fontSize:10,fontWeight:700,cursor:"pointer",padding:"9px 0",letterSpacing:"0.1em",...j,textTransform:"uppercase",transition:"color 0.15s, border-color 0.15s, background 0.15s",boxShadow:g===b?`0 2px 12px ${a.accent}25`:"none"},children:b},b))}),s.jsxs("div",{style:{flex:1,overflow:"auto",position:"relative",zIndex:1},children:[g==="wallet"&&s.jsx(IT,{address:$t,balance:l,usdPrice:u,network:o,mode:E,modeRequestId:A,onModeConsumed:()=>w(void 0),onBalanceInvalidated:()=>(n==null?void 0:n.address)&&Ee(n.address,o),hideBalances:O}),g==="swap"&&s.jsx(sh,{}),g==="agents"&&s.jsx(FT,{network:o}),g==="security"&&s.jsx(YT,{address:$t,network:o,isManagedWallet:sn,autoLockMinutes:v,persistUnlockSessionEnabled:I,onAutoLockMinutesChange:me,onPersistUnlockSessionChange:Te,onLock:N})]}),s.jsxs("div",{style:{padding:"7px 16px",borderTop:`1px solid ${a.border}`,display:"flex",justifyContent:"space-between",alignItems:"center",position:"relative",zIndex:1},children:[s.jsxs("div",{style:{display:"flex",alignItems:"center",gap:6},children:[s.jsx("span",{style:{fontSize:8,color:a.muted,letterSpacing:"0.06em"},children:"FORGE-OS"}),s.jsxs("span",{style:{fontSize:8,color:ft,letterSpacing:"0.05em",fontWeight:700},children:[" ",Xe]}),Re&&s.jsxs("span",{style:{fontSize:8,color:a.dim,letterSpacing:"0.04em"},children:[" ",ey[o]??10," BPS  DAA ",(parseInt(Re,10)/1e6).toFixed(1),"M"]})]}),s.jsx("button",{onClick:()=>chrome.tabs.create({url:"https://forge-os.xyz"}),style:{background:"none",border:"none",color:a.accent,fontSize:8,cursor:"pointer",...j,letterSpacing:"0.06em"},children:"OPEN SITE "})]}),ut&&s.jsx("div",{style:{padding:"0 16px 7px",fontSize:8,color:a.warn,letterSpacing:"0.03em",position:"relative",zIndex:1},children:ut})]})}L0(document.getElementById("root")).render(s.jsx(S.StrictMode,{children:s.jsx(EC,{})}));export{Lt as D,Ww as a,gy as b,oo as c,yw as d,AC as e,xw as f,CC as g,$m as h,pf as i,bC as j,_C as k,dy as l,TC as m,qt as n,NC as o,IC as s,ci as u,Xw as w};

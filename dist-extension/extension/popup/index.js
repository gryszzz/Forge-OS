(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))r(o);new MutationObserver(o=>{for(const i of o)if(i.type==="childList")for(const s of i.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&r(s)}).observe(document,{childList:!0,subtree:!0});function n(o){const i={};return o.integrity&&(i.integrity=o.integrity),o.referrerPolicy&&(i.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?i.credentials="include":o.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function r(o){if(o.ep)return;o.ep=!0;const i=n(o);fetch(o.href,i)}})();var bd={exports:{}},rs={},zd={exports:{}},Q={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Lo=Symbol.for("react.element"),ih=Symbol.for("react.portal"),sh=Symbol.for("react.fragment"),lh=Symbol.for("react.strict_mode"),ah=Symbol.for("react.profiler"),uh=Symbol.for("react.provider"),ch=Symbol.for("react.context"),dh=Symbol.for("react.forward_ref"),fh=Symbol.for("react.suspense"),ph=Symbol.for("react.memo"),mh=Symbol.for("react.lazy"),$u=Symbol.iterator;function hh(e){return e===null||typeof e!="object"?null:(e=$u&&e[$u]||e["@@iterator"],typeof e=="function"?e:null)}var Md={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},Fd=Object.assign,Ud={};function br(e,t,n){this.props=e,this.context=t,this.refs=Ud,this.updater=n||Md}br.prototype.isReactComponent={};br.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};br.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function Bd(){}Bd.prototype=br.prototype;function ga(e,t,n){this.props=e,this.context=t,this.refs=Ud,this.updater=n||Md}var ya=ga.prototype=new Bd;ya.constructor=ga;Fd(ya,br.prototype);ya.isPureReactComponent=!0;var Ku=Array.isArray,$d=Object.prototype.hasOwnProperty,va={current:null},Kd={key:!0,ref:!0,__self:!0,__source:!0};function Wd(e,t,n){var r,o={},i=null,s=null;if(t!=null)for(r in t.ref!==void 0&&(s=t.ref),t.key!==void 0&&(i=""+t.key),t)$d.call(t,r)&&!Kd.hasOwnProperty(r)&&(o[r]=t[r]);var u=arguments.length-2;if(u===1)o.children=n;else if(1<u){for(var c=Array(u),d=0;d<u;d++)c[d]=arguments[d+2];o.children=c}if(e&&e.defaultProps)for(r in u=e.defaultProps,u)o[r]===void 0&&(o[r]=u[r]);return{$$typeof:Lo,type:e,key:i,ref:s,props:o,_owner:va.current}}function gh(e,t){return{$$typeof:Lo,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function Sa(e){return typeof e=="object"&&e!==null&&e.$$typeof===Lo}function yh(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(n){return t[n]})}var Wu=/\/+/g;function Ts(e,t){return typeof e=="object"&&e!==null&&e.key!=null?yh(""+e.key):t.toString(36)}function ci(e,t,n,r,o){var i=typeof e;(i==="undefined"||i==="boolean")&&(e=null);var s=!1;if(e===null)s=!0;else switch(i){case"string":case"number":s=!0;break;case"object":switch(e.$$typeof){case Lo:case ih:s=!0}}if(s)return s=e,o=o(s),e=r===""?"."+Ts(s,0):r,Ku(o)?(n="",e!=null&&(n=e.replace(Wu,"$&/")+"/"),ci(o,t,n,"",function(d){return d})):o!=null&&(Sa(o)&&(o=gh(o,n+(!o.key||s&&s.key===o.key?"":(""+o.key).replace(Wu,"$&/")+"/")+e)),t.push(o)),1;if(s=0,r=r===""?".":r+":",Ku(e))for(var u=0;u<e.length;u++){i=e[u];var c=r+Ts(i,u);s+=ci(i,t,n,c,o)}else if(c=hh(e),typeof c=="function")for(e=c.call(e),u=0;!(i=e.next()).done;)i=i.value,c=r+Ts(i,u++),s+=ci(i,t,n,c,o);else if(i==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return s}function Ko(e,t,n){if(e==null)return e;var r=[],o=0;return ci(e,r,"","",function(i){return t.call(n,i,o++)}),r}function vh(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(n){(e._status===0||e._status===-1)&&(e._status=1,e._result=n)},function(n){(e._status===0||e._status===-1)&&(e._status=2,e._result=n)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var Ze={current:null},di={transition:null},Sh={ReactCurrentDispatcher:Ze,ReactCurrentBatchConfig:di,ReactCurrentOwner:va};function Vd(){throw Error("act(...) is not supported in production builds of React.")}Q.Children={map:Ko,forEach:function(e,t,n){Ko(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return Ko(e,function(){t++}),t},toArray:function(e){return Ko(e,function(t){return t})||[]},only:function(e){if(!Sa(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};Q.Component=br;Q.Fragment=sh;Q.Profiler=ah;Q.PureComponent=ga;Q.StrictMode=lh;Q.Suspense=fh;Q.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Sh;Q.act=Vd;Q.cloneElement=function(e,t,n){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var r=Fd({},e.props),o=e.key,i=e.ref,s=e._owner;if(t!=null){if(t.ref!==void 0&&(i=t.ref,s=va.current),t.key!==void 0&&(o=""+t.key),e.type&&e.type.defaultProps)var u=e.type.defaultProps;for(c in t)$d.call(t,c)&&!Kd.hasOwnProperty(c)&&(r[c]=t[c]===void 0&&u!==void 0?u[c]:t[c])}var c=arguments.length-2;if(c===1)r.children=n;else if(1<c){u=Array(c);for(var d=0;d<c;d++)u[d]=arguments[d+2];r.children=u}return{$$typeof:Lo,type:e.type,key:o,ref:i,props:r,_owner:s}};Q.createContext=function(e){return e={$$typeof:ch,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:uh,_context:e},e.Consumer=e};Q.createElement=Wd;Q.createFactory=function(e){var t=Wd.bind(null,e);return t.type=e,t};Q.createRef=function(){return{current:null}};Q.forwardRef=function(e){return{$$typeof:dh,render:e}};Q.isValidElement=Sa;Q.lazy=function(e){return{$$typeof:mh,_payload:{_status:-1,_result:e},_init:vh}};Q.memo=function(e,t){return{$$typeof:ph,type:e,compare:t===void 0?null:t}};Q.startTransition=function(e){var t=di.transition;di.transition={};try{e()}finally{di.transition=t}};Q.unstable_act=Vd;Q.useCallback=function(e,t){return Ze.current.useCallback(e,t)};Q.useContext=function(e){return Ze.current.useContext(e)};Q.useDebugValue=function(){};Q.useDeferredValue=function(e){return Ze.current.useDeferredValue(e)};Q.useEffect=function(e,t){return Ze.current.useEffect(e,t)};Q.useId=function(){return Ze.current.useId()};Q.useImperativeHandle=function(e,t,n){return Ze.current.useImperativeHandle(e,t,n)};Q.useInsertionEffect=function(e,t){return Ze.current.useInsertionEffect(e,t)};Q.useLayoutEffect=function(e,t){return Ze.current.useLayoutEffect(e,t)};Q.useMemo=function(e,t){return Ze.current.useMemo(e,t)};Q.useReducer=function(e,t,n){return Ze.current.useReducer(e,t,n)};Q.useRef=function(e){return Ze.current.useRef(e)};Q.useState=function(e){return Ze.current.useState(e)};Q.useSyncExternalStore=function(e,t,n){return Ze.current.useSyncExternalStore(e,t,n)};Q.useTransition=function(){return Ze.current.useTransition()};Q.version="18.3.1";zd.exports=Q;var x=zd.exports;/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var xh=x,Eh=Symbol.for("react.element"),wh=Symbol.for("react.fragment"),kh=Object.prototype.hasOwnProperty,Ah=xh.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,Th={key:!0,ref:!0,__self:!0,__source:!0};function Hd(e,t,n){var r,o={},i=null,s=null;n!==void 0&&(i=""+n),t.key!==void 0&&(i=""+t.key),t.ref!==void 0&&(s=t.ref);for(r in t)kh.call(t,r)&&!Th.hasOwnProperty(r)&&(o[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps,t)o[r]===void 0&&(o[r]=t[r]);return{$$typeof:Eh,type:e,key:i,ref:s,props:o,_owner:Ah.current}}rs.Fragment=wh;rs.jsx=Hd;rs.jsxs=Hd;bd.exports=rs;var l=bd.exports,Gd={exports:{}},vt={},Xd={exports:{}},Qd={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(P,M){var U=P.length;P.push(M);e:for(;0<U;){var G=U-1>>>1,K=P[G];if(0<o(K,M))P[G]=M,P[U]=K,U=G;else break e}}function n(P){return P.length===0?null:P[0]}function r(P){if(P.length===0)return null;var M=P[0],U=P.pop();if(U!==M){P[0]=U;e:for(var G=0,K=P.length,ne=K>>>1;G<ne;){var re=2*(G+1)-1,Z=P[re],Ie=re+1,R=P[Ie];if(0>o(Z,U))Ie<K&&0>o(R,Z)?(P[G]=R,P[Ie]=U,G=Ie):(P[G]=Z,P[re]=U,G=re);else if(Ie<K&&0>o(R,U))P[G]=R,P[Ie]=U,G=Ie;else break e}}return M}function o(P,M){var U=P.sortIndex-M.sortIndex;return U!==0?U:P.id-M.id}if(typeof performance=="object"&&typeof performance.now=="function"){var i=performance;e.unstable_now=function(){return i.now()}}else{var s=Date,u=s.now();e.unstable_now=function(){return s.now()-u}}var c=[],d=[],g=1,m=null,h=3,v=!1,k=!1,w=!1,E=typeof setTimeout=="function"?setTimeout:null,p=typeof clearTimeout=="function"?clearTimeout:null,f=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function y(P){for(var M=n(d);M!==null;){if(M.callback===null)r(d);else if(M.startTime<=P)r(d),M.sortIndex=M.expirationTime,t(c,M);else break;M=n(d)}}function S(P){if(w=!1,y(P),!k)if(n(c)!==null)k=!0,_e(I);else{var M=n(d);M!==null&&q(S,M.startTime-P)}}function I(P,M){k=!1,w&&(w=!1,p(N),N=-1),v=!0;var U=h;try{for(y(M),m=n(c);m!==null&&(!(m.expirationTime>M)||P&&!H());){var G=m.callback;if(typeof G=="function"){m.callback=null,h=m.priorityLevel;var K=G(m.expirationTime<=M);M=e.unstable_now(),typeof K=="function"?m.callback=K:m===n(c)&&r(c),y(M)}else r(c);m=n(c)}if(m!==null)var ne=!0;else{var re=n(d);re!==null&&q(S,re.startTime-M),ne=!1}return ne}finally{m=null,h=U,v=!1}}var C=!1,j=null,N=-1,W=5,$=-1;function H(){return!(e.unstable_now()-$<W)}function ve(){if(j!==null){var P=e.unstable_now();$=P;var M=!0;try{M=j(!0,P)}finally{M?de():(C=!1,j=null)}}else C=!1}var de;if(typeof f=="function")de=function(){f(ve)};else if(typeof MessageChannel<"u"){var Te=new MessageChannel,Oe=Te.port2;Te.port1.onmessage=ve,de=function(){Oe.postMessage(null)}}else de=function(){E(ve,0)};function _e(P){j=P,C||(C=!0,de())}function q(P,M){N=E(function(){P(e.unstable_now())},M)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(P){P.callback=null},e.unstable_continueExecution=function(){k||v||(k=!0,_e(I))},e.unstable_forceFrameRate=function(P){0>P||125<P?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):W=0<P?Math.floor(1e3/P):5},e.unstable_getCurrentPriorityLevel=function(){return h},e.unstable_getFirstCallbackNode=function(){return n(c)},e.unstable_next=function(P){switch(h){case 1:case 2:case 3:var M=3;break;default:M=h}var U=h;h=M;try{return P()}finally{h=U}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(P,M){switch(P){case 1:case 2:case 3:case 4:case 5:break;default:P=3}var U=h;h=P;try{return M()}finally{h=U}},e.unstable_scheduleCallback=function(P,M,U){var G=e.unstable_now();switch(typeof U=="object"&&U!==null?(U=U.delay,U=typeof U=="number"&&0<U?G+U:G):U=G,P){case 1:var K=-1;break;case 2:K=250;break;case 5:K=1073741823;break;case 4:K=1e4;break;default:K=5e3}return K=U+K,P={id:g++,callback:M,priorityLevel:P,startTime:U,expirationTime:K,sortIndex:-1},U>G?(P.sortIndex=U,t(d,P),n(c)===null&&P===n(d)&&(w?(p(N),N=-1):w=!0,q(S,U-G))):(P.sortIndex=K,t(c,P),k||v||(k=!0,_e(I))),P},e.unstable_shouldYield=H,e.unstable_wrapCallback=function(P){var M=h;return function(){var U=h;h=M;try{return P.apply(this,arguments)}finally{h=U}}}})(Qd);Xd.exports=Qd;var _h=Xd.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ih=x,yt=_h;function T(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var Yd=new Set,ho={};function Jn(e,t){Ir(e,t),Ir(e+"Capture",t)}function Ir(e,t){for(ho[e]=t,e=0;e<t.length;e++)Yd.add(t[e])}var on=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),dl=Object.prototype.hasOwnProperty,Ch=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,Vu={},Hu={};function Nh(e){return dl.call(Hu,e)?!0:dl.call(Vu,e)?!1:Ch.test(e)?Hu[e]=!0:(Vu[e]=!0,!1)}function Ph(e,t,n,r){if(n!==null&&n.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function jh(e,t,n,r){if(t===null||typeof t>"u"||Ph(e,t,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function Je(e,t,n,r,o,i,s){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=r,this.attributeNamespace=o,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=i,this.removeEmptyString=s}var Be={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){Be[e]=new Je(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];Be[t]=new Je(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){Be[e]=new Je(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){Be[e]=new Je(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){Be[e]=new Je(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){Be[e]=new Je(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){Be[e]=new Je(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){Be[e]=new Je(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){Be[e]=new Je(e,5,!1,e.toLowerCase(),null,!1,!1)});var xa=/[\-:]([a-z])/g;function Ea(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(xa,Ea);Be[t]=new Je(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(xa,Ea);Be[t]=new Je(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(xa,Ea);Be[t]=new Je(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){Be[e]=new Je(e,1,!1,e.toLowerCase(),null,!1,!1)});Be.xlinkHref=new Je("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){Be[e]=new Je(e,1,!1,e.toLowerCase(),null,!0,!0)});function wa(e,t,n,r){var o=Be.hasOwnProperty(t)?Be[t]:null;(o!==null?o.type!==0:r||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(jh(t,n,o,r)&&(n=null),r||o===null?Nh(t)&&(n===null?e.removeAttribute(t):e.setAttribute(t,""+n)):o.mustUseProperty?e[o.propertyName]=n===null?o.type===3?!1:"":n:(t=o.attributeName,r=o.attributeNamespace,n===null?e.removeAttribute(t):(o=o.type,n=o===3||o===4&&n===!0?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}var cn=Ih.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Wo=Symbol.for("react.element"),sr=Symbol.for("react.portal"),lr=Symbol.for("react.fragment"),ka=Symbol.for("react.strict_mode"),fl=Symbol.for("react.profiler"),Zd=Symbol.for("react.provider"),Jd=Symbol.for("react.context"),Aa=Symbol.for("react.forward_ref"),pl=Symbol.for("react.suspense"),ml=Symbol.for("react.suspense_list"),Ta=Symbol.for("react.memo"),fn=Symbol.for("react.lazy"),qd=Symbol.for("react.offscreen"),Gu=Symbol.iterator;function Ur(e){return e===null||typeof e!="object"?null:(e=Gu&&e[Gu]||e["@@iterator"],typeof e=="function"?e:null)}var ge=Object.assign,_s;function Yr(e){if(_s===void 0)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);_s=t&&t[1]||""}return`
`+_s+e}var Is=!1;function Cs(e,t){if(!e||Is)return"";Is=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(d){var r=d}Reflect.construct(e,[],t)}else{try{t.call()}catch(d){r=d}e.call(t.prototype)}else{try{throw Error()}catch(d){r=d}e()}}catch(d){if(d&&r&&typeof d.stack=="string"){for(var o=d.stack.split(`
`),i=r.stack.split(`
`),s=o.length-1,u=i.length-1;1<=s&&0<=u&&o[s]!==i[u];)u--;for(;1<=s&&0<=u;s--,u--)if(o[s]!==i[u]){if(s!==1||u!==1)do if(s--,u--,0>u||o[s]!==i[u]){var c=`
`+o[s].replace(" at new "," at ");return e.displayName&&c.includes("<anonymous>")&&(c=c.replace("<anonymous>",e.displayName)),c}while(1<=s&&0<=u);break}}}finally{Is=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?Yr(e):""}function Rh(e){switch(e.tag){case 5:return Yr(e.type);case 16:return Yr("Lazy");case 13:return Yr("Suspense");case 19:return Yr("SuspenseList");case 0:case 2:case 15:return e=Cs(e.type,!1),e;case 11:return e=Cs(e.type.render,!1),e;case 1:return e=Cs(e.type,!0),e;default:return""}}function hl(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case lr:return"Fragment";case sr:return"Portal";case fl:return"Profiler";case ka:return"StrictMode";case pl:return"Suspense";case ml:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case Jd:return(e.displayName||"Context")+".Consumer";case Zd:return(e._context.displayName||"Context")+".Provider";case Aa:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case Ta:return t=e.displayName||null,t!==null?t:hl(e.type)||"Memo";case fn:t=e._payload,e=e._init;try{return hl(e(t))}catch{}}return null}function Oh(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return hl(t);case 8:return t===ka?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function Nn(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function ef(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function Lh(e){var t=ef(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var o=n.get,i=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return o.call(this)},set:function(s){r=""+s,i.call(this,s)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(s){r=""+s},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function Vo(e){e._valueTracker||(e._valueTracker=Lh(e))}function tf(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=ef(e)?e.checked?"true":"false":e.value),e=r,e!==n?(t.setValue(e),!0):!1}function Ai(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function gl(e,t){var n=t.checked;return ge({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??e._wrapperState.initialChecked})}function Xu(e,t){var n=t.defaultValue==null?"":t.defaultValue,r=t.checked!=null?t.checked:t.defaultChecked;n=Nn(t.value!=null?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function nf(e,t){t=t.checked,t!=null&&wa(e,"checked",t,!1)}function yl(e,t){nf(e,t);var n=Nn(t.value),r=t.type;if(n!=null)r==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if(r==="submit"||r==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?vl(e,t.type,n):t.hasOwnProperty("defaultValue")&&vl(e,t.type,Nn(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function Qu(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!(r!=="submit"&&r!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}n=e.name,n!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,n!==""&&(e.name=n)}function vl(e,t,n){(t!=="number"||Ai(e.ownerDocument)!==e)&&(n==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var Zr=Array.isArray;function xr(e,t,n,r){if(e=e.options,t){t={};for(var o=0;o<n.length;o++)t["$"+n[o]]=!0;for(n=0;n<e.length;n++)o=t.hasOwnProperty("$"+e[n].value),e[n].selected!==o&&(e[n].selected=o),o&&r&&(e[n].defaultSelected=!0)}else{for(n=""+Nn(n),t=null,o=0;o<e.length;o++){if(e[o].value===n){e[o].selected=!0,r&&(e[o].defaultSelected=!0);return}t!==null||e[o].disabled||(t=e[o])}t!==null&&(t.selected=!0)}}function Sl(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(T(91));return ge({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function Yu(e,t){var n=t.value;if(n==null){if(n=t.children,t=t.defaultValue,n!=null){if(t!=null)throw Error(T(92));if(Zr(n)){if(1<n.length)throw Error(T(93));n=n[0]}t=n}t==null&&(t=""),n=t}e._wrapperState={initialValue:Nn(n)}}function rf(e,t){var n=Nn(t.value),r=Nn(t.defaultValue);n!=null&&(n=""+n,n!==e.value&&(e.value=n),t.defaultValue==null&&e.defaultValue!==n&&(e.defaultValue=n)),r!=null&&(e.defaultValue=""+r)}function Zu(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function of(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function xl(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?of(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var Ho,sf=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,n,r,o){MSApp.execUnsafeLocalFunction(function(){return e(t,n,r,o)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(Ho=Ho||document.createElement("div"),Ho.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=Ho.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function go(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&n.nodeType===3){n.nodeValue=t;return}}e.textContent=t}var eo={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Dh=["Webkit","ms","Moz","O"];Object.keys(eo).forEach(function(e){Dh.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),eo[t]=eo[e]})});function lf(e,t,n){return t==null||typeof t=="boolean"||t===""?"":n||typeof t!="number"||t===0||eo.hasOwnProperty(e)&&eo[e]?(""+t).trim():t+"px"}function af(e,t){e=e.style;for(var n in t)if(t.hasOwnProperty(n)){var r=n.indexOf("--")===0,o=lf(n,t[n],r);n==="float"&&(n="cssFloat"),r?e.setProperty(n,o):e[n]=o}}var bh=ge({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function El(e,t){if(t){if(bh[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(T(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(T(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(T(61))}if(t.style!=null&&typeof t.style!="object")throw Error(T(62))}}function wl(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var kl=null;function _a(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Al=null,Er=null,wr=null;function Ju(e){if(e=zo(e)){if(typeof Al!="function")throw Error(T(280));var t=e.stateNode;t&&(t=as(t),Al(e.stateNode,e.type,t))}}function uf(e){Er?wr?wr.push(e):wr=[e]:Er=e}function cf(){if(Er){var e=Er,t=wr;if(wr=Er=null,Ju(e),t)for(e=0;e<t.length;e++)Ju(t[e])}}function df(e,t){return e(t)}function ff(){}var Ns=!1;function pf(e,t,n){if(Ns)return e(t,n);Ns=!0;try{return df(e,t,n)}finally{Ns=!1,(Er!==null||wr!==null)&&(ff(),cf())}}function yo(e,t){var n=e.stateNode;if(n===null)return null;var r=as(n);if(r===null)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(e=e.type,r=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!r;break e;default:e=!1}if(e)return null;if(n&&typeof n!="function")throw Error(T(231,t,typeof n));return n}var Tl=!1;if(on)try{var Br={};Object.defineProperty(Br,"passive",{get:function(){Tl=!0}}),window.addEventListener("test",Br,Br),window.removeEventListener("test",Br,Br)}catch{Tl=!1}function zh(e,t,n,r,o,i,s,u,c){var d=Array.prototype.slice.call(arguments,3);try{t.apply(n,d)}catch(g){this.onError(g)}}var to=!1,Ti=null,_i=!1,_l=null,Mh={onError:function(e){to=!0,Ti=e}};function Fh(e,t,n,r,o,i,s,u,c){to=!1,Ti=null,zh.apply(Mh,arguments)}function Uh(e,t,n,r,o,i,s,u,c){if(Fh.apply(this,arguments),to){if(to){var d=Ti;to=!1,Ti=null}else throw Error(T(198));_i||(_i=!0,_l=d)}}function qn(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(n=t.return),e=t.return;while(e)}return t.tag===3?n:null}function mf(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function qu(e){if(qn(e)!==e)throw Error(T(188))}function Bh(e){var t=e.alternate;if(!t){if(t=qn(e),t===null)throw Error(T(188));return t!==e?null:e}for(var n=e,r=t;;){var o=n.return;if(o===null)break;var i=o.alternate;if(i===null){if(r=o.return,r!==null){n=r;continue}break}if(o.child===i.child){for(i=o.child;i;){if(i===n)return qu(o),e;if(i===r)return qu(o),t;i=i.sibling}throw Error(T(188))}if(n.return!==r.return)n=o,r=i;else{for(var s=!1,u=o.child;u;){if(u===n){s=!0,n=o,r=i;break}if(u===r){s=!0,r=o,n=i;break}u=u.sibling}if(!s){for(u=i.child;u;){if(u===n){s=!0,n=i,r=o;break}if(u===r){s=!0,r=i,n=o;break}u=u.sibling}if(!s)throw Error(T(189))}}if(n.alternate!==r)throw Error(T(190))}if(n.tag!==3)throw Error(T(188));return n.stateNode.current===n?e:t}function hf(e){return e=Bh(e),e!==null?gf(e):null}function gf(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=gf(e);if(t!==null)return t;e=e.sibling}return null}var yf=yt.unstable_scheduleCallback,ec=yt.unstable_cancelCallback,$h=yt.unstable_shouldYield,Kh=yt.unstable_requestPaint,Ae=yt.unstable_now,Wh=yt.unstable_getCurrentPriorityLevel,Ia=yt.unstable_ImmediatePriority,vf=yt.unstable_UserBlockingPriority,Ii=yt.unstable_NormalPriority,Vh=yt.unstable_LowPriority,Sf=yt.unstable_IdlePriority,os=null,Xt=null;function Hh(e){if(Xt&&typeof Xt.onCommitFiberRoot=="function")try{Xt.onCommitFiberRoot(os,e,void 0,(e.current.flags&128)===128)}catch{}}var Ut=Math.clz32?Math.clz32:Qh,Gh=Math.log,Xh=Math.LN2;function Qh(e){return e>>>=0,e===0?32:31-(Gh(e)/Xh|0)|0}var Go=64,Xo=4194304;function Jr(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function Ci(e,t){var n=e.pendingLanes;if(n===0)return 0;var r=0,o=e.suspendedLanes,i=e.pingedLanes,s=n&268435455;if(s!==0){var u=s&~o;u!==0?r=Jr(u):(i&=s,i!==0&&(r=Jr(i)))}else s=n&~o,s!==0?r=Jr(s):i!==0&&(r=Jr(i));if(r===0)return 0;if(t!==0&&t!==r&&!(t&o)&&(o=r&-r,i=t&-t,o>=i||o===16&&(i&4194240)!==0))return t;if(r&4&&(r|=n&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=r;0<t;)n=31-Ut(t),o=1<<n,r|=e[n],t&=~o;return r}function Yh(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Zh(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,o=e.expirationTimes,i=e.pendingLanes;0<i;){var s=31-Ut(i),u=1<<s,c=o[s];c===-1?(!(u&n)||u&r)&&(o[s]=Yh(u,t)):c<=t&&(e.expiredLanes|=u),i&=~u}}function Il(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function xf(){var e=Go;return Go<<=1,!(Go&4194240)&&(Go=64),e}function Ps(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function Do(e,t,n){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-Ut(t),e[t]=n}function Jh(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var o=31-Ut(n),i=1<<o;t[o]=0,r[o]=-1,e[o]=-1,n&=~i}}function Ca(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-Ut(n),o=1<<r;o&t|e[r]&t&&(e[r]|=t),n&=~o}}var oe=0;function Ef(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var wf,Na,kf,Af,Tf,Cl=!1,Qo=[],En=null,wn=null,kn=null,vo=new Map,So=new Map,mn=[],qh="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function tc(e,t){switch(e){case"focusin":case"focusout":En=null;break;case"dragenter":case"dragleave":wn=null;break;case"mouseover":case"mouseout":kn=null;break;case"pointerover":case"pointerout":vo.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":So.delete(t.pointerId)}}function $r(e,t,n,r,o,i){return e===null||e.nativeEvent!==i?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:i,targetContainers:[o]},t!==null&&(t=zo(t),t!==null&&Na(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,o!==null&&t.indexOf(o)===-1&&t.push(o),e)}function eg(e,t,n,r,o){switch(t){case"focusin":return En=$r(En,e,t,n,r,o),!0;case"dragenter":return wn=$r(wn,e,t,n,r,o),!0;case"mouseover":return kn=$r(kn,e,t,n,r,o),!0;case"pointerover":var i=o.pointerId;return vo.set(i,$r(vo.get(i)||null,e,t,n,r,o)),!0;case"gotpointercapture":return i=o.pointerId,So.set(i,$r(So.get(i)||null,e,t,n,r,o)),!0}return!1}function _f(e){var t=zn(e.target);if(t!==null){var n=qn(t);if(n!==null){if(t=n.tag,t===13){if(t=mf(n),t!==null){e.blockedOn=t,Tf(e.priority,function(){kf(n)});return}}else if(t===3&&n.stateNode.current.memoizedState.isDehydrated){e.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}e.blockedOn=null}function fi(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var n=Nl(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(n===null){n=e.nativeEvent;var r=new n.constructor(n.type,n);kl=r,n.target.dispatchEvent(r),kl=null}else return t=zo(n),t!==null&&Na(t),e.blockedOn=n,!1;t.shift()}return!0}function nc(e,t,n){fi(e)&&n.delete(t)}function tg(){Cl=!1,En!==null&&fi(En)&&(En=null),wn!==null&&fi(wn)&&(wn=null),kn!==null&&fi(kn)&&(kn=null),vo.forEach(nc),So.forEach(nc)}function Kr(e,t){e.blockedOn===t&&(e.blockedOn=null,Cl||(Cl=!0,yt.unstable_scheduleCallback(yt.unstable_NormalPriority,tg)))}function xo(e){function t(o){return Kr(o,e)}if(0<Qo.length){Kr(Qo[0],e);for(var n=1;n<Qo.length;n++){var r=Qo[n];r.blockedOn===e&&(r.blockedOn=null)}}for(En!==null&&Kr(En,e),wn!==null&&Kr(wn,e),kn!==null&&Kr(kn,e),vo.forEach(t),So.forEach(t),n=0;n<mn.length;n++)r=mn[n],r.blockedOn===e&&(r.blockedOn=null);for(;0<mn.length&&(n=mn[0],n.blockedOn===null);)_f(n),n.blockedOn===null&&mn.shift()}var kr=cn.ReactCurrentBatchConfig,Ni=!0;function ng(e,t,n,r){var o=oe,i=kr.transition;kr.transition=null;try{oe=1,Pa(e,t,n,r)}finally{oe=o,kr.transition=i}}function rg(e,t,n,r){var o=oe,i=kr.transition;kr.transition=null;try{oe=4,Pa(e,t,n,r)}finally{oe=o,kr.transition=i}}function Pa(e,t,n,r){if(Ni){var o=Nl(e,t,n,r);if(o===null)Us(e,t,r,Pi,n),tc(e,r);else if(eg(o,e,t,n,r))r.stopPropagation();else if(tc(e,r),t&4&&-1<qh.indexOf(e)){for(;o!==null;){var i=zo(o);if(i!==null&&wf(i),i=Nl(e,t,n,r),i===null&&Us(e,t,r,Pi,n),i===o)break;o=i}o!==null&&r.stopPropagation()}else Us(e,t,r,null,n)}}var Pi=null;function Nl(e,t,n,r){if(Pi=null,e=_a(r),e=zn(e),e!==null)if(t=qn(e),t===null)e=null;else if(n=t.tag,n===13){if(e=mf(t),e!==null)return e;e=null}else if(n===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Pi=e,null}function If(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Wh()){case Ia:return 1;case vf:return 4;case Ii:case Vh:return 16;case Sf:return 536870912;default:return 16}default:return 16}}var yn=null,ja=null,pi=null;function Cf(){if(pi)return pi;var e,t=ja,n=t.length,r,o="value"in yn?yn.value:yn.textContent,i=o.length;for(e=0;e<n&&t[e]===o[e];e++);var s=n-e;for(r=1;r<=s&&t[n-r]===o[i-r];r++);return pi=o.slice(e,1<r?1-r:void 0)}function mi(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function Yo(){return!0}function rc(){return!1}function St(e){function t(n,r,o,i,s){this._reactName=n,this._targetInst=o,this.type=r,this.nativeEvent=i,this.target=s,this.currentTarget=null;for(var u in e)e.hasOwnProperty(u)&&(n=e[u],this[u]=n?n(i):i[u]);return this.isDefaultPrevented=(i.defaultPrevented!=null?i.defaultPrevented:i.returnValue===!1)?Yo:rc,this.isPropagationStopped=rc,this}return ge(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=Yo)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=Yo)},persist:function(){},isPersistent:Yo}),t}var zr={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Ra=St(zr),bo=ge({},zr,{view:0,detail:0}),og=St(bo),js,Rs,Wr,is=ge({},bo,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Oa,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Wr&&(Wr&&e.type==="mousemove"?(js=e.screenX-Wr.screenX,Rs=e.screenY-Wr.screenY):Rs=js=0,Wr=e),js)},movementY:function(e){return"movementY"in e?e.movementY:Rs}}),oc=St(is),ig=ge({},is,{dataTransfer:0}),sg=St(ig),lg=ge({},bo,{relatedTarget:0}),Os=St(lg),ag=ge({},zr,{animationName:0,elapsedTime:0,pseudoElement:0}),ug=St(ag),cg=ge({},zr,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),dg=St(cg),fg=ge({},zr,{data:0}),ic=St(fg),pg={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},mg={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},hg={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function gg(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=hg[e])?!!t[e]:!1}function Oa(){return gg}var yg=ge({},bo,{key:function(e){if(e.key){var t=pg[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=mi(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?mg[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Oa,charCode:function(e){return e.type==="keypress"?mi(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?mi(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),vg=St(yg),Sg=ge({},is,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),sc=St(Sg),xg=ge({},bo,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Oa}),Eg=St(xg),wg=ge({},zr,{propertyName:0,elapsedTime:0,pseudoElement:0}),kg=St(wg),Ag=ge({},is,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Tg=St(Ag),_g=[9,13,27,32],La=on&&"CompositionEvent"in window,no=null;on&&"documentMode"in document&&(no=document.documentMode);var Ig=on&&"TextEvent"in window&&!no,Nf=on&&(!La||no&&8<no&&11>=no),lc=" ",ac=!1;function Pf(e,t){switch(e){case"keyup":return _g.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function jf(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var ar=!1;function Cg(e,t){switch(e){case"compositionend":return jf(t);case"keypress":return t.which!==32?null:(ac=!0,lc);case"textInput":return e=t.data,e===lc&&ac?null:e;default:return null}}function Ng(e,t){if(ar)return e==="compositionend"||!La&&Pf(e,t)?(e=Cf(),pi=ja=yn=null,ar=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Nf&&t.locale!=="ko"?null:t.data;default:return null}}var Pg={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function uc(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!Pg[e.type]:t==="textarea"}function Rf(e,t,n,r){uf(r),t=ji(t,"onChange"),0<t.length&&(n=new Ra("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var ro=null,Eo=null;function jg(e){Kf(e,0)}function ss(e){var t=dr(e);if(tf(t))return e}function Rg(e,t){if(e==="change")return t}var Of=!1;if(on){var Ls;if(on){var Ds="oninput"in document;if(!Ds){var cc=document.createElement("div");cc.setAttribute("oninput","return;"),Ds=typeof cc.oninput=="function"}Ls=Ds}else Ls=!1;Of=Ls&&(!document.documentMode||9<document.documentMode)}function dc(){ro&&(ro.detachEvent("onpropertychange",Lf),Eo=ro=null)}function Lf(e){if(e.propertyName==="value"&&ss(Eo)){var t=[];Rf(t,Eo,e,_a(e)),pf(jg,t)}}function Og(e,t,n){e==="focusin"?(dc(),ro=t,Eo=n,ro.attachEvent("onpropertychange",Lf)):e==="focusout"&&dc()}function Lg(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return ss(Eo)}function Dg(e,t){if(e==="click")return ss(t)}function bg(e,t){if(e==="input"||e==="change")return ss(t)}function zg(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var $t=typeof Object.is=="function"?Object.is:zg;function wo(e,t){if($t(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var o=n[r];if(!dl.call(t,o)||!$t(e[o],t[o]))return!1}return!0}function fc(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function pc(e,t){var n=fc(e);e=0;for(var r;n;){if(n.nodeType===3){if(r=e+n.textContent.length,e<=t&&r>=t)return{node:n,offset:t-e};e=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=fc(n)}}function Df(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?Df(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function bf(){for(var e=window,t=Ai();t instanceof e.HTMLIFrameElement;){try{var n=typeof t.contentWindow.location.href=="string"}catch{n=!1}if(n)e=t.contentWindow;else break;t=Ai(e.document)}return t}function Da(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function Mg(e){var t=bf(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&Df(n.ownerDocument.documentElement,n)){if(r!==null&&Da(n)){if(t=r.start,e=r.end,e===void 0&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if(e=(t=n.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var o=n.textContent.length,i=Math.min(r.start,o);r=r.end===void 0?i:Math.min(r.end,o),!e.extend&&i>r&&(o=r,r=i,i=o),o=pc(n,i);var s=pc(n,r);o&&s&&(e.rangeCount!==1||e.anchorNode!==o.node||e.anchorOffset!==o.offset||e.focusNode!==s.node||e.focusOffset!==s.offset)&&(t=t.createRange(),t.setStart(o.node,o.offset),e.removeAllRanges(),i>r?(e.addRange(t),e.extend(s.node,s.offset)):(t.setEnd(s.node,s.offset),e.addRange(t)))}}for(t=[],e=n;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<t.length;n++)e=t[n],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var Fg=on&&"documentMode"in document&&11>=document.documentMode,ur=null,Pl=null,oo=null,jl=!1;function mc(e,t,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;jl||ur==null||ur!==Ai(r)||(r=ur,"selectionStart"in r&&Da(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),oo&&wo(oo,r)||(oo=r,r=ji(Pl,"onSelect"),0<r.length&&(t=new Ra("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=ur)))}function Zo(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var cr={animationend:Zo("Animation","AnimationEnd"),animationiteration:Zo("Animation","AnimationIteration"),animationstart:Zo("Animation","AnimationStart"),transitionend:Zo("Transition","TransitionEnd")},bs={},zf={};on&&(zf=document.createElement("div").style,"AnimationEvent"in window||(delete cr.animationend.animation,delete cr.animationiteration.animation,delete cr.animationstart.animation),"TransitionEvent"in window||delete cr.transitionend.transition);function ls(e){if(bs[e])return bs[e];if(!cr[e])return e;var t=cr[e],n;for(n in t)if(t.hasOwnProperty(n)&&n in zf)return bs[e]=t[n];return e}var Mf=ls("animationend"),Ff=ls("animationiteration"),Uf=ls("animationstart"),Bf=ls("transitionend"),$f=new Map,hc="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function jn(e,t){$f.set(e,t),Jn(t,[e])}for(var zs=0;zs<hc.length;zs++){var Ms=hc[zs],Ug=Ms.toLowerCase(),Bg=Ms[0].toUpperCase()+Ms.slice(1);jn(Ug,"on"+Bg)}jn(Mf,"onAnimationEnd");jn(Ff,"onAnimationIteration");jn(Uf,"onAnimationStart");jn("dblclick","onDoubleClick");jn("focusin","onFocus");jn("focusout","onBlur");jn(Bf,"onTransitionEnd");Ir("onMouseEnter",["mouseout","mouseover"]);Ir("onMouseLeave",["mouseout","mouseover"]);Ir("onPointerEnter",["pointerout","pointerover"]);Ir("onPointerLeave",["pointerout","pointerover"]);Jn("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Jn("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Jn("onBeforeInput",["compositionend","keypress","textInput","paste"]);Jn("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Jn("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Jn("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var qr="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),$g=new Set("cancel close invalid load scroll toggle".split(" ").concat(qr));function gc(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,Uh(r,t,void 0,e),e.currentTarget=null}function Kf(e,t){t=(t&4)!==0;for(var n=0;n<e.length;n++){var r=e[n],o=r.event;r=r.listeners;e:{var i=void 0;if(t)for(var s=r.length-1;0<=s;s--){var u=r[s],c=u.instance,d=u.currentTarget;if(u=u.listener,c!==i&&o.isPropagationStopped())break e;gc(o,u,d),i=c}else for(s=0;s<r.length;s++){if(u=r[s],c=u.instance,d=u.currentTarget,u=u.listener,c!==i&&o.isPropagationStopped())break e;gc(o,u,d),i=c}}}if(_i)throw e=_l,_i=!1,_l=null,e}function ue(e,t){var n=t[bl];n===void 0&&(n=t[bl]=new Set);var r=e+"__bubble";n.has(r)||(Wf(t,e,2,!1),n.add(r))}function Fs(e,t,n){var r=0;t&&(r|=4),Wf(n,e,r,t)}var Jo="_reactListening"+Math.random().toString(36).slice(2);function ko(e){if(!e[Jo]){e[Jo]=!0,Yd.forEach(function(n){n!=="selectionchange"&&($g.has(n)||Fs(n,!1,e),Fs(n,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[Jo]||(t[Jo]=!0,Fs("selectionchange",!1,t))}}function Wf(e,t,n,r){switch(If(t)){case 1:var o=ng;break;case 4:o=rg;break;default:o=Pa}n=o.bind(null,t,n,e),o=void 0,!Tl||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(o=!0),r?o!==void 0?e.addEventListener(t,n,{capture:!0,passive:o}):e.addEventListener(t,n,!0):o!==void 0?e.addEventListener(t,n,{passive:o}):e.addEventListener(t,n,!1)}function Us(e,t,n,r,o){var i=r;if(!(t&1)&&!(t&2)&&r!==null)e:for(;;){if(r===null)return;var s=r.tag;if(s===3||s===4){var u=r.stateNode.containerInfo;if(u===o||u.nodeType===8&&u.parentNode===o)break;if(s===4)for(s=r.return;s!==null;){var c=s.tag;if((c===3||c===4)&&(c=s.stateNode.containerInfo,c===o||c.nodeType===8&&c.parentNode===o))return;s=s.return}for(;u!==null;){if(s=zn(u),s===null)return;if(c=s.tag,c===5||c===6){r=i=s;continue e}u=u.parentNode}}r=r.return}pf(function(){var d=i,g=_a(n),m=[];e:{var h=$f.get(e);if(h!==void 0){var v=Ra,k=e;switch(e){case"keypress":if(mi(n)===0)break e;case"keydown":case"keyup":v=vg;break;case"focusin":k="focus",v=Os;break;case"focusout":k="blur",v=Os;break;case"beforeblur":case"afterblur":v=Os;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":v=oc;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":v=sg;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":v=Eg;break;case Mf:case Ff:case Uf:v=ug;break;case Bf:v=kg;break;case"scroll":v=og;break;case"wheel":v=Tg;break;case"copy":case"cut":case"paste":v=dg;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":v=sc}var w=(t&4)!==0,E=!w&&e==="scroll",p=w?h!==null?h+"Capture":null:h;w=[];for(var f=d,y;f!==null;){y=f;var S=y.stateNode;if(y.tag===5&&S!==null&&(y=S,p!==null&&(S=yo(f,p),S!=null&&w.push(Ao(f,S,y)))),E)break;f=f.return}0<w.length&&(h=new v(h,k,null,n,g),m.push({event:h,listeners:w}))}}if(!(t&7)){e:{if(h=e==="mouseover"||e==="pointerover",v=e==="mouseout"||e==="pointerout",h&&n!==kl&&(k=n.relatedTarget||n.fromElement)&&(zn(k)||k[sn]))break e;if((v||h)&&(h=g.window===g?g:(h=g.ownerDocument)?h.defaultView||h.parentWindow:window,v?(k=n.relatedTarget||n.toElement,v=d,k=k?zn(k):null,k!==null&&(E=qn(k),k!==E||k.tag!==5&&k.tag!==6)&&(k=null)):(v=null,k=d),v!==k)){if(w=oc,S="onMouseLeave",p="onMouseEnter",f="mouse",(e==="pointerout"||e==="pointerover")&&(w=sc,S="onPointerLeave",p="onPointerEnter",f="pointer"),E=v==null?h:dr(v),y=k==null?h:dr(k),h=new w(S,f+"leave",v,n,g),h.target=E,h.relatedTarget=y,S=null,zn(g)===d&&(w=new w(p,f+"enter",k,n,g),w.target=y,w.relatedTarget=E,S=w),E=S,v&&k)t:{for(w=v,p=k,f=0,y=w;y;y=nr(y))f++;for(y=0,S=p;S;S=nr(S))y++;for(;0<f-y;)w=nr(w),f--;for(;0<y-f;)p=nr(p),y--;for(;f--;){if(w===p||p!==null&&w===p.alternate)break t;w=nr(w),p=nr(p)}w=null}else w=null;v!==null&&yc(m,h,v,w,!1),k!==null&&E!==null&&yc(m,E,k,w,!0)}}e:{if(h=d?dr(d):window,v=h.nodeName&&h.nodeName.toLowerCase(),v==="select"||v==="input"&&h.type==="file")var I=Rg;else if(uc(h))if(Of)I=bg;else{I=Lg;var C=Og}else(v=h.nodeName)&&v.toLowerCase()==="input"&&(h.type==="checkbox"||h.type==="radio")&&(I=Dg);if(I&&(I=I(e,d))){Rf(m,I,n,g);break e}C&&C(e,h,d),e==="focusout"&&(C=h._wrapperState)&&C.controlled&&h.type==="number"&&vl(h,"number",h.value)}switch(C=d?dr(d):window,e){case"focusin":(uc(C)||C.contentEditable==="true")&&(ur=C,Pl=d,oo=null);break;case"focusout":oo=Pl=ur=null;break;case"mousedown":jl=!0;break;case"contextmenu":case"mouseup":case"dragend":jl=!1,mc(m,n,g);break;case"selectionchange":if(Fg)break;case"keydown":case"keyup":mc(m,n,g)}var j;if(La)e:{switch(e){case"compositionstart":var N="onCompositionStart";break e;case"compositionend":N="onCompositionEnd";break e;case"compositionupdate":N="onCompositionUpdate";break e}N=void 0}else ar?Pf(e,n)&&(N="onCompositionEnd"):e==="keydown"&&n.keyCode===229&&(N="onCompositionStart");N&&(Nf&&n.locale!=="ko"&&(ar||N!=="onCompositionStart"?N==="onCompositionEnd"&&ar&&(j=Cf()):(yn=g,ja="value"in yn?yn.value:yn.textContent,ar=!0)),C=ji(d,N),0<C.length&&(N=new ic(N,e,null,n,g),m.push({event:N,listeners:C}),j?N.data=j:(j=jf(n),j!==null&&(N.data=j)))),(j=Ig?Cg(e,n):Ng(e,n))&&(d=ji(d,"onBeforeInput"),0<d.length&&(g=new ic("onBeforeInput","beforeinput",null,n,g),m.push({event:g,listeners:d}),g.data=j))}Kf(m,t)})}function Ao(e,t,n){return{instance:e,listener:t,currentTarget:n}}function ji(e,t){for(var n=t+"Capture",r=[];e!==null;){var o=e,i=o.stateNode;o.tag===5&&i!==null&&(o=i,i=yo(e,n),i!=null&&r.unshift(Ao(e,i,o)),i=yo(e,t),i!=null&&r.push(Ao(e,i,o))),e=e.return}return r}function nr(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function yc(e,t,n,r,o){for(var i=t._reactName,s=[];n!==null&&n!==r;){var u=n,c=u.alternate,d=u.stateNode;if(c!==null&&c===r)break;u.tag===5&&d!==null&&(u=d,o?(c=yo(n,i),c!=null&&s.unshift(Ao(n,c,u))):o||(c=yo(n,i),c!=null&&s.push(Ao(n,c,u)))),n=n.return}s.length!==0&&e.push({event:t,listeners:s})}var Kg=/\r\n?/g,Wg=/\u0000|\uFFFD/g;function vc(e){return(typeof e=="string"?e:""+e).replace(Kg,`
`).replace(Wg,"")}function qo(e,t,n){if(t=vc(t),vc(e)!==t&&n)throw Error(T(425))}function Ri(){}var Rl=null,Ol=null;function Ll(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var Dl=typeof setTimeout=="function"?setTimeout:void 0,Vg=typeof clearTimeout=="function"?clearTimeout:void 0,Sc=typeof Promise=="function"?Promise:void 0,Hg=typeof queueMicrotask=="function"?queueMicrotask:typeof Sc<"u"?function(e){return Sc.resolve(null).then(e).catch(Gg)}:Dl;function Gg(e){setTimeout(function(){throw e})}function Bs(e,t){var n=t,r=0;do{var o=n.nextSibling;if(e.removeChild(n),o&&o.nodeType===8)if(n=o.data,n==="/$"){if(r===0){e.removeChild(o),xo(t);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=o}while(n);xo(t)}function An(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function xc(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="$"||n==="$!"||n==="$?"){if(t===0)return e;t--}else n==="/$"&&t++}e=e.previousSibling}return null}var Mr=Math.random().toString(36).slice(2),Ht="__reactFiber$"+Mr,To="__reactProps$"+Mr,sn="__reactContainer$"+Mr,bl="__reactEvents$"+Mr,Xg="__reactListeners$"+Mr,Qg="__reactHandles$"+Mr;function zn(e){var t=e[Ht];if(t)return t;for(var n=e.parentNode;n;){if(t=n[sn]||n[Ht]){if(n=t.alternate,t.child!==null||n!==null&&n.child!==null)for(e=xc(e);e!==null;){if(n=e[Ht])return n;e=xc(e)}return t}e=n,n=e.parentNode}return null}function zo(e){return e=e[Ht]||e[sn],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function dr(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(T(33))}function as(e){return e[To]||null}var zl=[],fr=-1;function Rn(e){return{current:e}}function ce(e){0>fr||(e.current=zl[fr],zl[fr]=null,fr--)}function le(e,t){fr++,zl[fr]=e.current,e.current=t}var Pn={},Ge=Rn(Pn),ot=Rn(!1),Hn=Pn;function Cr(e,t){var n=e.type.contextTypes;if(!n)return Pn;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var o={},i;for(i in n)o[i]=t[i];return r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=o),o}function it(e){return e=e.childContextTypes,e!=null}function Oi(){ce(ot),ce(Ge)}function Ec(e,t,n){if(Ge.current!==Pn)throw Error(T(168));le(Ge,t),le(ot,n)}function Vf(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var o in r)if(!(o in t))throw Error(T(108,Oh(e)||"Unknown",o));return ge({},n,r)}function Li(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Pn,Hn=Ge.current,le(Ge,e),le(ot,ot.current),!0}function wc(e,t,n){var r=e.stateNode;if(!r)throw Error(T(169));n?(e=Vf(e,t,Hn),r.__reactInternalMemoizedMergedChildContext=e,ce(ot),ce(Ge),le(Ge,e)):ce(ot),le(ot,n)}var qt=null,us=!1,$s=!1;function Hf(e){qt===null?qt=[e]:qt.push(e)}function Yg(e){us=!0,Hf(e)}function On(){if(!$s&&qt!==null){$s=!0;var e=0,t=oe;try{var n=qt;for(oe=1;e<n.length;e++){var r=n[e];do r=r(!0);while(r!==null)}qt=null,us=!1}catch(o){throw qt!==null&&(qt=qt.slice(e+1)),yf(Ia,On),o}finally{oe=t,$s=!1}}return null}var pr=[],mr=0,Di=null,bi=0,Tt=[],_t=0,Gn=null,en=1,tn="";function Dn(e,t){pr[mr++]=bi,pr[mr++]=Di,Di=e,bi=t}function Gf(e,t,n){Tt[_t++]=en,Tt[_t++]=tn,Tt[_t++]=Gn,Gn=e;var r=en;e=tn;var o=32-Ut(r)-1;r&=~(1<<o),n+=1;var i=32-Ut(t)+o;if(30<i){var s=o-o%5;i=(r&(1<<s)-1).toString(32),r>>=s,o-=s,en=1<<32-Ut(t)+o|n<<o|r,tn=i+e}else en=1<<i|n<<o|r,tn=e}function ba(e){e.return!==null&&(Dn(e,1),Gf(e,1,0))}function za(e){for(;e===Di;)Di=pr[--mr],pr[mr]=null,bi=pr[--mr],pr[mr]=null;for(;e===Gn;)Gn=Tt[--_t],Tt[_t]=null,tn=Tt[--_t],Tt[_t]=null,en=Tt[--_t],Tt[_t]=null}var gt=null,ht=null,fe=!1,Ft=null;function Xf(e,t){var n=Ct(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,t=e.deletions,t===null?(e.deletions=[n],e.flags|=16):t.push(n)}function kc(e,t){switch(e.tag){case 5:var n=e.type;return t=t.nodeType!==1||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,gt=e,ht=An(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,gt=e,ht=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(n=Gn!==null?{id:en,overflow:tn}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},n=Ct(18,null,null,0),n.stateNode=t,n.return=e,e.child=n,gt=e,ht=null,!0):!1;default:return!1}}function Ml(e){return(e.mode&1)!==0&&(e.flags&128)===0}function Fl(e){if(fe){var t=ht;if(t){var n=t;if(!kc(e,t)){if(Ml(e))throw Error(T(418));t=An(n.nextSibling);var r=gt;t&&kc(e,t)?Xf(r,n):(e.flags=e.flags&-4097|2,fe=!1,gt=e)}}else{if(Ml(e))throw Error(T(418));e.flags=e.flags&-4097|2,fe=!1,gt=e}}}function Ac(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;gt=e}function ei(e){if(e!==gt)return!1;if(!fe)return Ac(e),fe=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!Ll(e.type,e.memoizedProps)),t&&(t=ht)){if(Ml(e))throw Qf(),Error(T(418));for(;t;)Xf(e,t),t=An(t.nextSibling)}if(Ac(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(T(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="/$"){if(t===0){ht=An(e.nextSibling);break e}t--}else n!=="$"&&n!=="$!"&&n!=="$?"||t++}e=e.nextSibling}ht=null}}else ht=gt?An(e.stateNode.nextSibling):null;return!0}function Qf(){for(var e=ht;e;)e=An(e.nextSibling)}function Nr(){ht=gt=null,fe=!1}function Ma(e){Ft===null?Ft=[e]:Ft.push(e)}var Zg=cn.ReactCurrentBatchConfig;function Vr(e,t,n){if(e=n.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(T(309));var r=n.stateNode}if(!r)throw Error(T(147,e));var o=r,i=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===i?t.ref:(t=function(s){var u=o.refs;s===null?delete u[i]:u[i]=s},t._stringRef=i,t)}if(typeof e!="string")throw Error(T(284));if(!n._owner)throw Error(T(290,e))}return e}function ti(e,t){throw e=Object.prototype.toString.call(t),Error(T(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function Tc(e){var t=e._init;return t(e._payload)}function Yf(e){function t(p,f){if(e){var y=p.deletions;y===null?(p.deletions=[f],p.flags|=16):y.push(f)}}function n(p,f){if(!e)return null;for(;f!==null;)t(p,f),f=f.sibling;return null}function r(p,f){for(p=new Map;f!==null;)f.key!==null?p.set(f.key,f):p.set(f.index,f),f=f.sibling;return p}function o(p,f){return p=Cn(p,f),p.index=0,p.sibling=null,p}function i(p,f,y){return p.index=y,e?(y=p.alternate,y!==null?(y=y.index,y<f?(p.flags|=2,f):y):(p.flags|=2,f)):(p.flags|=1048576,f)}function s(p){return e&&p.alternate===null&&(p.flags|=2),p}function u(p,f,y,S){return f===null||f.tag!==6?(f=Qs(y,p.mode,S),f.return=p,f):(f=o(f,y),f.return=p,f)}function c(p,f,y,S){var I=y.type;return I===lr?g(p,f,y.props.children,S,y.key):f!==null&&(f.elementType===I||typeof I=="object"&&I!==null&&I.$$typeof===fn&&Tc(I)===f.type)?(S=o(f,y.props),S.ref=Vr(p,f,y),S.return=p,S):(S=Ei(y.type,y.key,y.props,null,p.mode,S),S.ref=Vr(p,f,y),S.return=p,S)}function d(p,f,y,S){return f===null||f.tag!==4||f.stateNode.containerInfo!==y.containerInfo||f.stateNode.implementation!==y.implementation?(f=Ys(y,p.mode,S),f.return=p,f):(f=o(f,y.children||[]),f.return=p,f)}function g(p,f,y,S,I){return f===null||f.tag!==7?(f=Wn(y,p.mode,S,I),f.return=p,f):(f=o(f,y),f.return=p,f)}function m(p,f,y){if(typeof f=="string"&&f!==""||typeof f=="number")return f=Qs(""+f,p.mode,y),f.return=p,f;if(typeof f=="object"&&f!==null){switch(f.$$typeof){case Wo:return y=Ei(f.type,f.key,f.props,null,p.mode,y),y.ref=Vr(p,null,f),y.return=p,y;case sr:return f=Ys(f,p.mode,y),f.return=p,f;case fn:var S=f._init;return m(p,S(f._payload),y)}if(Zr(f)||Ur(f))return f=Wn(f,p.mode,y,null),f.return=p,f;ti(p,f)}return null}function h(p,f,y,S){var I=f!==null?f.key:null;if(typeof y=="string"&&y!==""||typeof y=="number")return I!==null?null:u(p,f,""+y,S);if(typeof y=="object"&&y!==null){switch(y.$$typeof){case Wo:return y.key===I?c(p,f,y,S):null;case sr:return y.key===I?d(p,f,y,S):null;case fn:return I=y._init,h(p,f,I(y._payload),S)}if(Zr(y)||Ur(y))return I!==null?null:g(p,f,y,S,null);ti(p,y)}return null}function v(p,f,y,S,I){if(typeof S=="string"&&S!==""||typeof S=="number")return p=p.get(y)||null,u(f,p,""+S,I);if(typeof S=="object"&&S!==null){switch(S.$$typeof){case Wo:return p=p.get(S.key===null?y:S.key)||null,c(f,p,S,I);case sr:return p=p.get(S.key===null?y:S.key)||null,d(f,p,S,I);case fn:var C=S._init;return v(p,f,y,C(S._payload),I)}if(Zr(S)||Ur(S))return p=p.get(y)||null,g(f,p,S,I,null);ti(f,S)}return null}function k(p,f,y,S){for(var I=null,C=null,j=f,N=f=0,W=null;j!==null&&N<y.length;N++){j.index>N?(W=j,j=null):W=j.sibling;var $=h(p,j,y[N],S);if($===null){j===null&&(j=W);break}e&&j&&$.alternate===null&&t(p,j),f=i($,f,N),C===null?I=$:C.sibling=$,C=$,j=W}if(N===y.length)return n(p,j),fe&&Dn(p,N),I;if(j===null){for(;N<y.length;N++)j=m(p,y[N],S),j!==null&&(f=i(j,f,N),C===null?I=j:C.sibling=j,C=j);return fe&&Dn(p,N),I}for(j=r(p,j);N<y.length;N++)W=v(j,p,N,y[N],S),W!==null&&(e&&W.alternate!==null&&j.delete(W.key===null?N:W.key),f=i(W,f,N),C===null?I=W:C.sibling=W,C=W);return e&&j.forEach(function(H){return t(p,H)}),fe&&Dn(p,N),I}function w(p,f,y,S){var I=Ur(y);if(typeof I!="function")throw Error(T(150));if(y=I.call(y),y==null)throw Error(T(151));for(var C=I=null,j=f,N=f=0,W=null,$=y.next();j!==null&&!$.done;N++,$=y.next()){j.index>N?(W=j,j=null):W=j.sibling;var H=h(p,j,$.value,S);if(H===null){j===null&&(j=W);break}e&&j&&H.alternate===null&&t(p,j),f=i(H,f,N),C===null?I=H:C.sibling=H,C=H,j=W}if($.done)return n(p,j),fe&&Dn(p,N),I;if(j===null){for(;!$.done;N++,$=y.next())$=m(p,$.value,S),$!==null&&(f=i($,f,N),C===null?I=$:C.sibling=$,C=$);return fe&&Dn(p,N),I}for(j=r(p,j);!$.done;N++,$=y.next())$=v(j,p,N,$.value,S),$!==null&&(e&&$.alternate!==null&&j.delete($.key===null?N:$.key),f=i($,f,N),C===null?I=$:C.sibling=$,C=$);return e&&j.forEach(function(ve){return t(p,ve)}),fe&&Dn(p,N),I}function E(p,f,y,S){if(typeof y=="object"&&y!==null&&y.type===lr&&y.key===null&&(y=y.props.children),typeof y=="object"&&y!==null){switch(y.$$typeof){case Wo:e:{for(var I=y.key,C=f;C!==null;){if(C.key===I){if(I=y.type,I===lr){if(C.tag===7){n(p,C.sibling),f=o(C,y.props.children),f.return=p,p=f;break e}}else if(C.elementType===I||typeof I=="object"&&I!==null&&I.$$typeof===fn&&Tc(I)===C.type){n(p,C.sibling),f=o(C,y.props),f.ref=Vr(p,C,y),f.return=p,p=f;break e}n(p,C);break}else t(p,C);C=C.sibling}y.type===lr?(f=Wn(y.props.children,p.mode,S,y.key),f.return=p,p=f):(S=Ei(y.type,y.key,y.props,null,p.mode,S),S.ref=Vr(p,f,y),S.return=p,p=S)}return s(p);case sr:e:{for(C=y.key;f!==null;){if(f.key===C)if(f.tag===4&&f.stateNode.containerInfo===y.containerInfo&&f.stateNode.implementation===y.implementation){n(p,f.sibling),f=o(f,y.children||[]),f.return=p,p=f;break e}else{n(p,f);break}else t(p,f);f=f.sibling}f=Ys(y,p.mode,S),f.return=p,p=f}return s(p);case fn:return C=y._init,E(p,f,C(y._payload),S)}if(Zr(y))return k(p,f,y,S);if(Ur(y))return w(p,f,y,S);ti(p,y)}return typeof y=="string"&&y!==""||typeof y=="number"?(y=""+y,f!==null&&f.tag===6?(n(p,f.sibling),f=o(f,y),f.return=p,p=f):(n(p,f),f=Qs(y,p.mode,S),f.return=p,p=f),s(p)):n(p,f)}return E}var Pr=Yf(!0),Zf=Yf(!1),zi=Rn(null),Mi=null,hr=null,Fa=null;function Ua(){Fa=hr=Mi=null}function Ba(e){var t=zi.current;ce(zi),e._currentValue=t}function Ul(e,t,n){for(;e!==null;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,r!==null&&(r.childLanes|=t)):r!==null&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function Ar(e,t){Mi=e,Fa=hr=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(nt=!0),e.firstContext=null)}function jt(e){var t=e._currentValue;if(Fa!==e)if(e={context:e,memoizedValue:t,next:null},hr===null){if(Mi===null)throw Error(T(308));hr=e,Mi.dependencies={lanes:0,firstContext:e}}else hr=hr.next=e;return t}var Mn=null;function $a(e){Mn===null?Mn=[e]:Mn.push(e)}function Jf(e,t,n,r){var o=t.interleaved;return o===null?(n.next=n,$a(t)):(n.next=o.next,o.next=n),t.interleaved=n,ln(e,r)}function ln(e,t){e.lanes|=t;var n=e.alternate;for(n!==null&&(n.lanes|=t),n=e,e=e.return;e!==null;)e.childLanes|=t,n=e.alternate,n!==null&&(n.childLanes|=t),n=e,e=e.return;return n.tag===3?n.stateNode:null}var pn=!1;function Ka(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function qf(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function nn(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Tn(e,t,n){var r=e.updateQueue;if(r===null)return null;if(r=r.shared,J&2){var o=r.pending;return o===null?t.next=t:(t.next=o.next,o.next=t),r.pending=t,ln(e,n)}return o=r.interleaved,o===null?(t.next=t,$a(r)):(t.next=o.next,o.next=t),r.interleaved=t,ln(e,n)}function hi(e,t,n){if(t=t.updateQueue,t!==null&&(t=t.shared,(n&4194240)!==0)){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,Ca(e,n)}}function _c(e,t){var n=e.updateQueue,r=e.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var o=null,i=null;if(n=n.firstBaseUpdate,n!==null){do{var s={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};i===null?o=i=s:i=i.next=s,n=n.next}while(n!==null);i===null?o=i=t:i=i.next=t}else o=i=t;n={baseState:r.baseState,firstBaseUpdate:o,lastBaseUpdate:i,shared:r.shared,effects:r.effects},e.updateQueue=n;return}e=n.lastBaseUpdate,e===null?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function Fi(e,t,n,r){var o=e.updateQueue;pn=!1;var i=o.firstBaseUpdate,s=o.lastBaseUpdate,u=o.shared.pending;if(u!==null){o.shared.pending=null;var c=u,d=c.next;c.next=null,s===null?i=d:s.next=d,s=c;var g=e.alternate;g!==null&&(g=g.updateQueue,u=g.lastBaseUpdate,u!==s&&(u===null?g.firstBaseUpdate=d:u.next=d,g.lastBaseUpdate=c))}if(i!==null){var m=o.baseState;s=0,g=d=c=null,u=i;do{var h=u.lane,v=u.eventTime;if((r&h)===h){g!==null&&(g=g.next={eventTime:v,lane:0,tag:u.tag,payload:u.payload,callback:u.callback,next:null});e:{var k=e,w=u;switch(h=t,v=n,w.tag){case 1:if(k=w.payload,typeof k=="function"){m=k.call(v,m,h);break e}m=k;break e;case 3:k.flags=k.flags&-65537|128;case 0:if(k=w.payload,h=typeof k=="function"?k.call(v,m,h):k,h==null)break e;m=ge({},m,h);break e;case 2:pn=!0}}u.callback!==null&&u.lane!==0&&(e.flags|=64,h=o.effects,h===null?o.effects=[u]:h.push(u))}else v={eventTime:v,lane:h,tag:u.tag,payload:u.payload,callback:u.callback,next:null},g===null?(d=g=v,c=m):g=g.next=v,s|=h;if(u=u.next,u===null){if(u=o.shared.pending,u===null)break;h=u,u=h.next,h.next=null,o.lastBaseUpdate=h,o.shared.pending=null}}while(!0);if(g===null&&(c=m),o.baseState=c,o.firstBaseUpdate=d,o.lastBaseUpdate=g,t=o.shared.interleaved,t!==null){o=t;do s|=o.lane,o=o.next;while(o!==t)}else i===null&&(o.shared.lanes=0);Qn|=s,e.lanes=s,e.memoizedState=m}}function Ic(e,t,n){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var r=e[t],o=r.callback;if(o!==null){if(r.callback=null,r=n,typeof o!="function")throw Error(T(191,o));o.call(r)}}}var Mo={},Qt=Rn(Mo),_o=Rn(Mo),Io=Rn(Mo);function Fn(e){if(e===Mo)throw Error(T(174));return e}function Wa(e,t){switch(le(Io,t),le(_o,e),le(Qt,Mo),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:xl(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=xl(t,e)}ce(Qt),le(Qt,t)}function jr(){ce(Qt),ce(_o),ce(Io)}function ep(e){Fn(Io.current);var t=Fn(Qt.current),n=xl(t,e.type);t!==n&&(le(_o,e),le(Qt,n))}function Va(e){_o.current===e&&(ce(Qt),ce(_o))}var me=Rn(0);function Ui(e){for(var t=e;t!==null;){if(t.tag===13){var n=t.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var Ks=[];function Ha(){for(var e=0;e<Ks.length;e++)Ks[e]._workInProgressVersionPrimary=null;Ks.length=0}var gi=cn.ReactCurrentDispatcher,Ws=cn.ReactCurrentBatchConfig,Xn=0,he=null,Pe=null,be=null,Bi=!1,io=!1,Co=0,Jg=0;function $e(){throw Error(T(321))}function Ga(e,t){if(t===null)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!$t(e[n],t[n]))return!1;return!0}function Xa(e,t,n,r,o,i){if(Xn=i,he=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,gi.current=e===null||e.memoizedState===null?ny:ry,e=n(r,o),io){i=0;do{if(io=!1,Co=0,25<=i)throw Error(T(301));i+=1,be=Pe=null,t.updateQueue=null,gi.current=oy,e=n(r,o)}while(io)}if(gi.current=$i,t=Pe!==null&&Pe.next!==null,Xn=0,be=Pe=he=null,Bi=!1,t)throw Error(T(300));return e}function Qa(){var e=Co!==0;return Co=0,e}function Wt(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return be===null?he.memoizedState=be=e:be=be.next=e,be}function Rt(){if(Pe===null){var e=he.alternate;e=e!==null?e.memoizedState:null}else e=Pe.next;var t=be===null?he.memoizedState:be.next;if(t!==null)be=t,Pe=e;else{if(e===null)throw Error(T(310));Pe=e,e={memoizedState:Pe.memoizedState,baseState:Pe.baseState,baseQueue:Pe.baseQueue,queue:Pe.queue,next:null},be===null?he.memoizedState=be=e:be=be.next=e}return be}function No(e,t){return typeof t=="function"?t(e):t}function Vs(e){var t=Rt(),n=t.queue;if(n===null)throw Error(T(311));n.lastRenderedReducer=e;var r=Pe,o=r.baseQueue,i=n.pending;if(i!==null){if(o!==null){var s=o.next;o.next=i.next,i.next=s}r.baseQueue=o=i,n.pending=null}if(o!==null){i=o.next,r=r.baseState;var u=s=null,c=null,d=i;do{var g=d.lane;if((Xn&g)===g)c!==null&&(c=c.next={lane:0,action:d.action,hasEagerState:d.hasEagerState,eagerState:d.eagerState,next:null}),r=d.hasEagerState?d.eagerState:e(r,d.action);else{var m={lane:g,action:d.action,hasEagerState:d.hasEagerState,eagerState:d.eagerState,next:null};c===null?(u=c=m,s=r):c=c.next=m,he.lanes|=g,Qn|=g}d=d.next}while(d!==null&&d!==i);c===null?s=r:c.next=u,$t(r,t.memoizedState)||(nt=!0),t.memoizedState=r,t.baseState=s,t.baseQueue=c,n.lastRenderedState=r}if(e=n.interleaved,e!==null){o=e;do i=o.lane,he.lanes|=i,Qn|=i,o=o.next;while(o!==e)}else o===null&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function Hs(e){var t=Rt(),n=t.queue;if(n===null)throw Error(T(311));n.lastRenderedReducer=e;var r=n.dispatch,o=n.pending,i=t.memoizedState;if(o!==null){n.pending=null;var s=o=o.next;do i=e(i,s.action),s=s.next;while(s!==o);$t(i,t.memoizedState)||(nt=!0),t.memoizedState=i,t.baseQueue===null&&(t.baseState=i),n.lastRenderedState=i}return[i,r]}function tp(){}function np(e,t){var n=he,r=Rt(),o=t(),i=!$t(r.memoizedState,o);if(i&&(r.memoizedState=o,nt=!0),r=r.queue,Ya(ip.bind(null,n,r,e),[e]),r.getSnapshot!==t||i||be!==null&&be.memoizedState.tag&1){if(n.flags|=2048,Po(9,op.bind(null,n,r,o,t),void 0,null),ze===null)throw Error(T(349));Xn&30||rp(n,t,o)}return o}function rp(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},t=he.updateQueue,t===null?(t={lastEffect:null,stores:null},he.updateQueue=t,t.stores=[e]):(n=t.stores,n===null?t.stores=[e]:n.push(e))}function op(e,t,n,r){t.value=n,t.getSnapshot=r,sp(t)&&lp(e)}function ip(e,t,n){return n(function(){sp(t)&&lp(e)})}function sp(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!$t(e,n)}catch{return!0}}function lp(e){var t=ln(e,1);t!==null&&Bt(t,e,1,-1)}function Cc(e){var t=Wt();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:No,lastRenderedState:e},t.queue=e,e=e.dispatch=ty.bind(null,he,e),[t.memoizedState,e]}function Po(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},t=he.updateQueue,t===null?(t={lastEffect:null,stores:null},he.updateQueue=t,t.lastEffect=e.next=e):(n=t.lastEffect,n===null?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e)),e}function ap(){return Rt().memoizedState}function yi(e,t,n,r){var o=Wt();he.flags|=e,o.memoizedState=Po(1|t,n,void 0,r===void 0?null:r)}function cs(e,t,n,r){var o=Rt();r=r===void 0?null:r;var i=void 0;if(Pe!==null){var s=Pe.memoizedState;if(i=s.destroy,r!==null&&Ga(r,s.deps)){o.memoizedState=Po(t,n,i,r);return}}he.flags|=e,o.memoizedState=Po(1|t,n,i,r)}function Nc(e,t){return yi(8390656,8,e,t)}function Ya(e,t){return cs(2048,8,e,t)}function up(e,t){return cs(4,2,e,t)}function cp(e,t){return cs(4,4,e,t)}function dp(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function fp(e,t,n){return n=n!=null?n.concat([e]):null,cs(4,4,dp.bind(null,t,e),n)}function Za(){}function pp(e,t){var n=Rt();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&Ga(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function mp(e,t){var n=Rt();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&Ga(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function hp(e,t,n){return Xn&21?($t(n,t)||(n=xf(),he.lanes|=n,Qn|=n,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,nt=!0),e.memoizedState=n)}function qg(e,t){var n=oe;oe=n!==0&&4>n?n:4,e(!0);var r=Ws.transition;Ws.transition={};try{e(!1),t()}finally{oe=n,Ws.transition=r}}function gp(){return Rt().memoizedState}function ey(e,t,n){var r=In(e);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},yp(e))vp(t,n);else if(n=Jf(e,t,n,r),n!==null){var o=Ye();Bt(n,e,r,o),Sp(n,t,r)}}function ty(e,t,n){var r=In(e),o={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(yp(e))vp(t,o);else{var i=e.alternate;if(e.lanes===0&&(i===null||i.lanes===0)&&(i=t.lastRenderedReducer,i!==null))try{var s=t.lastRenderedState,u=i(s,n);if(o.hasEagerState=!0,o.eagerState=u,$t(u,s)){var c=t.interleaved;c===null?(o.next=o,$a(t)):(o.next=c.next,c.next=o),t.interleaved=o;return}}catch{}finally{}n=Jf(e,t,o,r),n!==null&&(o=Ye(),Bt(n,e,r,o),Sp(n,t,r))}}function yp(e){var t=e.alternate;return e===he||t!==null&&t===he}function vp(e,t){io=Bi=!0;var n=e.pending;n===null?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function Sp(e,t,n){if(n&4194240){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,Ca(e,n)}}var $i={readContext:jt,useCallback:$e,useContext:$e,useEffect:$e,useImperativeHandle:$e,useInsertionEffect:$e,useLayoutEffect:$e,useMemo:$e,useReducer:$e,useRef:$e,useState:$e,useDebugValue:$e,useDeferredValue:$e,useTransition:$e,useMutableSource:$e,useSyncExternalStore:$e,useId:$e,unstable_isNewReconciler:!1},ny={readContext:jt,useCallback:function(e,t){return Wt().memoizedState=[e,t===void 0?null:t],e},useContext:jt,useEffect:Nc,useImperativeHandle:function(e,t,n){return n=n!=null?n.concat([e]):null,yi(4194308,4,dp.bind(null,t,e),n)},useLayoutEffect:function(e,t){return yi(4194308,4,e,t)},useInsertionEffect:function(e,t){return yi(4,2,e,t)},useMemo:function(e,t){var n=Wt();return t=t===void 0?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=Wt();return t=n!==void 0?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=ey.bind(null,he,e),[r.memoizedState,e]},useRef:function(e){var t=Wt();return e={current:e},t.memoizedState=e},useState:Cc,useDebugValue:Za,useDeferredValue:function(e){return Wt().memoizedState=e},useTransition:function(){var e=Cc(!1),t=e[0];return e=qg.bind(null,e[1]),Wt().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=he,o=Wt();if(fe){if(n===void 0)throw Error(T(407));n=n()}else{if(n=t(),ze===null)throw Error(T(349));Xn&30||rp(r,t,n)}o.memoizedState=n;var i={value:n,getSnapshot:t};return o.queue=i,Nc(ip.bind(null,r,i,e),[e]),r.flags|=2048,Po(9,op.bind(null,r,i,n,t),void 0,null),n},useId:function(){var e=Wt(),t=ze.identifierPrefix;if(fe){var n=tn,r=en;n=(r&~(1<<32-Ut(r)-1)).toString(32)+n,t=":"+t+"R"+n,n=Co++,0<n&&(t+="H"+n.toString(32)),t+=":"}else n=Jg++,t=":"+t+"r"+n.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},ry={readContext:jt,useCallback:pp,useContext:jt,useEffect:Ya,useImperativeHandle:fp,useInsertionEffect:up,useLayoutEffect:cp,useMemo:mp,useReducer:Vs,useRef:ap,useState:function(){return Vs(No)},useDebugValue:Za,useDeferredValue:function(e){var t=Rt();return hp(t,Pe.memoizedState,e)},useTransition:function(){var e=Vs(No)[0],t=Rt().memoizedState;return[e,t]},useMutableSource:tp,useSyncExternalStore:np,useId:gp,unstable_isNewReconciler:!1},oy={readContext:jt,useCallback:pp,useContext:jt,useEffect:Ya,useImperativeHandle:fp,useInsertionEffect:up,useLayoutEffect:cp,useMemo:mp,useReducer:Hs,useRef:ap,useState:function(){return Hs(No)},useDebugValue:Za,useDeferredValue:function(e){var t=Rt();return Pe===null?t.memoizedState=e:hp(t,Pe.memoizedState,e)},useTransition:function(){var e=Hs(No)[0],t=Rt().memoizedState;return[e,t]},useMutableSource:tp,useSyncExternalStore:np,useId:gp,unstable_isNewReconciler:!1};function bt(e,t){if(e&&e.defaultProps){t=ge({},t),e=e.defaultProps;for(var n in e)t[n]===void 0&&(t[n]=e[n]);return t}return t}function Bl(e,t,n,r){t=e.memoizedState,n=n(r,t),n=n==null?t:ge({},t,n),e.memoizedState=n,e.lanes===0&&(e.updateQueue.baseState=n)}var ds={isMounted:function(e){return(e=e._reactInternals)?qn(e)===e:!1},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=Ye(),o=In(e),i=nn(r,o);i.payload=t,n!=null&&(i.callback=n),t=Tn(e,i,o),t!==null&&(Bt(t,e,o,r),hi(t,e,o))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=Ye(),o=In(e),i=nn(r,o);i.tag=1,i.payload=t,n!=null&&(i.callback=n),t=Tn(e,i,o),t!==null&&(Bt(t,e,o,r),hi(t,e,o))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=Ye(),r=In(e),o=nn(n,r);o.tag=2,t!=null&&(o.callback=t),t=Tn(e,o,r),t!==null&&(Bt(t,e,r,n),hi(t,e,r))}};function Pc(e,t,n,r,o,i,s){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(r,i,s):t.prototype&&t.prototype.isPureReactComponent?!wo(n,r)||!wo(o,i):!0}function xp(e,t,n){var r=!1,o=Pn,i=t.contextType;return typeof i=="object"&&i!==null?i=jt(i):(o=it(t)?Hn:Ge.current,r=t.contextTypes,i=(r=r!=null)?Cr(e,o):Pn),t=new t(n,i),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=ds,e.stateNode=t,t._reactInternals=e,r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=o,e.__reactInternalMemoizedMaskedChildContext=i),t}function jc(e,t,n,r){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(n,r),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&ds.enqueueReplaceState(t,t.state,null)}function $l(e,t,n,r){var o=e.stateNode;o.props=n,o.state=e.memoizedState,o.refs={},Ka(e);var i=t.contextType;typeof i=="object"&&i!==null?o.context=jt(i):(i=it(t)?Hn:Ge.current,o.context=Cr(e,i)),o.state=e.memoizedState,i=t.getDerivedStateFromProps,typeof i=="function"&&(Bl(e,t,i,n),o.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof o.getSnapshotBeforeUpdate=="function"||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(t=o.state,typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount(),t!==o.state&&ds.enqueueReplaceState(o,o.state,null),Fi(e,n,o,r),o.state=e.memoizedState),typeof o.componentDidMount=="function"&&(e.flags|=4194308)}function Rr(e,t){try{var n="",r=t;do n+=Rh(r),r=r.return;while(r);var o=n}catch(i){o=`
Error generating stack: `+i.message+`
`+i.stack}return{value:e,source:t,stack:o,digest:null}}function Gs(e,t,n){return{value:e,source:null,stack:n??null,digest:t??null}}function Kl(e,t){try{console.error(t.value)}catch(n){setTimeout(function(){throw n})}}var iy=typeof WeakMap=="function"?WeakMap:Map;function Ep(e,t,n){n=nn(-1,n),n.tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){Wi||(Wi=!0,ql=r),Kl(e,t)},n}function wp(e,t,n){n=nn(-1,n),n.tag=3;var r=e.type.getDerivedStateFromError;if(typeof r=="function"){var o=t.value;n.payload=function(){return r(o)},n.callback=function(){Kl(e,t)}}var i=e.stateNode;return i!==null&&typeof i.componentDidCatch=="function"&&(n.callback=function(){Kl(e,t),typeof r!="function"&&(_n===null?_n=new Set([this]):_n.add(this));var s=t.stack;this.componentDidCatch(t.value,{componentStack:s!==null?s:""})}),n}function Rc(e,t,n){var r=e.pingCache;if(r===null){r=e.pingCache=new iy;var o=new Set;r.set(t,o)}else o=r.get(t),o===void 0&&(o=new Set,r.set(t,o));o.has(n)||(o.add(n),e=Sy.bind(null,e,t,n),t.then(e,e))}function Oc(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function Lc(e,t,n,r,o){return e.mode&1?(e.flags|=65536,e.lanes=o,e):(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(t=nn(-1,1),t.tag=2,Tn(n,t,1))),n.lanes|=1),e)}var sy=cn.ReactCurrentOwner,nt=!1;function Xe(e,t,n,r){t.child=e===null?Zf(t,null,n,r):Pr(t,e.child,n,r)}function Dc(e,t,n,r,o){n=n.render;var i=t.ref;return Ar(t,o),r=Xa(e,t,n,r,i,o),n=Qa(),e!==null&&!nt?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~o,an(e,t,o)):(fe&&n&&ba(t),t.flags|=1,Xe(e,t,r,o),t.child)}function bc(e,t,n,r,o){if(e===null){var i=n.type;return typeof i=="function"&&!iu(i)&&i.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(t.tag=15,t.type=i,kp(e,t,i,r,o)):(e=Ei(n.type,null,r,t,t.mode,o),e.ref=t.ref,e.return=t,t.child=e)}if(i=e.child,!(e.lanes&o)){var s=i.memoizedProps;if(n=n.compare,n=n!==null?n:wo,n(s,r)&&e.ref===t.ref)return an(e,t,o)}return t.flags|=1,e=Cn(i,r),e.ref=t.ref,e.return=t,t.child=e}function kp(e,t,n,r,o){if(e!==null){var i=e.memoizedProps;if(wo(i,r)&&e.ref===t.ref)if(nt=!1,t.pendingProps=r=i,(e.lanes&o)!==0)e.flags&131072&&(nt=!0);else return t.lanes=e.lanes,an(e,t,o)}return Wl(e,t,n,r,o)}function Ap(e,t,n){var r=t.pendingProps,o=r.children,i=e!==null?e.memoizedState:null;if(r.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},le(yr,pt),pt|=n;else{if(!(n&1073741824))return e=i!==null?i.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,le(yr,pt),pt|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=i!==null?i.baseLanes:n,le(yr,pt),pt|=r}else i!==null?(r=i.baseLanes|n,t.memoizedState=null):r=n,le(yr,pt),pt|=r;return Xe(e,t,o,n),t.child}function Tp(e,t){var n=t.ref;(e===null&&n!==null||e!==null&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function Wl(e,t,n,r,o){var i=it(n)?Hn:Ge.current;return i=Cr(t,i),Ar(t,o),n=Xa(e,t,n,r,i,o),r=Qa(),e!==null&&!nt?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~o,an(e,t,o)):(fe&&r&&ba(t),t.flags|=1,Xe(e,t,n,o),t.child)}function zc(e,t,n,r,o){if(it(n)){var i=!0;Li(t)}else i=!1;if(Ar(t,o),t.stateNode===null)vi(e,t),xp(t,n,r),$l(t,n,r,o),r=!0;else if(e===null){var s=t.stateNode,u=t.memoizedProps;s.props=u;var c=s.context,d=n.contextType;typeof d=="object"&&d!==null?d=jt(d):(d=it(n)?Hn:Ge.current,d=Cr(t,d));var g=n.getDerivedStateFromProps,m=typeof g=="function"||typeof s.getSnapshotBeforeUpdate=="function";m||typeof s.UNSAFE_componentWillReceiveProps!="function"&&typeof s.componentWillReceiveProps!="function"||(u!==r||c!==d)&&jc(t,s,r,d),pn=!1;var h=t.memoizedState;s.state=h,Fi(t,r,s,o),c=t.memoizedState,u!==r||h!==c||ot.current||pn?(typeof g=="function"&&(Bl(t,n,g,r),c=t.memoizedState),(u=pn||Pc(t,n,u,r,h,c,d))?(m||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount()),typeof s.componentDidMount=="function"&&(t.flags|=4194308)):(typeof s.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=c),s.props=r,s.state=c,s.context=d,r=u):(typeof s.componentDidMount=="function"&&(t.flags|=4194308),r=!1)}else{s=t.stateNode,qf(e,t),u=t.memoizedProps,d=t.type===t.elementType?u:bt(t.type,u),s.props=d,m=t.pendingProps,h=s.context,c=n.contextType,typeof c=="object"&&c!==null?c=jt(c):(c=it(n)?Hn:Ge.current,c=Cr(t,c));var v=n.getDerivedStateFromProps;(g=typeof v=="function"||typeof s.getSnapshotBeforeUpdate=="function")||typeof s.UNSAFE_componentWillReceiveProps!="function"&&typeof s.componentWillReceiveProps!="function"||(u!==m||h!==c)&&jc(t,s,r,c),pn=!1,h=t.memoizedState,s.state=h,Fi(t,r,s,o);var k=t.memoizedState;u!==m||h!==k||ot.current||pn?(typeof v=="function"&&(Bl(t,n,v,r),k=t.memoizedState),(d=pn||Pc(t,n,d,r,h,k,c)||!1)?(g||typeof s.UNSAFE_componentWillUpdate!="function"&&typeof s.componentWillUpdate!="function"||(typeof s.componentWillUpdate=="function"&&s.componentWillUpdate(r,k,c),typeof s.UNSAFE_componentWillUpdate=="function"&&s.UNSAFE_componentWillUpdate(r,k,c)),typeof s.componentDidUpdate=="function"&&(t.flags|=4),typeof s.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof s.componentDidUpdate!="function"||u===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),typeof s.getSnapshotBeforeUpdate!="function"||u===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=k),s.props=r,s.state=k,s.context=c,r=d):(typeof s.componentDidUpdate!="function"||u===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),typeof s.getSnapshotBeforeUpdate!="function"||u===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),r=!1)}return Vl(e,t,n,r,i,o)}function Vl(e,t,n,r,o,i){Tp(e,t);var s=(t.flags&128)!==0;if(!r&&!s)return o&&wc(t,n,!1),an(e,t,i);r=t.stateNode,sy.current=t;var u=s&&typeof n.getDerivedStateFromError!="function"?null:r.render();return t.flags|=1,e!==null&&s?(t.child=Pr(t,e.child,null,i),t.child=Pr(t,null,u,i)):Xe(e,t,u,i),t.memoizedState=r.state,o&&wc(t,n,!0),t.child}function _p(e){var t=e.stateNode;t.pendingContext?Ec(e,t.pendingContext,t.pendingContext!==t.context):t.context&&Ec(e,t.context,!1),Wa(e,t.containerInfo)}function Mc(e,t,n,r,o){return Nr(),Ma(o),t.flags|=256,Xe(e,t,n,r),t.child}var Hl={dehydrated:null,treeContext:null,retryLane:0};function Gl(e){return{baseLanes:e,cachePool:null,transitions:null}}function Ip(e,t,n){var r=t.pendingProps,o=me.current,i=!1,s=(t.flags&128)!==0,u;if((u=s)||(u=e!==null&&e.memoizedState===null?!1:(o&2)!==0),u?(i=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(o|=1),le(me,o&1),e===null)return Fl(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(s=r.children,e=r.fallback,i?(r=t.mode,i=t.child,s={mode:"hidden",children:s},!(r&1)&&i!==null?(i.childLanes=0,i.pendingProps=s):i=ms(s,r,0,null),e=Wn(e,r,n,null),i.return=t,e.return=t,i.sibling=e,t.child=i,t.child.memoizedState=Gl(n),t.memoizedState=Hl,e):Ja(t,s));if(o=e.memoizedState,o!==null&&(u=o.dehydrated,u!==null))return ly(e,t,s,r,u,o,n);if(i){i=r.fallback,s=t.mode,o=e.child,u=o.sibling;var c={mode:"hidden",children:r.children};return!(s&1)&&t.child!==o?(r=t.child,r.childLanes=0,r.pendingProps=c,t.deletions=null):(r=Cn(o,c),r.subtreeFlags=o.subtreeFlags&14680064),u!==null?i=Cn(u,i):(i=Wn(i,s,n,null),i.flags|=2),i.return=t,r.return=t,r.sibling=i,t.child=r,r=i,i=t.child,s=e.child.memoizedState,s=s===null?Gl(n):{baseLanes:s.baseLanes|n,cachePool:null,transitions:s.transitions},i.memoizedState=s,i.childLanes=e.childLanes&~n,t.memoizedState=Hl,r}return i=e.child,e=i.sibling,r=Cn(i,{mode:"visible",children:r.children}),!(t.mode&1)&&(r.lanes=n),r.return=t,r.sibling=null,e!==null&&(n=t.deletions,n===null?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=r,t.memoizedState=null,r}function Ja(e,t){return t=ms({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function ni(e,t,n,r){return r!==null&&Ma(r),Pr(t,e.child,null,n),e=Ja(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function ly(e,t,n,r,o,i,s){if(n)return t.flags&256?(t.flags&=-257,r=Gs(Error(T(422))),ni(e,t,s,r)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(i=r.fallback,o=t.mode,r=ms({mode:"visible",children:r.children},o,0,null),i=Wn(i,o,s,null),i.flags|=2,r.return=t,i.return=t,r.sibling=i,t.child=r,t.mode&1&&Pr(t,e.child,null,s),t.child.memoizedState=Gl(s),t.memoizedState=Hl,i);if(!(t.mode&1))return ni(e,t,s,null);if(o.data==="$!"){if(r=o.nextSibling&&o.nextSibling.dataset,r)var u=r.dgst;return r=u,i=Error(T(419)),r=Gs(i,r,void 0),ni(e,t,s,r)}if(u=(s&e.childLanes)!==0,nt||u){if(r=ze,r!==null){switch(s&-s){case 4:o=2;break;case 16:o=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:o=32;break;case 536870912:o=268435456;break;default:o=0}o=o&(r.suspendedLanes|s)?0:o,o!==0&&o!==i.retryLane&&(i.retryLane=o,ln(e,o),Bt(r,e,o,-1))}return ou(),r=Gs(Error(T(421))),ni(e,t,s,r)}return o.data==="$?"?(t.flags|=128,t.child=e.child,t=xy.bind(null,e),o._reactRetry=t,null):(e=i.treeContext,ht=An(o.nextSibling),gt=t,fe=!0,Ft=null,e!==null&&(Tt[_t++]=en,Tt[_t++]=tn,Tt[_t++]=Gn,en=e.id,tn=e.overflow,Gn=t),t=Ja(t,r.children),t.flags|=4096,t)}function Fc(e,t,n){e.lanes|=t;var r=e.alternate;r!==null&&(r.lanes|=t),Ul(e.return,t,n)}function Xs(e,t,n,r,o){var i=e.memoizedState;i===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:o}:(i.isBackwards=t,i.rendering=null,i.renderingStartTime=0,i.last=r,i.tail=n,i.tailMode=o)}function Cp(e,t,n){var r=t.pendingProps,o=r.revealOrder,i=r.tail;if(Xe(e,t,r.children,n),r=me.current,r&2)r=r&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&Fc(e,n,t);else if(e.tag===19)Fc(e,n,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(le(me,r),!(t.mode&1))t.memoizedState=null;else switch(o){case"forwards":for(n=t.child,o=null;n!==null;)e=n.alternate,e!==null&&Ui(e)===null&&(o=n),n=n.sibling;n=o,n===null?(o=t.child,t.child=null):(o=n.sibling,n.sibling=null),Xs(t,!1,o,n,i);break;case"backwards":for(n=null,o=t.child,t.child=null;o!==null;){if(e=o.alternate,e!==null&&Ui(e)===null){t.child=o;break}e=o.sibling,o.sibling=n,n=o,o=e}Xs(t,!0,n,null,i);break;case"together":Xs(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function vi(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function an(e,t,n){if(e!==null&&(t.dependencies=e.dependencies),Qn|=t.lanes,!(n&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(T(153));if(t.child!==null){for(e=t.child,n=Cn(e,e.pendingProps),t.child=n,n.return=t;e.sibling!==null;)e=e.sibling,n=n.sibling=Cn(e,e.pendingProps),n.return=t;n.sibling=null}return t.child}function ay(e,t,n){switch(t.tag){case 3:_p(t),Nr();break;case 5:ep(t);break;case 1:it(t.type)&&Li(t);break;case 4:Wa(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,o=t.memoizedProps.value;le(zi,r._currentValue),r._currentValue=o;break;case 13:if(r=t.memoizedState,r!==null)return r.dehydrated!==null?(le(me,me.current&1),t.flags|=128,null):n&t.child.childLanes?Ip(e,t,n):(le(me,me.current&1),e=an(e,t,n),e!==null?e.sibling:null);le(me,me.current&1);break;case 19:if(r=(n&t.childLanes)!==0,e.flags&128){if(r)return Cp(e,t,n);t.flags|=128}if(o=t.memoizedState,o!==null&&(o.rendering=null,o.tail=null,o.lastEffect=null),le(me,me.current),r)break;return null;case 22:case 23:return t.lanes=0,Ap(e,t,n)}return an(e,t,n)}var Np,Xl,Pp,jp;Np=function(e,t){for(var n=t.child;n!==null;){if(n.tag===5||n.tag===6)e.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};Xl=function(){};Pp=function(e,t,n,r){var o=e.memoizedProps;if(o!==r){e=t.stateNode,Fn(Qt.current);var i=null;switch(n){case"input":o=gl(e,o),r=gl(e,r),i=[];break;case"select":o=ge({},o,{value:void 0}),r=ge({},r,{value:void 0}),i=[];break;case"textarea":o=Sl(e,o),r=Sl(e,r),i=[];break;default:typeof o.onClick!="function"&&typeof r.onClick=="function"&&(e.onclick=Ri)}El(n,r);var s;n=null;for(d in o)if(!r.hasOwnProperty(d)&&o.hasOwnProperty(d)&&o[d]!=null)if(d==="style"){var u=o[d];for(s in u)u.hasOwnProperty(s)&&(n||(n={}),n[s]="")}else d!=="dangerouslySetInnerHTML"&&d!=="children"&&d!=="suppressContentEditableWarning"&&d!=="suppressHydrationWarning"&&d!=="autoFocus"&&(ho.hasOwnProperty(d)?i||(i=[]):(i=i||[]).push(d,null));for(d in r){var c=r[d];if(u=o!=null?o[d]:void 0,r.hasOwnProperty(d)&&c!==u&&(c!=null||u!=null))if(d==="style")if(u){for(s in u)!u.hasOwnProperty(s)||c&&c.hasOwnProperty(s)||(n||(n={}),n[s]="");for(s in c)c.hasOwnProperty(s)&&u[s]!==c[s]&&(n||(n={}),n[s]=c[s])}else n||(i||(i=[]),i.push(d,n)),n=c;else d==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,u=u?u.__html:void 0,c!=null&&u!==c&&(i=i||[]).push(d,c)):d==="children"?typeof c!="string"&&typeof c!="number"||(i=i||[]).push(d,""+c):d!=="suppressContentEditableWarning"&&d!=="suppressHydrationWarning"&&(ho.hasOwnProperty(d)?(c!=null&&d==="onScroll"&&ue("scroll",e),i||u===c||(i=[])):(i=i||[]).push(d,c))}n&&(i=i||[]).push("style",n);var d=i;(t.updateQueue=d)&&(t.flags|=4)}};jp=function(e,t,n,r){n!==r&&(t.flags|=4)};function Hr(e,t){if(!fe)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;t!==null;)t.alternate!==null&&(n=t),t=t.sibling;n===null?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:r.sibling=null}}function Ke(e){var t=e.alternate!==null&&e.alternate.child===e.child,n=0,r=0;if(t)for(var o=e.child;o!==null;)n|=o.lanes|o.childLanes,r|=o.subtreeFlags&14680064,r|=o.flags&14680064,o.return=e,o=o.sibling;else for(o=e.child;o!==null;)n|=o.lanes|o.childLanes,r|=o.subtreeFlags,r|=o.flags,o.return=e,o=o.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function uy(e,t,n){var r=t.pendingProps;switch(za(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ke(t),null;case 1:return it(t.type)&&Oi(),Ke(t),null;case 3:return r=t.stateNode,jr(),ce(ot),ce(Ge),Ha(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(e===null||e.child===null)&&(ei(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,Ft!==null&&(na(Ft),Ft=null))),Xl(e,t),Ke(t),null;case 5:Va(t);var o=Fn(Io.current);if(n=t.type,e!==null&&t.stateNode!=null)Pp(e,t,n,r,o),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(t.stateNode===null)throw Error(T(166));return Ke(t),null}if(e=Fn(Qt.current),ei(t)){r=t.stateNode,n=t.type;var i=t.memoizedProps;switch(r[Ht]=t,r[To]=i,e=(t.mode&1)!==0,n){case"dialog":ue("cancel",r),ue("close",r);break;case"iframe":case"object":case"embed":ue("load",r);break;case"video":case"audio":for(o=0;o<qr.length;o++)ue(qr[o],r);break;case"source":ue("error",r);break;case"img":case"image":case"link":ue("error",r),ue("load",r);break;case"details":ue("toggle",r);break;case"input":Xu(r,i),ue("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!i.multiple},ue("invalid",r);break;case"textarea":Yu(r,i),ue("invalid",r)}El(n,i),o=null;for(var s in i)if(i.hasOwnProperty(s)){var u=i[s];s==="children"?typeof u=="string"?r.textContent!==u&&(i.suppressHydrationWarning!==!0&&qo(r.textContent,u,e),o=["children",u]):typeof u=="number"&&r.textContent!==""+u&&(i.suppressHydrationWarning!==!0&&qo(r.textContent,u,e),o=["children",""+u]):ho.hasOwnProperty(s)&&u!=null&&s==="onScroll"&&ue("scroll",r)}switch(n){case"input":Vo(r),Qu(r,i,!0);break;case"textarea":Vo(r),Zu(r);break;case"select":case"option":break;default:typeof i.onClick=="function"&&(r.onclick=Ri)}r=o,t.updateQueue=r,r!==null&&(t.flags|=4)}else{s=o.nodeType===9?o:o.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=of(n)),e==="http://www.w3.org/1999/xhtml"?n==="script"?(e=s.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof r.is=="string"?e=s.createElement(n,{is:r.is}):(e=s.createElement(n),n==="select"&&(s=e,r.multiple?s.multiple=!0:r.size&&(s.size=r.size))):e=s.createElementNS(e,n),e[Ht]=t,e[To]=r,Np(e,t,!1,!1),t.stateNode=e;e:{switch(s=wl(n,r),n){case"dialog":ue("cancel",e),ue("close",e),o=r;break;case"iframe":case"object":case"embed":ue("load",e),o=r;break;case"video":case"audio":for(o=0;o<qr.length;o++)ue(qr[o],e);o=r;break;case"source":ue("error",e),o=r;break;case"img":case"image":case"link":ue("error",e),ue("load",e),o=r;break;case"details":ue("toggle",e),o=r;break;case"input":Xu(e,r),o=gl(e,r),ue("invalid",e);break;case"option":o=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},o=ge({},r,{value:void 0}),ue("invalid",e);break;case"textarea":Yu(e,r),o=Sl(e,r),ue("invalid",e);break;default:o=r}El(n,o),u=o;for(i in u)if(u.hasOwnProperty(i)){var c=u[i];i==="style"?af(e,c):i==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,c!=null&&sf(e,c)):i==="children"?typeof c=="string"?(n!=="textarea"||c!=="")&&go(e,c):typeof c=="number"&&go(e,""+c):i!=="suppressContentEditableWarning"&&i!=="suppressHydrationWarning"&&i!=="autoFocus"&&(ho.hasOwnProperty(i)?c!=null&&i==="onScroll"&&ue("scroll",e):c!=null&&wa(e,i,c,s))}switch(n){case"input":Vo(e),Qu(e,r,!1);break;case"textarea":Vo(e),Zu(e);break;case"option":r.value!=null&&e.setAttribute("value",""+Nn(r.value));break;case"select":e.multiple=!!r.multiple,i=r.value,i!=null?xr(e,!!r.multiple,i,!1):r.defaultValue!=null&&xr(e,!!r.multiple,r.defaultValue,!0);break;default:typeof o.onClick=="function"&&(e.onclick=Ri)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return Ke(t),null;case 6:if(e&&t.stateNode!=null)jp(e,t,e.memoizedProps,r);else{if(typeof r!="string"&&t.stateNode===null)throw Error(T(166));if(n=Fn(Io.current),Fn(Qt.current),ei(t)){if(r=t.stateNode,n=t.memoizedProps,r[Ht]=t,(i=r.nodeValue!==n)&&(e=gt,e!==null))switch(e.tag){case 3:qo(r.nodeValue,n,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&qo(r.nodeValue,n,(e.mode&1)!==0)}i&&(t.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[Ht]=t,t.stateNode=r}return Ke(t),null;case 13:if(ce(me),r=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(fe&&ht!==null&&t.mode&1&&!(t.flags&128))Qf(),Nr(),t.flags|=98560,i=!1;else if(i=ei(t),r!==null&&r.dehydrated!==null){if(e===null){if(!i)throw Error(T(318));if(i=t.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(T(317));i[Ht]=t}else Nr(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;Ke(t),i=!1}else Ft!==null&&(na(Ft),Ft=null),i=!0;if(!i)return t.flags&65536?t:null}return t.flags&128?(t.lanes=n,t):(r=r!==null,r!==(e!==null&&e.memoizedState!==null)&&r&&(t.child.flags|=8192,t.mode&1&&(e===null||me.current&1?Re===0&&(Re=3):ou())),t.updateQueue!==null&&(t.flags|=4),Ke(t),null);case 4:return jr(),Xl(e,t),e===null&&ko(t.stateNode.containerInfo),Ke(t),null;case 10:return Ba(t.type._context),Ke(t),null;case 17:return it(t.type)&&Oi(),Ke(t),null;case 19:if(ce(me),i=t.memoizedState,i===null)return Ke(t),null;if(r=(t.flags&128)!==0,s=i.rendering,s===null)if(r)Hr(i,!1);else{if(Re!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(s=Ui(e),s!==null){for(t.flags|=128,Hr(i,!1),r=s.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;n!==null;)i=n,e=r,i.flags&=14680066,s=i.alternate,s===null?(i.childLanes=0,i.lanes=e,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=s.childLanes,i.lanes=s.lanes,i.child=s.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=s.memoizedProps,i.memoizedState=s.memoizedState,i.updateQueue=s.updateQueue,i.type=s.type,e=s.dependencies,i.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return le(me,me.current&1|2),t.child}e=e.sibling}i.tail!==null&&Ae()>Or&&(t.flags|=128,r=!0,Hr(i,!1),t.lanes=4194304)}else{if(!r)if(e=Ui(s),e!==null){if(t.flags|=128,r=!0,n=e.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),Hr(i,!0),i.tail===null&&i.tailMode==="hidden"&&!s.alternate&&!fe)return Ke(t),null}else 2*Ae()-i.renderingStartTime>Or&&n!==1073741824&&(t.flags|=128,r=!0,Hr(i,!1),t.lanes=4194304);i.isBackwards?(s.sibling=t.child,t.child=s):(n=i.last,n!==null?n.sibling=s:t.child=s,i.last=s)}return i.tail!==null?(t=i.tail,i.rendering=t,i.tail=t.sibling,i.renderingStartTime=Ae(),t.sibling=null,n=me.current,le(me,r?n&1|2:n&1),t):(Ke(t),null);case 22:case 23:return ru(),r=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==r&&(t.flags|=8192),r&&t.mode&1?pt&1073741824&&(Ke(t),t.subtreeFlags&6&&(t.flags|=8192)):Ke(t),null;case 24:return null;case 25:return null}throw Error(T(156,t.tag))}function cy(e,t){switch(za(t),t.tag){case 1:return it(t.type)&&Oi(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return jr(),ce(ot),ce(Ge),Ha(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return Va(t),null;case 13:if(ce(me),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(T(340));Nr()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return ce(me),null;case 4:return jr(),null;case 10:return Ba(t.type._context),null;case 22:case 23:return ru(),null;case 24:return null;default:return null}}var ri=!1,Ve=!1,dy=typeof WeakSet=="function"?WeakSet:Set,L=null;function gr(e,t){var n=e.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){Se(e,t,r)}else n.current=null}function Ql(e,t,n){try{n()}catch(r){Se(e,t,r)}}var Uc=!1;function fy(e,t){if(Rl=Ni,e=bf(),Da(e)){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{n=(n=e.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var o=r.anchorOffset,i=r.focusNode;r=r.focusOffset;try{n.nodeType,i.nodeType}catch{n=null;break e}var s=0,u=-1,c=-1,d=0,g=0,m=e,h=null;t:for(;;){for(var v;m!==n||o!==0&&m.nodeType!==3||(u=s+o),m!==i||r!==0&&m.nodeType!==3||(c=s+r),m.nodeType===3&&(s+=m.nodeValue.length),(v=m.firstChild)!==null;)h=m,m=v;for(;;){if(m===e)break t;if(h===n&&++d===o&&(u=s),h===i&&++g===r&&(c=s),(v=m.nextSibling)!==null)break;m=h,h=m.parentNode}m=v}n=u===-1||c===-1?null:{start:u,end:c}}else n=null}n=n||{start:0,end:0}}else n=null;for(Ol={focusedElem:e,selectionRange:n},Ni=!1,L=t;L!==null;)if(t=L,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,L=e;else for(;L!==null;){t=L;try{var k=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(k!==null){var w=k.memoizedProps,E=k.memoizedState,p=t.stateNode,f=p.getSnapshotBeforeUpdate(t.elementType===t.type?w:bt(t.type,w),E);p.__reactInternalSnapshotBeforeUpdate=f}break;case 3:var y=t.stateNode.containerInfo;y.nodeType===1?y.textContent="":y.nodeType===9&&y.documentElement&&y.removeChild(y.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(T(163))}}catch(S){Se(t,t.return,S)}if(e=t.sibling,e!==null){e.return=t.return,L=e;break}L=t.return}return k=Uc,Uc=!1,k}function so(e,t,n){var r=t.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var o=r=r.next;do{if((o.tag&e)===e){var i=o.destroy;o.destroy=void 0,i!==void 0&&Ql(t,n,i)}o=o.next}while(o!==r)}}function fs(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function Yl(e){var t=e.ref;if(t!==null){var n=e.stateNode;switch(e.tag){case 5:e=n;break;default:e=n}typeof t=="function"?t(e):t.current=e}}function Rp(e){var t=e.alternate;t!==null&&(e.alternate=null,Rp(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[Ht],delete t[To],delete t[bl],delete t[Xg],delete t[Qg])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function Op(e){return e.tag===5||e.tag===3||e.tag===4}function Bc(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||Op(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Zl(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.nodeType===8?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(n.nodeType===8?(t=n.parentNode,t.insertBefore(e,n)):(t=n,t.appendChild(e)),n=n._reactRootContainer,n!=null||t.onclick!==null||(t.onclick=Ri));else if(r!==4&&(e=e.child,e!==null))for(Zl(e,t,n),e=e.sibling;e!==null;)Zl(e,t,n),e=e.sibling}function Jl(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(r!==4&&(e=e.child,e!==null))for(Jl(e,t,n),e=e.sibling;e!==null;)Jl(e,t,n),e=e.sibling}var Fe=null,Mt=!1;function dn(e,t,n){for(n=n.child;n!==null;)Lp(e,t,n),n=n.sibling}function Lp(e,t,n){if(Xt&&typeof Xt.onCommitFiberUnmount=="function")try{Xt.onCommitFiberUnmount(os,n)}catch{}switch(n.tag){case 5:Ve||gr(n,t);case 6:var r=Fe,o=Mt;Fe=null,dn(e,t,n),Fe=r,Mt=o,Fe!==null&&(Mt?(e=Fe,n=n.stateNode,e.nodeType===8?e.parentNode.removeChild(n):e.removeChild(n)):Fe.removeChild(n.stateNode));break;case 18:Fe!==null&&(Mt?(e=Fe,n=n.stateNode,e.nodeType===8?Bs(e.parentNode,n):e.nodeType===1&&Bs(e,n),xo(e)):Bs(Fe,n.stateNode));break;case 4:r=Fe,o=Mt,Fe=n.stateNode.containerInfo,Mt=!0,dn(e,t,n),Fe=r,Mt=o;break;case 0:case 11:case 14:case 15:if(!Ve&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){o=r=r.next;do{var i=o,s=i.destroy;i=i.tag,s!==void 0&&(i&2||i&4)&&Ql(n,t,s),o=o.next}while(o!==r)}dn(e,t,n);break;case 1:if(!Ve&&(gr(n,t),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(u){Se(n,t,u)}dn(e,t,n);break;case 21:dn(e,t,n);break;case 22:n.mode&1?(Ve=(r=Ve)||n.memoizedState!==null,dn(e,t,n),Ve=r):dn(e,t,n);break;default:dn(e,t,n)}}function $c(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var n=e.stateNode;n===null&&(n=e.stateNode=new dy),t.forEach(function(r){var o=Ey.bind(null,e,r);n.has(r)||(n.add(r),r.then(o,o))})}}function Dt(e,t){var n=t.deletions;if(n!==null)for(var r=0;r<n.length;r++){var o=n[r];try{var i=e,s=t,u=s;e:for(;u!==null;){switch(u.tag){case 5:Fe=u.stateNode,Mt=!1;break e;case 3:Fe=u.stateNode.containerInfo,Mt=!0;break e;case 4:Fe=u.stateNode.containerInfo,Mt=!0;break e}u=u.return}if(Fe===null)throw Error(T(160));Lp(i,s,o),Fe=null,Mt=!1;var c=o.alternate;c!==null&&(c.return=null),o.return=null}catch(d){Se(o,t,d)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)Dp(t,e),t=t.sibling}function Dp(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(Dt(t,e),Kt(e),r&4){try{so(3,e,e.return),fs(3,e)}catch(w){Se(e,e.return,w)}try{so(5,e,e.return)}catch(w){Se(e,e.return,w)}}break;case 1:Dt(t,e),Kt(e),r&512&&n!==null&&gr(n,n.return);break;case 5:if(Dt(t,e),Kt(e),r&512&&n!==null&&gr(n,n.return),e.flags&32){var o=e.stateNode;try{go(o,"")}catch(w){Se(e,e.return,w)}}if(r&4&&(o=e.stateNode,o!=null)){var i=e.memoizedProps,s=n!==null?n.memoizedProps:i,u=e.type,c=e.updateQueue;if(e.updateQueue=null,c!==null)try{u==="input"&&i.type==="radio"&&i.name!=null&&nf(o,i),wl(u,s);var d=wl(u,i);for(s=0;s<c.length;s+=2){var g=c[s],m=c[s+1];g==="style"?af(o,m):g==="dangerouslySetInnerHTML"?sf(o,m):g==="children"?go(o,m):wa(o,g,m,d)}switch(u){case"input":yl(o,i);break;case"textarea":rf(o,i);break;case"select":var h=o._wrapperState.wasMultiple;o._wrapperState.wasMultiple=!!i.multiple;var v=i.value;v!=null?xr(o,!!i.multiple,v,!1):h!==!!i.multiple&&(i.defaultValue!=null?xr(o,!!i.multiple,i.defaultValue,!0):xr(o,!!i.multiple,i.multiple?[]:"",!1))}o[To]=i}catch(w){Se(e,e.return,w)}}break;case 6:if(Dt(t,e),Kt(e),r&4){if(e.stateNode===null)throw Error(T(162));o=e.stateNode,i=e.memoizedProps;try{o.nodeValue=i}catch(w){Se(e,e.return,w)}}break;case 3:if(Dt(t,e),Kt(e),r&4&&n!==null&&n.memoizedState.isDehydrated)try{xo(t.containerInfo)}catch(w){Se(e,e.return,w)}break;case 4:Dt(t,e),Kt(e);break;case 13:Dt(t,e),Kt(e),o=e.child,o.flags&8192&&(i=o.memoizedState!==null,o.stateNode.isHidden=i,!i||o.alternate!==null&&o.alternate.memoizedState!==null||(tu=Ae())),r&4&&$c(e);break;case 22:if(g=n!==null&&n.memoizedState!==null,e.mode&1?(Ve=(d=Ve)||g,Dt(t,e),Ve=d):Dt(t,e),Kt(e),r&8192){if(d=e.memoizedState!==null,(e.stateNode.isHidden=d)&&!g&&e.mode&1)for(L=e,g=e.child;g!==null;){for(m=L=g;L!==null;){switch(h=L,v=h.child,h.tag){case 0:case 11:case 14:case 15:so(4,h,h.return);break;case 1:gr(h,h.return);var k=h.stateNode;if(typeof k.componentWillUnmount=="function"){r=h,n=h.return;try{t=r,k.props=t.memoizedProps,k.state=t.memoizedState,k.componentWillUnmount()}catch(w){Se(r,n,w)}}break;case 5:gr(h,h.return);break;case 22:if(h.memoizedState!==null){Wc(m);continue}}v!==null?(v.return=h,L=v):Wc(m)}g=g.sibling}e:for(g=null,m=e;;){if(m.tag===5){if(g===null){g=m;try{o=m.stateNode,d?(i=o.style,typeof i.setProperty=="function"?i.setProperty("display","none","important"):i.display="none"):(u=m.stateNode,c=m.memoizedProps.style,s=c!=null&&c.hasOwnProperty("display")?c.display:null,u.style.display=lf("display",s))}catch(w){Se(e,e.return,w)}}}else if(m.tag===6){if(g===null)try{m.stateNode.nodeValue=d?"":m.memoizedProps}catch(w){Se(e,e.return,w)}}else if((m.tag!==22&&m.tag!==23||m.memoizedState===null||m===e)&&m.child!==null){m.child.return=m,m=m.child;continue}if(m===e)break e;for(;m.sibling===null;){if(m.return===null||m.return===e)break e;g===m&&(g=null),m=m.return}g===m&&(g=null),m.sibling.return=m.return,m=m.sibling}}break;case 19:Dt(t,e),Kt(e),r&4&&$c(e);break;case 21:break;default:Dt(t,e),Kt(e)}}function Kt(e){var t=e.flags;if(t&2){try{e:{for(var n=e.return;n!==null;){if(Op(n)){var r=n;break e}n=n.return}throw Error(T(160))}switch(r.tag){case 5:var o=r.stateNode;r.flags&32&&(go(o,""),r.flags&=-33);var i=Bc(e);Jl(e,i,o);break;case 3:case 4:var s=r.stateNode.containerInfo,u=Bc(e);Zl(e,u,s);break;default:throw Error(T(161))}}catch(c){Se(e,e.return,c)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function py(e,t,n){L=e,bp(e)}function bp(e,t,n){for(var r=(e.mode&1)!==0;L!==null;){var o=L,i=o.child;if(o.tag===22&&r){var s=o.memoizedState!==null||ri;if(!s){var u=o.alternate,c=u!==null&&u.memoizedState!==null||Ve;u=ri;var d=Ve;if(ri=s,(Ve=c)&&!d)for(L=o;L!==null;)s=L,c=s.child,s.tag===22&&s.memoizedState!==null?Vc(o):c!==null?(c.return=s,L=c):Vc(o);for(;i!==null;)L=i,bp(i),i=i.sibling;L=o,ri=u,Ve=d}Kc(e)}else o.subtreeFlags&8772&&i!==null?(i.return=o,L=i):Kc(e)}}function Kc(e){for(;L!==null;){var t=L;if(t.flags&8772){var n=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:Ve||fs(5,t);break;case 1:var r=t.stateNode;if(t.flags&4&&!Ve)if(n===null)r.componentDidMount();else{var o=t.elementType===t.type?n.memoizedProps:bt(t.type,n.memoizedProps);r.componentDidUpdate(o,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var i=t.updateQueue;i!==null&&Ic(t,i,r);break;case 3:var s=t.updateQueue;if(s!==null){if(n=null,t.child!==null)switch(t.child.tag){case 5:n=t.child.stateNode;break;case 1:n=t.child.stateNode}Ic(t,s,n)}break;case 5:var u=t.stateNode;if(n===null&&t.flags&4){n=u;var c=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&n.focus();break;case"img":c.src&&(n.src=c.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var d=t.alternate;if(d!==null){var g=d.memoizedState;if(g!==null){var m=g.dehydrated;m!==null&&xo(m)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(T(163))}Ve||t.flags&512&&Yl(t)}catch(h){Se(t,t.return,h)}}if(t===e){L=null;break}if(n=t.sibling,n!==null){n.return=t.return,L=n;break}L=t.return}}function Wc(e){for(;L!==null;){var t=L;if(t===e){L=null;break}var n=t.sibling;if(n!==null){n.return=t.return,L=n;break}L=t.return}}function Vc(e){for(;L!==null;){var t=L;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{fs(4,t)}catch(c){Se(t,n,c)}break;case 1:var r=t.stateNode;if(typeof r.componentDidMount=="function"){var o=t.return;try{r.componentDidMount()}catch(c){Se(t,o,c)}}var i=t.return;try{Yl(t)}catch(c){Se(t,i,c)}break;case 5:var s=t.return;try{Yl(t)}catch(c){Se(t,s,c)}}}catch(c){Se(t,t.return,c)}if(t===e){L=null;break}var u=t.sibling;if(u!==null){u.return=t.return,L=u;break}L=t.return}}var my=Math.ceil,Ki=cn.ReactCurrentDispatcher,qa=cn.ReactCurrentOwner,Pt=cn.ReactCurrentBatchConfig,J=0,ze=null,Ne=null,Ue=0,pt=0,yr=Rn(0),Re=0,jo=null,Qn=0,ps=0,eu=0,lo=null,tt=null,tu=0,Or=1/0,Zt=null,Wi=!1,ql=null,_n=null,oi=!1,vn=null,Vi=0,ao=0,ea=null,Si=-1,xi=0;function Ye(){return J&6?Ae():Si!==-1?Si:Si=Ae()}function In(e){return e.mode&1?J&2&&Ue!==0?Ue&-Ue:Zg.transition!==null?(xi===0&&(xi=xf()),xi):(e=oe,e!==0||(e=window.event,e=e===void 0?16:If(e.type)),e):1}function Bt(e,t,n,r){if(50<ao)throw ao=0,ea=null,Error(T(185));Do(e,n,r),(!(J&2)||e!==ze)&&(e===ze&&(!(J&2)&&(ps|=n),Re===4&&hn(e,Ue)),st(e,r),n===1&&J===0&&!(t.mode&1)&&(Or=Ae()+500,us&&On()))}function st(e,t){var n=e.callbackNode;Zh(e,t);var r=Ci(e,e===ze?Ue:0);if(r===0)n!==null&&ec(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(n!=null&&ec(n),t===1)e.tag===0?Yg(Hc.bind(null,e)):Hf(Hc.bind(null,e)),Hg(function(){!(J&6)&&On()}),n=null;else{switch(Ef(r)){case 1:n=Ia;break;case 4:n=vf;break;case 16:n=Ii;break;case 536870912:n=Sf;break;default:n=Ii}n=Wp(n,zp.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function zp(e,t){if(Si=-1,xi=0,J&6)throw Error(T(327));var n=e.callbackNode;if(Tr()&&e.callbackNode!==n)return null;var r=Ci(e,e===ze?Ue:0);if(r===0)return null;if(r&30||r&e.expiredLanes||t)t=Hi(e,r);else{t=r;var o=J;J|=2;var i=Fp();(ze!==e||Ue!==t)&&(Zt=null,Or=Ae()+500,Kn(e,t));do try{yy();break}catch(u){Mp(e,u)}while(!0);Ua(),Ki.current=i,J=o,Ne!==null?t=0:(ze=null,Ue=0,t=Re)}if(t!==0){if(t===2&&(o=Il(e),o!==0&&(r=o,t=ta(e,o))),t===1)throw n=jo,Kn(e,0),hn(e,r),st(e,Ae()),n;if(t===6)hn(e,r);else{if(o=e.current.alternate,!(r&30)&&!hy(o)&&(t=Hi(e,r),t===2&&(i=Il(e),i!==0&&(r=i,t=ta(e,i))),t===1))throw n=jo,Kn(e,0),hn(e,r),st(e,Ae()),n;switch(e.finishedWork=o,e.finishedLanes=r,t){case 0:case 1:throw Error(T(345));case 2:bn(e,tt,Zt);break;case 3:if(hn(e,r),(r&130023424)===r&&(t=tu+500-Ae(),10<t)){if(Ci(e,0)!==0)break;if(o=e.suspendedLanes,(o&r)!==r){Ye(),e.pingedLanes|=e.suspendedLanes&o;break}e.timeoutHandle=Dl(bn.bind(null,e,tt,Zt),t);break}bn(e,tt,Zt);break;case 4:if(hn(e,r),(r&4194240)===r)break;for(t=e.eventTimes,o=-1;0<r;){var s=31-Ut(r);i=1<<s,s=t[s],s>o&&(o=s),r&=~i}if(r=o,r=Ae()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*my(r/1960))-r,10<r){e.timeoutHandle=Dl(bn.bind(null,e,tt,Zt),r);break}bn(e,tt,Zt);break;case 5:bn(e,tt,Zt);break;default:throw Error(T(329))}}}return st(e,Ae()),e.callbackNode===n?zp.bind(null,e):null}function ta(e,t){var n=lo;return e.current.memoizedState.isDehydrated&&(Kn(e,t).flags|=256),e=Hi(e,t),e!==2&&(t=tt,tt=n,t!==null&&na(t)),e}function na(e){tt===null?tt=e:tt.push.apply(tt,e)}function hy(e){for(var t=e;;){if(t.flags&16384){var n=t.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var o=n[r],i=o.getSnapshot;o=o.value;try{if(!$t(i(),o))return!1}catch{return!1}}}if(n=t.child,t.subtreeFlags&16384&&n!==null)n.return=t,t=n;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function hn(e,t){for(t&=~eu,t&=~ps,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-Ut(t),r=1<<n;e[n]=-1,t&=~r}}function Hc(e){if(J&6)throw Error(T(327));Tr();var t=Ci(e,0);if(!(t&1))return st(e,Ae()),null;var n=Hi(e,t);if(e.tag!==0&&n===2){var r=Il(e);r!==0&&(t=r,n=ta(e,r))}if(n===1)throw n=jo,Kn(e,0),hn(e,t),st(e,Ae()),n;if(n===6)throw Error(T(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,bn(e,tt,Zt),st(e,Ae()),null}function nu(e,t){var n=J;J|=1;try{return e(t)}finally{J=n,J===0&&(Or=Ae()+500,us&&On())}}function Yn(e){vn!==null&&vn.tag===0&&!(J&6)&&Tr();var t=J;J|=1;var n=Pt.transition,r=oe;try{if(Pt.transition=null,oe=1,e)return e()}finally{oe=r,Pt.transition=n,J=t,!(J&6)&&On()}}function ru(){pt=yr.current,ce(yr)}function Kn(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(n!==-1&&(e.timeoutHandle=-1,Vg(n)),Ne!==null)for(n=Ne.return;n!==null;){var r=n;switch(za(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&Oi();break;case 3:jr(),ce(ot),ce(Ge),Ha();break;case 5:Va(r);break;case 4:jr();break;case 13:ce(me);break;case 19:ce(me);break;case 10:Ba(r.type._context);break;case 22:case 23:ru()}n=n.return}if(ze=e,Ne=e=Cn(e.current,null),Ue=pt=t,Re=0,jo=null,eu=ps=Qn=0,tt=lo=null,Mn!==null){for(t=0;t<Mn.length;t++)if(n=Mn[t],r=n.interleaved,r!==null){n.interleaved=null;var o=r.next,i=n.pending;if(i!==null){var s=i.next;i.next=o,r.next=s}n.pending=r}Mn=null}return e}function Mp(e,t){do{var n=Ne;try{if(Ua(),gi.current=$i,Bi){for(var r=he.memoizedState;r!==null;){var o=r.queue;o!==null&&(o.pending=null),r=r.next}Bi=!1}if(Xn=0,be=Pe=he=null,io=!1,Co=0,qa.current=null,n===null||n.return===null){Re=1,jo=t,Ne=null;break}e:{var i=e,s=n.return,u=n,c=t;if(t=Ue,u.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){var d=c,g=u,m=g.tag;if(!(g.mode&1)&&(m===0||m===11||m===15)){var h=g.alternate;h?(g.updateQueue=h.updateQueue,g.memoizedState=h.memoizedState,g.lanes=h.lanes):(g.updateQueue=null,g.memoizedState=null)}var v=Oc(s);if(v!==null){v.flags&=-257,Lc(v,s,u,i,t),v.mode&1&&Rc(i,d,t),t=v,c=d;var k=t.updateQueue;if(k===null){var w=new Set;w.add(c),t.updateQueue=w}else k.add(c);break e}else{if(!(t&1)){Rc(i,d,t),ou();break e}c=Error(T(426))}}else if(fe&&u.mode&1){var E=Oc(s);if(E!==null){!(E.flags&65536)&&(E.flags|=256),Lc(E,s,u,i,t),Ma(Rr(c,u));break e}}i=c=Rr(c,u),Re!==4&&(Re=2),lo===null?lo=[i]:lo.push(i),i=s;do{switch(i.tag){case 3:i.flags|=65536,t&=-t,i.lanes|=t;var p=Ep(i,c,t);_c(i,p);break e;case 1:u=c;var f=i.type,y=i.stateNode;if(!(i.flags&128)&&(typeof f.getDerivedStateFromError=="function"||y!==null&&typeof y.componentDidCatch=="function"&&(_n===null||!_n.has(y)))){i.flags|=65536,t&=-t,i.lanes|=t;var S=wp(i,u,t);_c(i,S);break e}}i=i.return}while(i!==null)}Bp(n)}catch(I){t=I,Ne===n&&n!==null&&(Ne=n=n.return);continue}break}while(!0)}function Fp(){var e=Ki.current;return Ki.current=$i,e===null?$i:e}function ou(){(Re===0||Re===3||Re===2)&&(Re=4),ze===null||!(Qn&268435455)&&!(ps&268435455)||hn(ze,Ue)}function Hi(e,t){var n=J;J|=2;var r=Fp();(ze!==e||Ue!==t)&&(Zt=null,Kn(e,t));do try{gy();break}catch(o){Mp(e,o)}while(!0);if(Ua(),J=n,Ki.current=r,Ne!==null)throw Error(T(261));return ze=null,Ue=0,Re}function gy(){for(;Ne!==null;)Up(Ne)}function yy(){for(;Ne!==null&&!$h();)Up(Ne)}function Up(e){var t=Kp(e.alternate,e,pt);e.memoizedProps=e.pendingProps,t===null?Bp(e):Ne=t,qa.current=null}function Bp(e){var t=e;do{var n=t.alternate;if(e=t.return,t.flags&32768){if(n=cy(n,t),n!==null){n.flags&=32767,Ne=n;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{Re=6,Ne=null;return}}else if(n=uy(n,t,pt),n!==null){Ne=n;return}if(t=t.sibling,t!==null){Ne=t;return}Ne=t=e}while(t!==null);Re===0&&(Re=5)}function bn(e,t,n){var r=oe,o=Pt.transition;try{Pt.transition=null,oe=1,vy(e,t,n,r)}finally{Pt.transition=o,oe=r}return null}function vy(e,t,n,r){do Tr();while(vn!==null);if(J&6)throw Error(T(327));n=e.finishedWork;var o=e.finishedLanes;if(n===null)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(T(177));e.callbackNode=null,e.callbackPriority=0;var i=n.lanes|n.childLanes;if(Jh(e,i),e===ze&&(Ne=ze=null,Ue=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||oi||(oi=!0,Wp(Ii,function(){return Tr(),null})),i=(n.flags&15990)!==0,n.subtreeFlags&15990||i){i=Pt.transition,Pt.transition=null;var s=oe;oe=1;var u=J;J|=4,qa.current=null,fy(e,n),Dp(n,e),Mg(Ol),Ni=!!Rl,Ol=Rl=null,e.current=n,py(n),Kh(),J=u,oe=s,Pt.transition=i}else e.current=n;if(oi&&(oi=!1,vn=e,Vi=o),i=e.pendingLanes,i===0&&(_n=null),Hh(n.stateNode),st(e,Ae()),t!==null)for(r=e.onRecoverableError,n=0;n<t.length;n++)o=t[n],r(o.value,{componentStack:o.stack,digest:o.digest});if(Wi)throw Wi=!1,e=ql,ql=null,e;return Vi&1&&e.tag!==0&&Tr(),i=e.pendingLanes,i&1?e===ea?ao++:(ao=0,ea=e):ao=0,On(),null}function Tr(){if(vn!==null){var e=Ef(Vi),t=Pt.transition,n=oe;try{if(Pt.transition=null,oe=16>e?16:e,vn===null)var r=!1;else{if(e=vn,vn=null,Vi=0,J&6)throw Error(T(331));var o=J;for(J|=4,L=e.current;L!==null;){var i=L,s=i.child;if(L.flags&16){var u=i.deletions;if(u!==null){for(var c=0;c<u.length;c++){var d=u[c];for(L=d;L!==null;){var g=L;switch(g.tag){case 0:case 11:case 15:so(8,g,i)}var m=g.child;if(m!==null)m.return=g,L=m;else for(;L!==null;){g=L;var h=g.sibling,v=g.return;if(Rp(g),g===d){L=null;break}if(h!==null){h.return=v,L=h;break}L=v}}}var k=i.alternate;if(k!==null){var w=k.child;if(w!==null){k.child=null;do{var E=w.sibling;w.sibling=null,w=E}while(w!==null)}}L=i}}if(i.subtreeFlags&2064&&s!==null)s.return=i,L=s;else e:for(;L!==null;){if(i=L,i.flags&2048)switch(i.tag){case 0:case 11:case 15:so(9,i,i.return)}var p=i.sibling;if(p!==null){p.return=i.return,L=p;break e}L=i.return}}var f=e.current;for(L=f;L!==null;){s=L;var y=s.child;if(s.subtreeFlags&2064&&y!==null)y.return=s,L=y;else e:for(s=f;L!==null;){if(u=L,u.flags&2048)try{switch(u.tag){case 0:case 11:case 15:fs(9,u)}}catch(I){Se(u,u.return,I)}if(u===s){L=null;break e}var S=u.sibling;if(S!==null){S.return=u.return,L=S;break e}L=u.return}}if(J=o,On(),Xt&&typeof Xt.onPostCommitFiberRoot=="function")try{Xt.onPostCommitFiberRoot(os,e)}catch{}r=!0}return r}finally{oe=n,Pt.transition=t}}return!1}function Gc(e,t,n){t=Rr(n,t),t=Ep(e,t,1),e=Tn(e,t,1),t=Ye(),e!==null&&(Do(e,1,t),st(e,t))}function Se(e,t,n){if(e.tag===3)Gc(e,e,n);else for(;t!==null;){if(t.tag===3){Gc(t,e,n);break}else if(t.tag===1){var r=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(_n===null||!_n.has(r))){e=Rr(n,e),e=wp(t,e,1),t=Tn(t,e,1),e=Ye(),t!==null&&(Do(t,1,e),st(t,e));break}}t=t.return}}function Sy(e,t,n){var r=e.pingCache;r!==null&&r.delete(t),t=Ye(),e.pingedLanes|=e.suspendedLanes&n,ze===e&&(Ue&n)===n&&(Re===4||Re===3&&(Ue&130023424)===Ue&&500>Ae()-tu?Kn(e,0):eu|=n),st(e,t)}function $p(e,t){t===0&&(e.mode&1?(t=Xo,Xo<<=1,!(Xo&130023424)&&(Xo=4194304)):t=1);var n=Ye();e=ln(e,t),e!==null&&(Do(e,t,n),st(e,n))}function xy(e){var t=e.memoizedState,n=0;t!==null&&(n=t.retryLane),$p(e,n)}function Ey(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,o=e.memoizedState;o!==null&&(n=o.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(T(314))}r!==null&&r.delete(t),$p(e,n)}var Kp;Kp=function(e,t,n){if(e!==null)if(e.memoizedProps!==t.pendingProps||ot.current)nt=!0;else{if(!(e.lanes&n)&&!(t.flags&128))return nt=!1,ay(e,t,n);nt=!!(e.flags&131072)}else nt=!1,fe&&t.flags&1048576&&Gf(t,bi,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;vi(e,t),e=t.pendingProps;var o=Cr(t,Ge.current);Ar(t,n),o=Xa(null,t,r,e,o,n);var i=Qa();return t.flags|=1,typeof o=="object"&&o!==null&&typeof o.render=="function"&&o.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,it(r)?(i=!0,Li(t)):i=!1,t.memoizedState=o.state!==null&&o.state!==void 0?o.state:null,Ka(t),o.updater=ds,t.stateNode=o,o._reactInternals=t,$l(t,r,e,n),t=Vl(null,t,r,!0,i,n)):(t.tag=0,fe&&i&&ba(t),Xe(null,t,o,n),t=t.child),t;case 16:r=t.elementType;e:{switch(vi(e,t),e=t.pendingProps,o=r._init,r=o(r._payload),t.type=r,o=t.tag=ky(r),e=bt(r,e),o){case 0:t=Wl(null,t,r,e,n);break e;case 1:t=zc(null,t,r,e,n);break e;case 11:t=Dc(null,t,r,e,n);break e;case 14:t=bc(null,t,r,bt(r.type,e),n);break e}throw Error(T(306,r,""))}return t;case 0:return r=t.type,o=t.pendingProps,o=t.elementType===r?o:bt(r,o),Wl(e,t,r,o,n);case 1:return r=t.type,o=t.pendingProps,o=t.elementType===r?o:bt(r,o),zc(e,t,r,o,n);case 3:e:{if(_p(t),e===null)throw Error(T(387));r=t.pendingProps,i=t.memoizedState,o=i.element,qf(e,t),Fi(t,r,null,n);var s=t.memoizedState;if(r=s.element,i.isDehydrated)if(i={element:r,isDehydrated:!1,cache:s.cache,pendingSuspenseBoundaries:s.pendingSuspenseBoundaries,transitions:s.transitions},t.updateQueue.baseState=i,t.memoizedState=i,t.flags&256){o=Rr(Error(T(423)),t),t=Mc(e,t,r,n,o);break e}else if(r!==o){o=Rr(Error(T(424)),t),t=Mc(e,t,r,n,o);break e}else for(ht=An(t.stateNode.containerInfo.firstChild),gt=t,fe=!0,Ft=null,n=Zf(t,null,r,n),t.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(Nr(),r===o){t=an(e,t,n);break e}Xe(e,t,r,n)}t=t.child}return t;case 5:return ep(t),e===null&&Fl(t),r=t.type,o=t.pendingProps,i=e!==null?e.memoizedProps:null,s=o.children,Ll(r,o)?s=null:i!==null&&Ll(r,i)&&(t.flags|=32),Tp(e,t),Xe(e,t,s,n),t.child;case 6:return e===null&&Fl(t),null;case 13:return Ip(e,t,n);case 4:return Wa(t,t.stateNode.containerInfo),r=t.pendingProps,e===null?t.child=Pr(t,null,r,n):Xe(e,t,r,n),t.child;case 11:return r=t.type,o=t.pendingProps,o=t.elementType===r?o:bt(r,o),Dc(e,t,r,o,n);case 7:return Xe(e,t,t.pendingProps,n),t.child;case 8:return Xe(e,t,t.pendingProps.children,n),t.child;case 12:return Xe(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,o=t.pendingProps,i=t.memoizedProps,s=o.value,le(zi,r._currentValue),r._currentValue=s,i!==null)if($t(i.value,s)){if(i.children===o.children&&!ot.current){t=an(e,t,n);break e}}else for(i=t.child,i!==null&&(i.return=t);i!==null;){var u=i.dependencies;if(u!==null){s=i.child;for(var c=u.firstContext;c!==null;){if(c.context===r){if(i.tag===1){c=nn(-1,n&-n),c.tag=2;var d=i.updateQueue;if(d!==null){d=d.shared;var g=d.pending;g===null?c.next=c:(c.next=g.next,g.next=c),d.pending=c}}i.lanes|=n,c=i.alternate,c!==null&&(c.lanes|=n),Ul(i.return,n,t),u.lanes|=n;break}c=c.next}}else if(i.tag===10)s=i.type===t.type?null:i.child;else if(i.tag===18){if(s=i.return,s===null)throw Error(T(341));s.lanes|=n,u=s.alternate,u!==null&&(u.lanes|=n),Ul(s,n,t),s=i.sibling}else s=i.child;if(s!==null)s.return=i;else for(s=i;s!==null;){if(s===t){s=null;break}if(i=s.sibling,i!==null){i.return=s.return,s=i;break}s=s.return}i=s}Xe(e,t,o.children,n),t=t.child}return t;case 9:return o=t.type,r=t.pendingProps.children,Ar(t,n),o=jt(o),r=r(o),t.flags|=1,Xe(e,t,r,n),t.child;case 14:return r=t.type,o=bt(r,t.pendingProps),o=bt(r.type,o),bc(e,t,r,o,n);case 15:return kp(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,o=t.pendingProps,o=t.elementType===r?o:bt(r,o),vi(e,t),t.tag=1,it(r)?(e=!0,Li(t)):e=!1,Ar(t,n),xp(t,r,o),$l(t,r,o,n),Vl(null,t,r,!0,e,n);case 19:return Cp(e,t,n);case 22:return Ap(e,t,n)}throw Error(T(156,t.tag))};function Wp(e,t){return yf(e,t)}function wy(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Ct(e,t,n,r){return new wy(e,t,n,r)}function iu(e){return e=e.prototype,!(!e||!e.isReactComponent)}function ky(e){if(typeof e=="function")return iu(e)?1:0;if(e!=null){if(e=e.$$typeof,e===Aa)return 11;if(e===Ta)return 14}return 2}function Cn(e,t){var n=e.alternate;return n===null?(n=Ct(e.tag,t,e.key,e.mode),n.elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=e.flags&14680064,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function Ei(e,t,n,r,o,i){var s=2;if(r=e,typeof e=="function")iu(e)&&(s=1);else if(typeof e=="string")s=5;else e:switch(e){case lr:return Wn(n.children,o,i,t);case ka:s=8,o|=8;break;case fl:return e=Ct(12,n,t,o|2),e.elementType=fl,e.lanes=i,e;case pl:return e=Ct(13,n,t,o),e.elementType=pl,e.lanes=i,e;case ml:return e=Ct(19,n,t,o),e.elementType=ml,e.lanes=i,e;case qd:return ms(n,o,i,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case Zd:s=10;break e;case Jd:s=9;break e;case Aa:s=11;break e;case Ta:s=14;break e;case fn:s=16,r=null;break e}throw Error(T(130,e==null?e:typeof e,""))}return t=Ct(s,n,t,o),t.elementType=e,t.type=r,t.lanes=i,t}function Wn(e,t,n,r){return e=Ct(7,e,r,t),e.lanes=n,e}function ms(e,t,n,r){return e=Ct(22,e,r,t),e.elementType=qd,e.lanes=n,e.stateNode={isHidden:!1},e}function Qs(e,t,n){return e=Ct(6,e,null,t),e.lanes=n,e}function Ys(e,t,n){return t=Ct(4,e.children!==null?e.children:[],e.key,t),t.lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function Ay(e,t,n,r,o){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Ps(0),this.expirationTimes=Ps(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Ps(0),this.identifierPrefix=r,this.onRecoverableError=o,this.mutableSourceEagerHydrationData=null}function su(e,t,n,r,o,i,s,u,c){return e=new Ay(e,t,n,u,c),t===1?(t=1,i===!0&&(t|=8)):t=0,i=Ct(3,null,null,t),e.current=i,i.stateNode=e,i.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Ka(i),e}function Ty(e,t,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:sr,key:r==null?null:""+r,children:e,containerInfo:t,implementation:n}}function Vp(e){if(!e)return Pn;e=e._reactInternals;e:{if(qn(e)!==e||e.tag!==1)throw Error(T(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(it(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(T(171))}if(e.tag===1){var n=e.type;if(it(n))return Vf(e,n,t)}return t}function Hp(e,t,n,r,o,i,s,u,c){return e=su(n,r,!0,e,o,i,s,u,c),e.context=Vp(null),n=e.current,r=Ye(),o=In(n),i=nn(r,o),i.callback=t??null,Tn(n,i,o),e.current.lanes=o,Do(e,o,r),st(e,r),e}function hs(e,t,n,r){var o=t.current,i=Ye(),s=In(o);return n=Vp(n),t.context===null?t.context=n:t.pendingContext=n,t=nn(i,s),t.payload={element:e},r=r===void 0?null:r,r!==null&&(t.callback=r),e=Tn(o,t,s),e!==null&&(Bt(e,o,s,i),hi(e,o,s)),s}function Gi(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function Xc(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var n=e.retryLane;e.retryLane=n!==0&&n<t?n:t}}function lu(e,t){Xc(e,t),(e=e.alternate)&&Xc(e,t)}function _y(){return null}var Gp=typeof reportError=="function"?reportError:function(e){console.error(e)};function au(e){this._internalRoot=e}gs.prototype.render=au.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(T(409));hs(e,t,null,null)};gs.prototype.unmount=au.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;Yn(function(){hs(null,e,null,null)}),t[sn]=null}};function gs(e){this._internalRoot=e}gs.prototype.unstable_scheduleHydration=function(e){if(e){var t=Af();e={blockedOn:null,target:e,priority:t};for(var n=0;n<mn.length&&t!==0&&t<mn[n].priority;n++);mn.splice(n,0,e),n===0&&_f(e)}};function uu(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function ys(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function Qc(){}function Iy(e,t,n,r,o){if(o){if(typeof r=="function"){var i=r;r=function(){var d=Gi(s);i.call(d)}}var s=Hp(t,r,e,0,null,!1,!1,"",Qc);return e._reactRootContainer=s,e[sn]=s.current,ko(e.nodeType===8?e.parentNode:e),Yn(),s}for(;o=e.lastChild;)e.removeChild(o);if(typeof r=="function"){var u=r;r=function(){var d=Gi(c);u.call(d)}}var c=su(e,0,!1,null,null,!1,!1,"",Qc);return e._reactRootContainer=c,e[sn]=c.current,ko(e.nodeType===8?e.parentNode:e),Yn(function(){hs(t,c,n,r)}),c}function vs(e,t,n,r,o){var i=n._reactRootContainer;if(i){var s=i;if(typeof o=="function"){var u=o;o=function(){var c=Gi(s);u.call(c)}}hs(t,s,e,o)}else s=Iy(n,t,e,o,r);return Gi(s)}wf=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=Jr(t.pendingLanes);n!==0&&(Ca(t,n|1),st(t,Ae()),!(J&6)&&(Or=Ae()+500,On()))}break;case 13:Yn(function(){var r=ln(e,1);if(r!==null){var o=Ye();Bt(r,e,1,o)}}),lu(e,1)}};Na=function(e){if(e.tag===13){var t=ln(e,134217728);if(t!==null){var n=Ye();Bt(t,e,134217728,n)}lu(e,134217728)}};kf=function(e){if(e.tag===13){var t=In(e),n=ln(e,t);if(n!==null){var r=Ye();Bt(n,e,t,r)}lu(e,t)}};Af=function(){return oe};Tf=function(e,t){var n=oe;try{return oe=e,t()}finally{oe=n}};Al=function(e,t,n){switch(t){case"input":if(yl(e,n),t=n.name,n.type==="radio"&&t!=null){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var o=as(r);if(!o)throw Error(T(90));tf(r),yl(r,o)}}}break;case"textarea":rf(e,n);break;case"select":t=n.value,t!=null&&xr(e,!!n.multiple,t,!1)}};df=nu;ff=Yn;var Cy={usingClientEntryPoint:!1,Events:[zo,dr,as,uf,cf,nu]},Gr={findFiberByHostInstance:zn,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},Ny={bundleType:Gr.bundleType,version:Gr.version,rendererPackageName:Gr.rendererPackageName,rendererConfig:Gr.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:cn.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=hf(e),e===null?null:e.stateNode},findFiberByHostInstance:Gr.findFiberByHostInstance||_y,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var ii=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!ii.isDisabled&&ii.supportsFiber)try{os=ii.inject(Ny),Xt=ii}catch{}}vt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Cy;vt.createPortal=function(e,t){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!uu(t))throw Error(T(200));return Ty(e,t,null,n)};vt.createRoot=function(e,t){if(!uu(e))throw Error(T(299));var n=!1,r="",o=Gp;return t!=null&&(t.unstable_strictMode===!0&&(n=!0),t.identifierPrefix!==void 0&&(r=t.identifierPrefix),t.onRecoverableError!==void 0&&(o=t.onRecoverableError)),t=su(e,1,!1,null,null,n,!1,r,o),e[sn]=t.current,ko(e.nodeType===8?e.parentNode:e),new au(t)};vt.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(T(188)):(e=Object.keys(e).join(","),Error(T(268,e)));return e=hf(t),e=e===null?null:e.stateNode,e};vt.flushSync=function(e){return Yn(e)};vt.hydrate=function(e,t,n){if(!ys(t))throw Error(T(200));return vs(null,e,t,!0,n)};vt.hydrateRoot=function(e,t,n){if(!uu(e))throw Error(T(405));var r=n!=null&&n.hydratedSources||null,o=!1,i="",s=Gp;if(n!=null&&(n.unstable_strictMode===!0&&(o=!0),n.identifierPrefix!==void 0&&(i=n.identifierPrefix),n.onRecoverableError!==void 0&&(s=n.onRecoverableError)),t=Hp(t,null,e,1,n??null,o,!1,i,s),e[sn]=t.current,ko(e),r)for(e=0;e<r.length;e++)n=r[e],o=n._getVersion,o=o(n._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[n,o]:t.mutableSourceEagerHydrationData.push(n,o);return new gs(t)};vt.render=function(e,t,n){if(!ys(t))throw Error(T(200));return vs(null,e,t,!1,n)};vt.unmountComponentAtNode=function(e){if(!ys(e))throw Error(T(40));return e._reactRootContainer?(Yn(function(){vs(null,null,e,!1,function(){e._reactRootContainer=null,e[sn]=null})}),!0):!1};vt.unstable_batchedUpdates=nu;vt.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!ys(n))throw Error(T(200));if(e==null||e._reactInternals===void 0)throw Error(T(38));return vs(e,t,n,!1,r)};vt.version="18.3.1-next-f1338f8080-20240426";function Xp(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(Xp)}catch(e){console.error(e)}}Xp(),Gd.exports=vt;var Py=Gd.exports,Qp,Yc=Py;Qp=Yc.createRoot,Yc.hydrateRoot;const jy="modulepreload",Ry=function(e){return"/"+e},Zc={},Yp=function(t,n,r){let o=Promise.resolve();if(n&&n.length>0){document.getElementsByTagName("link");const s=document.querySelector("meta[property=csp-nonce]"),u=(s==null?void 0:s.nonce)||(s==null?void 0:s.getAttribute("nonce"));o=Promise.allSettled(n.map(c=>{if(c=Ry(c),c in Zc)return;Zc[c]=!0;const d=c.endsWith(".css"),g=d?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${c}"]${g}`))return;const m=document.createElement("link");if(m.rel=d?"stylesheet":jy,d||(m.as="script"),m.crossOrigin="",m.href=c,u&&m.setAttribute("nonce",u),document.head.appendChild(m),d)return new Promise((h,v)=>{m.addEventListener("load",h),m.addEventListener("error",()=>v(new Error(`Unable to preload CSS for ${c}`)))})}))}function i(s){const u=new Event("vite:preloadError",{cancelable:!0});if(u.payload=s,window.dispatchEvent(u),!u.defaultPrevented)throw s}return o.then(s=>{for(const u of s||[])u.status==="rejected"&&i(u.reason);return t().catch(i)})},a={bg:"#05070A",border:"#213043",muted:"#32435A",accent:"#39DDB6",text:"#EAF1F8",dim:"#8FA0B5",danger:"#FF5D7A",dLow:"#311520",warn:"#F7B267",wLow:"#322515",ok:"#39DDB6",purple:"#8F7BFF"},b={fontFamily:"'IBM Plex Mono','SFMono-Regular',Menlo,Monaco,monospace"},It=(e,t=4)=>parseFloat(e||0).toFixed(t),Fo=e=>e?`${e.slice(0,18)}...${e.slice(-6)}`:"",Oy=/^[qpzry9x8gf2tvdw0s3jn54khce6mua7l]+$/i,Zp=["kaspa","kaspatest","kaspadev","kaspasim"],Ro=(e,t=Zp)=>{const n=String(e||"").trim().toLowerCase(),r=n.indexOf(":");if(r<=0||r===n.length-1)return!1;const o=n.slice(0,r),i=n.slice(r+1);return!t.map(s=>s.toLowerCase()).includes(o)||i.length<61||i.length>63?!1:Oy.test(i)},Ly=(e,t=Zp)=>{const n=String(e||"").trim();if(!Ro(n,t))throw new Error(`Invalid Kaspa address for allowed prefixes: ${t.join(", ")}`);const r=n.toLowerCase(),o=r.indexOf(":"),i=r.slice(0,o),s=r.slice(o+1);return`${i}:${s}`},Dy=e=>{const t=String(e||"").toLowerCase();return t==="mainnet"?"kaspa":t.startsWith("testnet")?"kaspatest":t.startsWith("devnet")?"kaspadev":t.startsWith("simnet")?"kaspasim":"kaspa"},uo=(e,t)=>{const n=Ly(e),r=n.indexOf(":"),o=n.slice(r+1);return`${Dy(t)}:${o}`},by={USD:1,EUR:.92,GBP:.79,JPY:150,CAD:1.36};function zy(e,t){const n=by[t];return e*n}function My(e,t){const n=zy(e,t),r=2;return new Intl.NumberFormat("en-US",{style:"currency",currency:t,maximumFractionDigits:r,minimumFractionDigits:r}).format(n)}const ye={agents:"forgeos.session.agents.v2",activeAgent:"forgeos.session.activeAgent.v2",walletMeta:"forgeos.wallet.meta.v2",network:"forgeos.network",lastProvider:"forgeos.wallet.lastProvider.mainnet",autoLockMinutes:"forgeos.autolock.minutes.v1",persistUnlockSession:"forgeos.unlock.persist-session.v1",displayCurrency:"forgeos.display.currency.v1",hidePortfolioBalances:"forgeos.privacy.hide-balances.v1",kaspaRpcProviderPresetMap:"forgeos.kaspa.rpc-provider.v1",customKaspaRpcMap:"forgeos.kaspa.custom-rpc.v1"},Fy=1,Uy=24*60,Jc=-1,ra="official";function Jp(e){if(e===Jc)return Jc;if(typeof e!="number"||!Number.isFinite(e))return 15;const t=Math.floor(e);return Math.min(Uy,Math.max(Fy,t))}function qe(){return typeof chrome<"u"&&chrome.storage?chrome.storage.local:null}function qp(e){if(typeof e!="string")return null;const t=e.trim();if(!t)return null;try{const n=new URL(t);return n.protocol!=="https:"&&n.protocol!=="http:"?null:t.replace(/\/+$/,"")}catch{return null}}function By(e){if(typeof e!="object"||e===null)return{};const t={};for(const[n,r]of Object.entries(e)){const o=String(n||"").trim();if(!o)continue;const i=qp(r);i&&(t[o]=i)}return t}function em(e){return e==="igra"?"igra":e==="kasplex"?"kasplex":e==="custom"?"custom":ra}function $y(e){if(typeof e!="object"||e===null)return{};const t={};for(const[n,r]of Object.entries(e)){const o=String(n||"").trim();o&&(t[o]=em(r))}return t}async function Ky(){const e=qe();return e?new Promise(t=>{e.get(ye.agents,n=>{try{const r=n[ye.agents];if(!r)return t([]);const o=typeof r=="string"?JSON.parse(r):r;t(Array.isArray(o)?o:[])}catch{t([])}})}):[]}async function qc(){const e=qe();return e?new Promise(t=>{e.get(ye.walletMeta,n=>{try{const r=n[ye.walletMeta];if(!r)return t(null);const o=typeof r=="string"?JSON.parse(r):r;t(o!=null&&o.address?o:null)}catch{t(null)}})}):null}async function oa(e){const t=qe();if(t)return new Promise(n=>{t.set({[ye.walletMeta]:JSON.stringify(e)},n)})}async function cu(){const e=qe();return e?new Promise(t=>{e.get(ye.network,n=>t(n[ye.network]||"mainnet"))}):"mainnet"}async function Wy(e){const t=qe();if(t)return new Promise(n=>{t.set({[ye.network]:e},n)})}async function Vy(){const e=qe();return e?new Promise(t=>{e.get(ye.autoLockMinutes,n=>{t(Jp(n[ye.autoLockMinutes]))})}):15}async function Hy(e){const t=qe();if(t)return new Promise(n=>{t.set({[ye.autoLockMinutes]:Jp(e)},n)})}async function Gy(){const e=qe();return e?new Promise(t=>{e.get(ye.persistUnlockSession,n=>{t(n[ye.persistUnlockSession]===!0)})}):!1}async function Xy(e){const t=qe();if(t)return new Promise(n=>{t.set({[ye.persistUnlockSession]:e===!0},n)})}async function Qy(){const e=qe();return e?new Promise(t=>{e.get(ye.hidePortfolioBalances,n=>{t(n[ye.hidePortfolioBalances]===!0)})}):!1}async function Yy(e){const t=qe();if(t)return new Promise(n=>{t.set({[ye.hidePortfolioBalances]:e===!0},n)})}async function tm(){const e=qe();return e?new Promise(t=>{e.get(ye.kaspaRpcProviderPresetMap,n=>{try{const r=n[ye.kaspaRpcProviderPresetMap],o=typeof r=="string"?JSON.parse(r):r;t($y(o))}catch{t({})}})}):{}}async function nm(e){const t=String(e||"").trim();return t?(await tm())[t]??ra:ra}async function Zs(e,t){const n=qe();if(!n)return;const r=String(e||"").trim();if(!r)return;const o=await tm();return o[r]=em(t),new Promise(i=>{n.set({[ye.kaspaRpcProviderPresetMap]:JSON.stringify(o)},i)})}async function rm(){const e=qe();return e?new Promise(t=>{e.get(ye.customKaspaRpcMap,n=>{try{const r=n[ye.customKaspaRpcMap],o=typeof r=="string"?JSON.parse(r):r;t(By(o))}catch{t({})}})}):{}}async function om(e){const t=String(e||"").trim();return t?(await rm())[t]??null:null}async function ed(e,t){const n=qe();if(!n)return;const r=String(e||"").trim();if(!r)return;const o=await rm();if(t===null||t.trim()==="")delete o[r];else{const i=qp(t);if(!i)throw new Error("INVALID_RPC_ENDPOINT");o[r]=i}return new Promise(i=>{n.set({[ye.customKaspaRpcMap]:JSON.stringify(o)},i)})}const si={mainnet:["https://api.kaspa.org"],"testnet-10":["https://api-tn10.kaspa.org"],"testnet-11":["https://api-tn11.kaspa.org"],"testnet-12":["https://api-tn12.kaspa.org"]};function Nt(e,t){var o,i;const n=(i=(o=import.meta)==null?void 0:o.env)==null?void 0:i[e];if(typeof n!="string"||!n.trim())return t;const r=n.split(/[,\s]+/).map(s=>s.trim()).filter(Boolean).filter((s,u,c)=>c.indexOf(s)===u);return r.length?r:t}const Sn={mainnet:Nt("VITE_KASPA_MAINNET_API_ENDPOINTS",si.mainnet),"testnet-10":Nt("VITE_KASPA_TN10_API_ENDPOINTS",si["testnet-10"]),"testnet-11":Nt("VITE_KASPA_TN11_API_ENDPOINTS",si["testnet-11"]),"testnet-12":Nt("VITE_KASPA_TN12_API_ENDPOINTS",si["testnet-12"])},Zy={mainnet:Nt("VITE_KASPA_IGRA_MAINNET_API_ENDPOINTS",[]),"testnet-10":Nt("VITE_KASPA_IGRA_TN10_API_ENDPOINTS",[]),"testnet-11":Nt("VITE_KASPA_IGRA_TN11_API_ENDPOINTS",[]),"testnet-12":Nt("VITE_KASPA_IGRA_TN12_API_ENDPOINTS",[])},Jy={mainnet:Nt("VITE_KASPA_KASPLEX_MAINNET_API_ENDPOINTS",[]),"testnet-10":Nt("VITE_KASPA_KASPLEX_TN10_API_ENDPOINTS",[]),"testnet-11":Nt("VITE_KASPA_KASPLEX_TN11_API_ENDPOINTS",[]),"testnet-12":Nt("VITE_KASPA_KASPLEX_TN12_API_ENDPOINTS",[])};Sn.mainnet[0],Sn["testnet-10"][0],Sn["testnet-11"][0],Sn["testnet-12"][0];const qy=12e3,e0=2,t0=600;function im(e){return e===408||e===429||e>=500}const n0=4,r0=3e4,co={},Js={};function Oo(e){return Js[e]||(Js[e]={lastOkAt:0,lastFailAt:0,consecutiveFails:0,lastLatencyMs:0,lastStatus:0,lastError:""}),Js[e]}function o0(e,t,n=200){const r=Oo(e);r.lastOkAt=Date.now(),r.consecutiveFails=0,r.lastLatencyMs=t,r.lastStatus=n,r.lastError=""}function td(e,t,n=0){const r=Oo(e);r.lastFailAt=Date.now(),r.consecutiveFails+=1,r.lastStatus=n,r.lastError=t}function Xi(e){co[e]||(co[e]={state:"closed",failures:0,openAt:0});const t=co[e];return t.state==="open"&&Date.now()-t.openAt>r0&&(t.state="half-open"),t}function i0(e){const t=co[e];t&&(t.failures=0,t.state="closed")}function s0(e){const t=co[e];t&&(t.failures++,t.failures>=n0&&(t.state="open",t.openAt=Date.now()))}function l0(e){const t=n=>(Sn[n]??Sn.mainnet).map(o=>{const i=Xi(o),s=Oo(o);return{base:o,circuit:i.state,failures:i.failures,lastOkAt:s.lastOkAt,lastFailAt:s.lastFailAt,consecutiveFails:s.consecutiveFails,lastLatencyMs:s.lastLatencyMs,lastStatus:s.lastStatus,lastError:s.lastError}});return e?t(e):{mainnet:t("mainnet"),"testnet-10":t("testnet-10"),"testnet-11":t("testnet-11"),"testnet-12":t("testnet-12")}}function qs(e){return[...e].sort((n,r)=>{const o=Xi(n),i=Xi(r);if(o.state==="open"&&i.state!=="open")return 1;if(i.state==="open"&&o.state!=="open")return-1;const s=Oo(n),u=Oo(r);return s.lastOkAt!==u.lastOkAt?u.lastOkAt-s.lastOkAt:s.consecutiveFails!==u.consecutiveFails?s.consecutiveFails-u.consecutiveFails:0})}function a0(e,t){const n=Sn[e]??Sn.mainnet;if(t==="igra"){const r=Zy[e]??[];return r.length?r:n}if(t==="kasplex"){const r=Jy[e]??[];return r.length?r:n}return n}async function u0(e){let t="official";try{t=await nm(e)}catch{t="official"}const n=[...a0(e,t)];if(t!=="custom")return qs(n);let r=null;try{r=await om(e)}catch{r=null}if(r){const o=n.filter(i=>i!==r);return qs([r,...o])}return qs(n)}async function c0(e,t,n){if(Xi(e).state==="open")throw new xn(`Circuit open for ${e}  backing off`,503);let o=null;for(let i=0;i<=e0;i++){i>0&&await new Promise(d=>setTimeout(d,t0*2**(i-1)));const s=new AbortController,u=setTimeout(()=>s.abort(),qy),c=Date.now();try{const d=await fetch(`${e}${t}`,{...n,signal:s.signal});if(clearTimeout(u),!d.ok){const m=await d.text().catch(()=>"");throw td(e,`HTTP ${d.status}`,d.status),new xn(`HTTP ${d.status}: ${m.slice(0,120)}`,d.status)}const g=await d.json();return i0(e),o0(e,Date.now()-c,d.status),g}catch(d){if(clearTimeout(u),d instanceof xn&&!im(d.status))throw d;const g=d instanceof Error?d.message:String(d);td(e,g),o=d instanceof Error?d:new Error(String(d))}}throw s0(e),o??new xn("Unknown API error",0)}async function er(e,t,n){const r=await u0(e);let o=null;for(const i of r)try{return await c0(i,t,n)}catch(s){if(s instanceof xn&&!im(s.status))throw s;o=s instanceof Error?s:new Error(String(s))}throw o??new xn("Unknown API error",0)}class xn extends Error{constructor(t,n){super(t),this.status=n,this.name="KaspaApiError"}}const d0={mainnet:10,"testnet-10":10,"testnet-11":32,"testnet-12":10};async function f0(e,t="mainnet"){return er(t,`/addresses/${encodeURIComponent(e)}/utxos`)}async function p0(e,t="mainnet"){const n=await er(t,`/addresses/${encodeURIComponent(e)}/balance`);return BigInt((n==null?void 0:n.balance)??0)}async function m0(e="mainnet"){try{const t=await er(e,"/info/price?stringOnly=false");return(t==null?void 0:t.price)??0}catch{return 0}}async function h0(e="mainnet"){var t;try{const n=await er(e,"/info/fee-estimate");return((t=n==null?void 0:n.priorityBucket)==null?void 0:t.feerate)??1}catch{return 1}}async function ia(e,t,n="mainnet"){const r=await h0(n),o=239+142*e+51*t;return BigInt(Math.max(Math.ceil(o*r),1e3))}async function g0(e,t="mainnet"){const n=await er(t,"/transactions",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)}),r=(n==null?void 0:n.transactionId)??(n==null?void 0:n.txid)??"";if(!r)throw new xn("Broadcast succeeded but no txId returned",200);return r}async function sm(e,t="mainnet"){try{return await er(t,`/transactions/${e}`)}catch(n){if(n instanceof xn&&n.status===404)return null;throw n}}async function y0(e="mainnet"){try{return await er(e,"/info/blockdag")}catch{return null}}async function v0(e,t="mainnet"){const n=await p0(e,t);return Number(n)/1e8}async function S0(e="mainnet"){return m0(e)}const Qe=Object.freeze({path:"m/44'/111'",account:0,chain:0,index:0}),du=Object.freeze(["m/44'/111'","m/44'/972'"]);function nd(e,t){const n=typeof e=="number"?e:Number(e);return!Number.isFinite(n)||n<0?t:Math.floor(n)}function x0(e){const t=String(e??"").trim();return t?t.startsWith("m")?t:`m/${t}`:Qe.path}function rt(e){return{path:x0(e==null?void 0:e.path),account:nd(e==null?void 0:e.account,Qe.account),chain:(e==null?void 0:e.chain)===1?1:0,index:nd(e==null?void 0:e.index,Qe.index)}}function zt(e){const t=rt(e);return`${t.path}/${t.account}'/${t.chain}/${t.index}`}function fu(e){return e===1?"change":"receive"}function E0(e){const n=String(e||"").trim().match(/^(m(?:\/\d+'?)*)\/(\d+)'\s*\/([01])\s*\/(\d+)$/i);if(!n)throw new Error("Invalid derivation path. Expected format like m/44'/111'/0'/0/0");return rt({path:n[1],account:Number(n[2]),chain:Number(n[3]),index:Number(n[4])})}const w0=6e5,k0=["encrypt","decrypt"];async function lm(e,t){const n=new TextEncoder,r=await crypto.subtle.importKey("raw",n.encode(e),{name:"PBKDF2"},!1,["deriveKey"]);return crypto.subtle.deriveKey({name:"PBKDF2",salt:t,iterations:w0,hash:"SHA-256"},r,{name:"AES-GCM",length:256},!1,k0)}function rd(e){return crypto.getRandomValues(new Uint8Array(e))}function el(e){if(e.length%2!==0)throw new Error("Invalid hex string length");const t=new Uint8Array(e.length/2);for(let n=0;n<e.length;n+=2)t[n>>1]=parseInt(e.slice(n,n+2),16);return t}function tl(e){return Array.from(e).map(t=>t.toString(16).padStart(2,"0")).join("")}async function A0(e,t,n){const r=await crypto.subtle.encrypt({name:"AES-GCM",iv:t},e,n);return new Uint8Array(r)}async function T0(e,t,n){const r=await crypto.subtle.decrypt({name:"AES-GCM",iv:t},e,n);return new Uint8Array(r)}const sa="forgeos.vault.v1",Qi="forgeos.vault.session-cache.v1",pu=-1,mu=15;let lt=null;function am(e){return!Number.isFinite(e)||e<=0?Number.POSITIVE_INFINITY:Date.now()+e*6e4}function _0(e){return Number.isFinite(e)?e:pu}function I0(e){return e===pu?Number.POSITIVE_INFINITY:typeof e!="number"||!Number.isFinite(e)?null:e}function Yi(e){try{if(!Number.isFinite(e)||e<=0){chrome.runtime.sendMessage({type:"CANCEL_AUTOLOCK"});return}chrome.runtime.sendMessage({type:"SCHEDULE_AUTOLOCK",minutes:e})}catch{}}function un(){return lt?Date.now()>lt.autoLockAt?(Ss(),Fr(),null):lt:null}function Ss(){if(lt){try{lt.mnemonic=""}catch{}lt=null}}function hu(){return chrome.storage.local}function gu(){var t;return((t=chrome.storage)==null?void 0:t.session)??null}async function yu(){return new Promise(e=>{hu().get(sa,t=>{try{const n=t[sa];if(!n)return e(null);e(JSON.parse(n))}catch{e(null)}})})}async function C0(e){return new Promise(t=>{hu().set({[sa]:JSON.stringify(e)},t)})}async function vu(e){const t=gu();if(t)return new Promise(n=>{t.set({[Qi]:{version:1,mnemonic:e.mnemonic,mnemonicPassphrase:e.mnemonicPassphrase,derivation:e.derivation,address:e.address,network:e.network,autoLockAt:_0(e.autoLockAt)}},n)})}async function Fr(){const e=gu();if(e)return new Promise(t=>{e.remove(Qi,t)})}async function N0(){const e=gu();return e?new Promise(t=>{e.get(Qi,n=>{const r=n==null?void 0:n[Qi];if(!r||typeof r!="object"){t(null);return}const o=I0(r.autoLockAt);if(o===null){t(null);return}const i=typeof r.mnemonic=="string"?r.mnemonic:"",s=typeof r.address=="string"?r.address:"",u=typeof r.network=="string"?r.network:"";if(!i||!s||!u){t(null);return}t({mnemonic:i,mnemonicPassphrase:typeof r.mnemonicPassphrase=="string"?r.mnemonicPassphrase:void 0,derivation:rt(r.derivation??Qe),address:s,network:u,autoLockAt:o})})}):null}async function um(){return await yu()!==null}async function Zi(e,t,n,r,o={}){var v;const i=rd(32),s=rd(12),u=await lm(t,i),c=rt(o.derivation??Qe),d={version:1,mnemonic:e,mnemonicPassphrase:o.mnemonicPassphrase||void 0,derivation:c,address:n,network:r,derivationPath:`${c.path}/${c.account}'`,addressIndex:c.index},g=new TextEncoder().encode(JSON.stringify(d)),m=await A0(u,s,g),h={version:1,kdf:"pbkdf2",salt:tl(i),iterations:6e5,hash:"SHA-256",iv:tl(s),ciphertext:tl(m),createdAt:((v=await yu())==null?void 0:v.createdAt)??Date.now(),updatedAt:Date.now()};await C0(h)}async function Zn(e,t=mu,n={}){const r=await yu();if(!r)throw new Error("NO_VAULT");const o=el(r.salt),i=el(r.iv),s=el(r.ciphertext),u=await lm(e,o);let c;try{c=await T0(u,i,s)}catch{throw new Error("INVALID_PASSWORD")}const d=JSON.parse(new TextDecoder().decode(c));return lt={mnemonic:d.mnemonic,mnemonicPassphrase:typeof d.mnemonicPassphrase=="string"?d.mnemonicPassphrase:void 0,derivation:rt(d.derivation??{path:"m/44'/111'",account:0,chain:0,index:typeof d.addressIndex=="number"?d.addressIndex:0}),address:d.address,network:d.network,autoLockAt:am(t)},Yi(t),n.persistSession?await vu(lt):await Fr(),lt}async function cm(){const e=await N0();if(!e)return null;if(Date.now()>e.autoLockAt)return await Fr(),null;if(lt=e,Number.isFinite(e.autoLockAt)){const t=Math.max(0,(e.autoLockAt-Date.now())/6e4);Yi(t)}else Yi(pu);return lt}async function dm(e){if(!e){await Fr();return}const t=un();t&&await vu(t)}function fm(){Ss(),Fr();try{chrome.runtime.sendMessage({type:"CANCEL_AUTOLOCK"})}catch{}}async function pm(e,t){if(t.length<8)throw new Error("WEAK_PASSWORD");const n=await Zn(e);await Zi(n.mnemonic,t,n.address,n.network,{mnemonicPassphrase:n.mnemonicPassphrase,derivation:n.derivation}),Ss(),await Zn(t)}async function mm(){Ss(),await Fr(),await new Promise(e=>hu().clear(e))}function wi(e=mu,t={}){lt&&(lt.autoLockAt=am(e),Yi(e),t.persistSession&&vu(lt))}const P0=Object.freeze(Object.defineProperty({__proto__:null,DEFAULT_AUTO_LOCK_MINUTES:mu,changePassword:pm,createVault:Zi,extendSession:wi,getSession:un,lockWallet:fm,resetWallet:mm,restoreSessionFromCache:cm,setSessionPersistence:dm,unlockVault:Zn,vaultExists:um},Symbol.toStringTag,{value:"Module"})),j0="/kaspa_wasm_bg.wasm";let li=null,ai=null;function R0(e){var t,n,r,o;return e!=null&&e.Mnemonic?e:(t=e==null?void 0:e.default)!=null&&t.Mnemonic?e.default:(n=e==null?void 0:e.k)!=null&&n.Mnemonic?e.k:(o=(r=e==null?void 0:e.k)==null?void 0:r.default)!=null&&o.Mnemonic?e.k.default:e}async function O0(){globalThis.__forgeosKaspaWasmBytes||(ai||(ai=(async()=>{const e=await fetch(j0);if(!e.ok)throw new Error(`WASM_FETCH_FAILED: ${e.status} ${e.statusText}`);const t=await e.arrayBuffer();globalThis.__forgeosKaspaWasmBytes=new Uint8Array(t)})().catch(e=>{throw ai=null,e})),await ai)}async function Su(){return li||(li=(async()=>{try{await O0();const e=await Yp(()=>import("../../kaspa_wasm.js").then(r=>r.k),[]),t=R0(e),n=t.default||t.init;if(typeof n=="function")try{await n()}catch{}return t}catch(e){const t=e instanceof Error?e.message:String(e);throw new Error(`KASPA_WASM_INIT_FAILED: ${t}`)}})().catch(e=>{throw li=null,e})),li}const L0=new Set([12,15,18,21,24]),hm=Su;function xu(e){return e.trim().toLowerCase().split(/\s+/).join(" ")}function Eu(e){const t=e.trim().split(/\s+/).filter(Boolean);if(!L0.has(t.length))throw new Error(`Seed phrase must be a valid BIP39 length (12/15/18/21/24 words; got ${t.length}).`)}async function wu(e,t){const n=await hm(),{Mnemonic:r,XPrv:o}=n,s=new r(e).toSeed(t.mnemonicPassphrase||void 0),u=new o(s);return{kaspa:n,masterXPrv:u}}function D0(e,t){try{return e.derivePath(t)}catch(n){if(t.startsWith("m/"))try{return e.derivePath(t.slice(2))}catch{}const r=n instanceof Error?n.message:String(n);throw new Error(`DERIVATION_PATH_INVALID: ${t} (${r})`)}}function ku(e,t){const n=rt(t),{XPrivateKey:r}=e.kaspa,i=D0(e.masterXPrv,n.path).intoString("kprv"),s=new r(i,!1,BigInt(n.account));return{privKey:n.chain===1?s.changeKey(n.index):s.receiveKey(n.index),derivation:n}}function gm(e,t){return e.toKeypair().toAddress(t).toString()}async function ym(e,t,n={}){const r=await wu(e,n),{privKey:o,derivation:i}=ku(r,n.derivation);return{address:gm(o,t),derivation:i}}async function b0(e,t=24){const{Mnemonic:n}=await hm();let r;try{r=n.random(t)}catch{r=n.random()}const o=r.phrase,{address:i,derivation:s}=await ym(o,e,{derivation:Qe});return{phrase:o,address:i,network:e,derivation:s}}async function od(e,t,n={}){Eu(e);const r=xu(e),o=n.mnemonicPassphrase||void 0,{address:i,derivation:s}=await ym(r,t,n);return{phrase:r,address:i,network:t,mnemonicPassphrase:o,derivation:s}}async function z0(e,t,n={}){var k,w;Eu(e);const r=xu(e),o=((k=n.basePaths)!=null&&k.length?n.basePaths:[...du]).map(E=>String(E).trim()).filter(Boolean),[i,s]=n.accountRange??[0,4],[u,c]=n.indexRange??[0,9],d=((w=n.chains)!=null&&w.length?n.chains:[0,1]).filter(E=>E===0||E===1),g=Math.max(1,n.limit??60),m=await wu(r,n),h=[],v=new Set;e:for(let E=Math.max(0,i);E<=Math.max(i,s);E++)for(const p of d)for(let f=Math.max(0,u);f<=Math.max(u,c);f++)for(const y of o){const S=rt({path:y,account:E,chain:p,index:f});try{const{privKey:I}=ku(m,S),C=gm(I,t),j=C.toLowerCase();if(v.has(j))continue;if(v.add(j),h.push({address:C,derivation:S,derivationPath:zt(S),chainLabel:fu(S.chain)}),h.length>=g)break e}catch{}}return h}async function M0(e,t,n={}){var m;Eu(e);const r=xu(e),o=await wu(r,n),{privKey:i}=ku(o,n.derivation),s=new TextEncoder().encode(t),{PrivateKey:u}=o.kaspa,c=i.toKeypair();let d;try{const h=c.privateKey??((m=c.toPrivateKey)==null?void 0:m.call(c));d=new u(h)}catch{d=i}const g=d.sign(s);return Array.from(g,h=>h.toString(16).padStart(2,"0")).join("")}const F0=3e4,Au=new Map;function U0(e){return String(e||"").trim().toLowerCase()}function B0(e,t){if(e!==0)return!1;const n=U0(t);return/^20[0-9a-f]{64}ac$/.test(n)}function $0(e,t){return B0(e,t)?"standard":"covenant"}function K0(e){const t=Au.get(e.toLowerCase());return!t||Date.now()-t.lastSyncAt>F0?null:t}function W0(e){Au.delete(e.toLowerCase())}function V0(e){const t=e.utxoEntry.scriptPublicKey.version,n=e.utxoEntry.scriptPublicKey.scriptPublicKey;return{txId:e.outpoint.transactionId,outputIndex:e.outpoint.index,address:e.address,amount:BigInt(e.utxoEntry.amount),scriptPublicKey:n,scriptVersion:t,scriptClass:$0(t,n),blockDaaScore:BigInt(e.utxoEntry.blockDaaScore),isCoinbase:e.utxoEntry.isCoinbase}}async function vm(e,t,n=new Set,r=0n){const i=(await f0(e,t)).map(V0),s=i.reduce((c,d)=>c+d.amount,0n),u={address:e.toLowerCase(),utxos:i,confirmedBalance:s,pendingOutbound:r,lastSyncAt:Date.now()};return Au.set(e.toLowerCase(),u),u}async function Tu(e,t,n,r){const o=K0(e);return o||vm(e,t,n,r)}function id(e,t,n,r=new Set){const o=e.filter(d=>!r.has(`${d.txId}:${d.outputIndex}`)),i=o.filter(d=>(d.scriptClass??"standard")==="standard").sort((d,g)=>g.amount>d.amount?1:g.amount<d.amount?-1:0),s=t+n;let u=0n;const c=[];for(const d of i)if(c.push(d),u+=d.amount,u>=s)break;if(u<s)throw o.reduce((g,m)=>g+m.amount,0n)>=s?new Error("COVENANT_ONLY_FUNDS"):new Error("INSUFFICIENT_FUNDS");return{selected:c,total:u}}function Un(e){return Number(e)/1e8}function H0(e){return BigInt(Math.floor(e*1e8))}const la="forgeos.pending.txs.v1",G0=7*24*60*60*1e3;let Gt=[],sd=!1;function Sm(e){return["CONFIRMED","FAILED","CANCELLED"].includes(e.state)}async function xm(){return new Promise(e=>{const t=Gt.map(Y0);chrome.storage.local.set({[la]:JSON.stringify(t)},e)})}async function _u(){return sd?Gt:(sd=!0,new Promise(e=>{chrome.storage.local.get(la,t=>{try{const n=t[la];if(!n){e([]);return}const r=JSON.parse(n).map(Z0),o=Date.now()-G0;Gt=r.filter(i=>!(Sm(i)&&i.builtAt<o))}catch{Gt=[]}e(Gt)})}))}async function Em(e){await _u(),Gt.push(e),await xm()}async function mt(e){await _u();const t=Gt.findIndex(n=>n.id===e.id);t>=0?Gt[t]=e:Gt.push(e),await xm()}async function X0(e){return await _u(),Gt.filter(t=>t.fromAddress.toLowerCase()===e.toLowerCase()&&!Sm(t))}async function Q0(e){const t=await X0(e),n=new Set;for(const r of t)for(const o of r.inputs)n.add(`${o.txId}:${o.outputIndex}`);return n}function Y0(e){return{...e,fee:e.fee.toString(),changeOutput:e.changeOutput?{...e.changeOutput,amount:e.changeOutput.amount.toString()}:null,outputs:e.outputs.map(t=>({...t,amount:t.amount.toString()})),inputs:e.inputs.map(t=>({...t,amount:t.amount.toString(),blockDaaScore:t.blockDaaScore.toString()}))}}function Z0(e){return{...e,fee:BigInt(e.fee),changeOutput:e.changeOutput?{...e.changeOutput,amount:BigInt(e.changeOutput.amount)}:null,outputs:e.outputs.map(t=>({...t,amount:BigInt(t.amount)})),inputs:e.inputs.map(t=>({...t,amount:BigInt(t.amount),blockDaaScore:BigInt(t.blockDaaScore),scriptClass:t.scriptClass==="covenant"?"covenant":"standard"}))}}var Rd;const nl=((Rd=import.meta)==null?void 0:Rd.env)??{};function Iu(e,t,n,r){const o=Number(nl==null?void 0:nl[e]);return Number.isFinite(o)?Math.min(r,Math.max(n,Math.floor(o))):t}const J0=Iu("VITE_EXT_TX_FEE_SAFETY_BPS",11500,1e4,3e4),ld=BigInt(Iu("VITE_EXT_TX_FEE_MIN_SOMPI",1e3,1,1e9)),ad=BigInt(Iu("VITE_EXT_TX_FEE_MAX_SOMPI",2e8,1e3,5e9));function ud(e){const t=(e*BigInt(J0)+9999n)/10000n;return t<ld?ld:t>ad?ad:t}function q0(e){return null}const ev=Su;async function wm(e,t,n,r){const o=H0(n);if(o<=0n)throw new Error("AMOUNT_TOO_SMALL");const i=q0(),s=o+(i??0n),u=i?3:2,c=await Q0(e),d=await Tu(e,r),g=ud(await ia(1,u,r)),{selected:m,total:h}=id(d.utxos,s,g,c),v=ud(await ia(m.length,u,r));let k=m,w=h;if(h<s+v){const S=id(d.utxos,s,v,c);k=S.selected,w=S.total}const E=w-s-v,p=[{address:t,amount:o}],f=E>0n?{address:e,amount:E}:null;return{id:crypto.randomUUID(),state:"BUILDING",fromAddress:e,network:r,inputs:k,outputs:p,changeOutput:f,fee:v,platformFee:i??void 0,builtAt:Date.now()}}async function tv(e){const t=await ev(),n=t.UtxoEntry,r=e.inputs.map(d=>{const g={address:d.address,outpoint:{transactionId:d.txId,index:d.outputIndex},amount:d.amount,scriptPublicKey:{version:d.scriptVersion,scriptPublicKey:d.scriptPublicKey},blockDaaScore:d.blockDaaScore,isCoinbase:d.isCoinbase};if(n)try{return new n(g)}catch{return g}return g}),o=e.outputs.map(d=>({address:d.address,amount:d.amount})),i={entries:r,outputs:o,changeAddress:e.fromAddress,priorityFee:{sompi:e.fee},networkId:e.network},s=t.Generator;if(!s)throw new Error("WASM_GENERATOR_UNAVAILABLE: kaspa-wasm Generator class not found. Ensure kaspa-wasm  0.13.0 is installed.");const c=new s(i).next();if(!c)throw new Error("GENERATOR_EMPTY: Generator produced no transaction. Check UTXO availability.");return c}const nv={mainnet:"kaspa:","testnet-10":"kaspatest:","testnet-11":"kaspatest:","testnet-12":"kaspatest:"};async function km(e){var c,d;const t=[];let n;try{const g=e.inputs.filter(h=>(h.scriptClass??"standard")==="covenant");g.length>0&&t.push(`COVENANT_INPUT_UNSUPPORTED: ${g.length} covenant UTXO(s) require covenant-aware spend logic`),n=await Tu(e.fromAddress,e.network);const m=new Set(n.utxos.map(h=>`${h.txId}:${h.outputIndex}`));for(const h of e.inputs){const v=`${h.txId}:${h.outputIndex}`;m.has(v)||t.push(`UTXO_SPENT: input ${v} no longer available`)}}catch{t.push("UTXO_FETCH_FAILED: could not verify input availability")}let r;try{r=await ia(e.inputs.length,e.outputs.length+(e.changeOutput?1:0),e.network),e.fee<r&&t.push(`FEE_TOO_LOW: estimated ${e.fee.toString()} sompi, network requires ${r.toString()} sompi`)}catch{r=e.fee}const o=e.inputs.reduce((g,m)=>g+m.amount,0n),i=e.outputs.reduce((g,m)=>g+m.amount,0n),s=((c=e.changeOutput)==null?void 0:c.amount)??0n;o!==i+s+e.fee&&t.push(`BALANCE_MISMATCH: inputs=${o} != outputs=${i} + change=${s} + fee=${e.fee}`);for(const g of e.outputs)Ro(g.address)||t.push(`INVALID_ADDRESS: "${g.address}" is not a valid Kaspa address`);e.changeOutput&&!Ro(e.changeOutput.address)&&t.push(`INVALID_CHANGE_ADDRESS: "${e.changeOutput.address}"`);const u=nv[e.network];if(u){for(const g of e.outputs)g.address.toLowerCase().startsWith(u)||t.push(`NETWORK_MISMATCH: output address "${g.address}" does not match network "${e.network}"`);e.changeOutput&&!e.changeOutput.address.toLowerCase().startsWith(u)&&t.push(`NETWORK_MISMATCH: change address "${e.changeOutput.address}" does not match network "${e.network}"`)}return{valid:t.length===0,estimatedFee:r??e.fee,changeAmount:((d=e.changeOutput)==null?void 0:d.amount)??0n,errors:t}}const rv=Su;async function Am(e){const t=un();if(!t||!t.mnemonic)throw new Error("WALLET_LOCKED");const n=await rv(),{Mnemonic:r,XPrv:o,XPrivateKey:i}=n;let s=null;try{const u=rt(t.derivation??Qe),d=new r(t.mnemonic).toSeed(t.mnemonicPassphrase||void 0),g=new o(d);let m=g;try{m=g.derivePath(u.path)}catch(y){if(u.path.startsWith("m/"))m=g.derivePath(u.path.slice(2));else throw y}const h=m.intoString("kprv"),v=new i(h,!1,BigInt(u.account)),k=u.chain===1?v.changeKey(u.index):v.receiveKey(u.index),w=k.toKeypair();if(s=w.privateKey??(typeof w.toPrivateKey=="function"?w.toPrivateKey():null),!s){const y=n.PrivateKey,S=typeof k.toString=="function"?k.toString("hex"):null;y&&S&&(s=new y(S))}if(!s)throw new Error("PRIVKEY_UNAVAILABLE: Could not extract PrivateKey from keypair. Verify kaspa-wasm version compatibility.");const E=await tv(e);await E.sign([s]);let p;typeof E.serializeToObject=="function"?p=JSON.stringify({transaction:E.serializeToObject()}):typeof E.toJSON=="function"?p=E.toJSON():p=JSON.stringify({transaction:E});const f=E.id;return{...e,state:"SIGNED",signedTxPayload:p,txId:f,signedAt:Date.now()}}catch(u){const c=u instanceof Error?u.message:String(u);throw new Error(`SIGN_FAILED: ${c}`)}finally{s=null}}const ov=1e3,iv=5*6e4;async function Tm(e){if(e.txId)return console.info(`[broadcast] tx ${e.id} already has txId=${e.txId}; skipping re-broadcast`),{...e,state:"CONFIRMING"};if(!e.signedTxPayload)throw new Error("NOT_SIGNED");let t;try{t=JSON.parse(e.signedTxPayload)}catch{throw new Error("BROADCAST_FAILED: signedTxPayload is not valid JSON")}let n;try{n=await g0(t,e.network)}catch(o){const i=o instanceof Error?o.message:String(o),s={...e,state:"FAILED",error:`BROADCAST_FAILED: ${i}`};throw await mt(s),new Error(`BROADCAST_FAILED: ${i}`)}const r={...e,state:"BROADCASTING",txId:n,broadcastAt:Date.now(),signedTxPayload:void 0};return await mt(r),W0(e.fromAddress),{...r,state:"CONFIRMING"}}async function sv(e,t=()=>{}){if(!e.txId)throw new Error("NO_TXID: cannot poll without txId");const n=Date.now()+iv;let r={...e,state:"CONFIRMING"};for(;Date.now()<n;){await lv(ov);try{const o=await sm(e.txId,e.network);if(o!=null&&o.acceptingBlockHash)return r={...r,state:"CONFIRMED",confirmations:1,confirmedAt:Date.now(),signedTxPayload:void 0},await mt(r),t(r),r}catch{}}throw r={...r,state:"FAILED",error:"CONFIRM_TIMEOUT: transaction not confirmed within 5 minutes"},await mt(r),t(r),new Error(r.error)}function lv(e){return new Promise(t=>setTimeout(t,e))}async function av(e,t){const n=await Tm(e);return t(n),sv(n,t).catch(()=>{}),n}const cd=!1,uv=!1,_m={tokens:{KAS:{id:"KAS",symbol:"KAS",name:"Kaspa",decimals:8,assetId:null,enabled:!0,disabledReason:null},USDT:{id:"USDT",symbol:"USDT",name:"Tether USD",decimals:6,assetId:null,enabled:cd,disabledReason:"Temporarily disabled in this wallet build."},USDC:{id:"USDC",symbol:"USDC",name:"USD Coin",decimals:6,assetId:null,enabled:cd,disabledReason:"Temporarily disabled in this wallet build."},ZRX:{id:"ZRX",symbol:"0x",name:"0x Protocol",decimals:18,assetId:null,enabled:uv,disabledReason:"0x route is disabled in this wallet build."}}};function dd(e){var t;return((t=_m.tokens[e])==null?void 0:t.enabled)??!1}function aa(){return Object.values(_m.tokens)}const cv={default:a.border,accent:a.accent,warn:a.warn,danger:a.danger,purple:a.purple,success:a.ok},dv={default:"rgba(143,160,181,0.08)",accent:"rgba(57,221,182,0.12)",warn:"rgba(247,178,103,0.12)",danger:"rgba(255,93,122,0.12)",purple:"rgba(143,123,255,0.12)",success:"rgba(57,221,182,0.1)"},Bn={padding:"13px 15px 15px",display:"flex",flexDirection:"column",gap:11,minWidth:0};function Lr(){return{backgroundColor:a.bg,backgroundImage:["radial-gradient(120% 95% at 50% -8%, rgba(57,221,182,0.18) 0%, rgba(57,221,182,0.05) 40%, transparent 72%)","radial-gradient(88% 86% at 92% 100%, rgba(57,221,182,0.12) 0%, transparent 70%)","radial-gradient(80% 90% at 8% 88%, rgba(23,64,74,0.3) 0%, transparent 74%)","linear-gradient(165deg, #0b141f 0%, #070e16 52%, #05090f 100%)","repeating-linear-gradient(0deg, transparent 0px, transparent 31px, rgba(57,221,182,0.06) 32px)","repeating-linear-gradient(90deg, transparent 0px, transparent 31px, rgba(57,221,182,0.05) 32px)"].join(", "),backgroundSize:"auto, auto, auto, auto, 32px 32px, 32px 32px",backgroundPosition:"center, center, center, center, center, center"}}function je(e="default",t=!1){const n=cv[e],r=dv[e];return{background:"linear-gradient(155deg, rgba(11,17,24,0.92) 0%, rgba(8,13,20,0.86) 100%)",border:`1px solid ${e==="default"?a.border:`${n}32`}`,borderRadius:12,padding:t?"10px 12px":"12px 14px",boxShadow:"inset 0 1px 0 rgba(255,255,255,0.04), 0 10px 22px rgba(0,0,0,0.22)",position:"relative",overflow:"hidden",minWidth:0,overflowWrap:"anywhere",backgroundImage:[`radial-gradient(circle at 100% 0%, ${r}, transparent 46%)`,"linear-gradient(155deg, rgba(11,17,24,0.92) 0%, rgba(8,13,20,0.86) 100%)"].join(", ")}}function we(){return{background:"linear-gradient(180deg, rgba(5,7,10,0.62), rgba(7,11,16,0.72))",border:`1px solid ${a.border}`,borderRadius:10,padding:"10px 12px",boxShadow:"inset 0 1px 0 rgba(255,255,255,0.02)",minWidth:0,overflowWrap:"anywhere"}}const We={fontSize:8,color:a.dim,letterSpacing:"0.14em",fontWeight:700,...b},Vn={fontSize:10,color:a.text,fontWeight:700,letterSpacing:"0.08em",...b};function Im(e=1){return{height:1,background:`rgba(33,48,67,${.9*e})`}}function te(e=a.dim,t=!1){return{background:t?"linear-gradient(180deg, rgba(14,22,32,0.9), rgba(9,14,20,0.9))":"rgba(16,25,35,0.55)",border:`1px solid ${e===a.dim?a.border:`${e}40`}`,borderRadius:8,color:e,cursor:"pointer",fontSize:10,fontWeight:700,letterSpacing:"0.08em",...b,boxShadow:t?"0 6px 14px rgba(0,0,0,0.18)":void 0,whiteSpace:"normal",lineHeight:1.2,textAlign:"center"}}function $n(e=!0){return{background:e?`linear-gradient(90deg, ${a.accent}, #7BE9CF)`:"rgba(33,48,67,0.55)",color:e?"#04110E":a.dim,border:"none",borderRadius:8,cursor:e?"pointer":"not-allowed",fontSize:10,fontWeight:700,letterSpacing:"0.08em",...b,boxShadow:e?"0 8px 18px rgba(57,221,182,0.16)":void 0,whiteSpace:"normal",lineHeight:1.2,textAlign:"center"}}function Cm(e=!1){return{width:"100%",boxSizing:"border-box",background:"linear-gradient(180deg, rgba(8,13,20,0.82), rgba(9,14,21,0.9))",border:`1px solid ${e?a.danger:a.border}`,borderRadius:8,padding:"9px 11px",color:a.text,fontSize:10,...b,outline:"none",boxShadow:"inset 0 1px 0 rgba(255,255,255,0.02)",minWidth:0}}const fd={mainnet:"https://explorer.kaspa.org","testnet-10":"https://explorer-tn10.kaspa.org","testnet-11":"https://explorer-tn11.kaspa.org","testnet-12":"https://explorer-tn12.kaspa.org"};function fv({address:e,balance:t,usdPrice:n,network:r,hideBalances:o=!1,onOpenSwap:i,mode:s,onModeConsumed:u,onBalanceInvalidated:c}){const[d,g]=x.useState("idle"),[m,h]=x.useState(!1),[v,k]=x.useState(""),[w,E]=x.useState(""),[p,f]=x.useState(null),[y,S]=x.useState([]),[I,C]=x.useState(null),[j,N]=x.useState(null),[W,$]=x.useState(!1),[H,ve]=x.useState([]),[de,Te]=x.useState(!1),[Oe,_e]=x.useState(null),[q,P]=x.useState(null),[M,U]=x.useState(0);x.useEffect(()=>{s==="send"&&(g("form"),h(!1),u==null||u()),s==="receive"&&(h(!0),g("idle"),u==null||u())},[s]),x.useEffect(()=>{let O=!0;const B=async(ct=!1)=>{if(!e){if(!O)return;ve([]),_e(null),P(null),Te(!1);return}if(O){Te(!0),ct&&_e(null);try{const et=ct?await vm(e,r):await Tu(e,r);if(!O)return;const Lt=[...et.utxos].sort((dt,tr)=>dt.amount===tr.amount?0:dt.amount>tr.amount?-1:1);ve(Lt),P(Date.now()),_e(null)}catch(et){if(!O)return;_e(et instanceof Error?et.message:"Failed to load UTXOs.")}finally{O&&Te(!1)}}};B(!0).catch(()=>{});const pe=window.setInterval(()=>{B(!1).catch(()=>{})},25e3);return()=>{O=!1,clearInterval(pe)}},[e,r,M]);const G=un(),K=!!(G!=null&&G.mnemonic),ne=r==="mainnet"?"kaspa:":"kaspatest:",re=Ro(v)&&v.toLowerCase().startsWith(ne),Z=parseFloat(w),Ie=Z>0&&(t===null||Z<=t),R=re&&Ie,ae=async()=>{if(!e||!R)return;g("building"),S([]),N(null);let O;try{O=await wm(e,v.trim(),Z,r),await Em(O),f(O)}catch(B){const pe=B instanceof Error?B.message:String(B);N(pe==="INSUFFICIENT_FUNDS"?"Insufficient balance including fees.":pe==="COVENANT_ONLY_FUNDS"?"Funds are currently locked in covenant outputs. Standard send only spends standard UTXOs.":`Build failed: ${pe}`),g("error");return}g("dry_run");try{const B=await km(O);if(!B.valid){S(B.errors),g("error"),await mt({...O,state:"DRY_RUN_FAIL",error:B.errors.join("; ")});return}const pe={...O,state:"DRY_RUN_OK",fee:B.estimatedFee};f(pe),await mt(pe)}catch(B){N(`Validation failed: ${B instanceof Error?B.message:String(B)}`),g("error");return}g("confirm")},Le=async()=>{if(!p||!K)return;g("signing");let O;try{O=await Am(p),f(O),await mt(O)}catch(B){const pe=B instanceof Error?B.message:String(B);N(pe==="WALLET_LOCKED"?"Wallet locked  please unlock first.":`Signing failed: ${pe}`),g("error");return}g("broadcast");try{await av(O,async B=>{f(B),await mt(B),B.state==="CONFIRMED"&&(C(B.txId??null),g("done"),U(pe=>pe+1),c==null||c()),B.state==="FAILED"&&(N(B.error??"Transaction failed."),g("error"))})}catch(B){N(B instanceof Error?B.message:"Transaction timed out awaiting confirmation."),g("error")}},se=async()=>{p&&await mt({...p,state:"CANCELLED"}),xt()},xt=()=>{g("idle"),f(null),S([]),N(null),C(null)},Yt=async()=>{if(e)try{await navigator.clipboard.writeText(e),$(!0),setTimeout(()=>$(!1),2e3)}catch{}},at=[...aa()].sort((O,B)=>O.id==="KAS"?-1:B.id==="KAS"?1:0),ut={KAS:"../icons/kaspa-logo.png",USDT:"../icons/usdt.png",USDC:"../icons/usdc.png"},Ce={KAS:t??0,USDT:0,USDC:0,ZRX:0},Et=fd[r]??fd.mainnet,wt=e?`${Et}/addresses/${e}`:Et,kt=H.reduce((O,B)=>O+B.amount,0n),Ot=Un(kt),_=H.length?Un(H[0].amount):0,Y=H.filter(O=>(O.scriptClass??"standard")==="covenant").length,z=H.length-Y,A=q?new Date(q).toLocaleTimeString([],{hour12:!1}):"",F=O=>o?"":O,ee=(O,B)=>o?" KAS":`${It(O,B)} KAS`,xe=(O,B)=>o?"$":`$${It(O,B)}`;return l.jsxs("div",{style:Bn,children:[l.jsxs("div",{style:{...je("purple"),background:"linear-gradient(165deg, rgba(10,18,28,0.96) 0%, rgba(7,13,22,0.93) 52%, rgba(5,10,18,0.94) 100%)",border:`1px solid ${a.accent}3A`,boxShadow:"inset 0 1px 0 rgba(255,255,255,0.06), 0 12px 26px rgba(0,0,0,0.28), 0 0 24px rgba(57,221,182,0.09)"},children:[l.jsx("div",{style:{position:"absolute",top:-32,right:-26,width:130,height:130,borderRadius:"50%",background:"radial-gradient(circle, rgba(57,221,182,0.26) 0%, rgba(57,221,182,0.05) 48%, transparent 75%)",pointerEvents:"none"}}),l.jsx("div",{style:{position:"absolute",inset:0,pointerEvents:"none",backgroundImage:"repeating-linear-gradient(0deg, transparent 0px, transparent 23px, rgba(57,221,182,0.05) 24px), repeating-linear-gradient(90deg, transparent 0px, transparent 23px, rgba(57,221,182,0.04) 24px)",opacity:.45}}),l.jsx("div",{style:{marginBottom:11,display:"flex",alignItems:"center",justifyContent:"space-between",gap:8,position:"relative"},children:l.jsx("div",{style:We,children:"TOKEN BALANCES"})}),at.map((O,B)=>{const pe=ut[O.id]??ut.KAS,ct=O.id==="KAS",et=ct?48:30,Lt=ct?40:20,dt=Ce[O.id]??0,tr=O.id==="KAS"?It(dt,4):It(dt,2),ws=F(tr);return l.jsxs("div",{style:{display:"flex",alignItems:"center",justifyContent:"space-between",background:"linear-gradient(160deg, rgba(15,24,36,0.86), rgba(8,14,22,0.88))",border:`1px solid ${a.border}`,borderRadius:12,padding:"10px 11px",marginTop:B>0?8:0,opacity:ct||O.enabled?1:.58,position:"relative",zIndex:1},children:[l.jsxs("div",{style:{display:"flex",alignItems:"center",gap:10},children:[l.jsx("div",{style:{width:et,height:et,borderRadius:"50%",flexShrink:0,background:"transparent",display:"flex",alignItems:"center",justifyContent:"center",border:"none",boxShadow:"none",overflow:"hidden"},children:l.jsx("img",{src:pe,alt:`${O.symbol} logo`,style:{width:Lt,height:Lt,objectFit:"contain",borderRadius:"50%",filter:"none"}})}),l.jsxs("div",{children:[l.jsx("div",{style:{fontSize:11,fontWeight:700,color:a.text,letterSpacing:"0.05em",...b},children:O.symbol}),l.jsx("div",{style:{fontSize:9,color:a.dim,letterSpacing:"0.03em"},children:O.name})]})]}),l.jsxs("div",{style:{textAlign:"right"},children:[l.jsx("div",{style:{fontSize:18,fontWeight:700,color:a.text},children:ws}),!O.enabled&&O.disabledReason&&l.jsx("div",{style:{fontSize:8,color:a.dim,maxWidth:140,lineHeight:1.35,marginTop:3},children:O.disabledReason})]})]},O.id)}),e&&l.jsx("div",{style:{marginTop:11,textAlign:"right",position:"relative",zIndex:1},children:l.jsx("button",{onClick:()=>chrome.tabs.create({url:wt}),style:{...te(a.accent,!0),padding:"6px 9px",fontSize:9,color:a.accent},children:"EXPLORER "})})]}),l.jsxs("div",{style:je("default"),children:[l.jsxs("div",{style:{marginBottom:9,display:"flex",alignItems:"center",justifyContent:"space-between",gap:8},children:[l.jsx("div",{style:We,children:"UTXO SET"}),l.jsx("button",{onClick:()=>U(O=>O+1),disabled:de,style:{...te(a.accent,!0),padding:"5px 8px",fontSize:8,color:a.accent},children:de?"SYNC":"REFRESH"})]}),l.jsxs("div",{style:{display:"flex",gap:6,marginBottom:9},children:[l.jsxs("div",{style:{...we(),flex:1,padding:"6px 7px"},children:[l.jsx("div",{style:{fontSize:8,color:a.muted,letterSpacing:"0.08em"},children:"COUNT"}),l.jsx("div",{style:{fontSize:11,color:a.text,fontWeight:700,...b},children:H.length})]}),l.jsxs("div",{style:{...we(),flex:1,padding:"6px 7px"},children:[l.jsx("div",{style:{fontSize:8,color:a.muted,letterSpacing:"0.08em"},children:"TOTAL"}),l.jsx("div",{style:{fontSize:11,color:a.text,fontWeight:700,...b},children:ee(Ot,4)})]}),l.jsxs("div",{style:{...we(),flex:1,padding:"6px 7px"},children:[l.jsx("div",{style:{fontSize:8,color:a.muted,letterSpacing:"0.08em"},children:"LARGEST"}),l.jsx("div",{style:{fontSize:11,color:a.text,fontWeight:700,...b},children:ee(_,4)})]})]}),Y>0&&l.jsxs("div",{style:{...we(),fontSize:8,color:a.warn,padding:"8px 10px",marginBottom:8,lineHeight:1.45},children:["Covenant outputs detected: ",Y,". Standard send currently uses spendable UTXOs only (",z," available)."]}),de&&H.length===0&&l.jsxs("div",{style:{...we(),fontSize:8,color:a.dim,padding:"9px 10px"},children:["Fetching UTXOs from ",r,""]}),!de&&H.length===0&&!Oe&&l.jsxs("div",{style:{...we(),fontSize:8,color:a.dim,padding:"9px 10px"},children:["No UTXOs found for this wallet on ",r,"."]}),Oe&&l.jsx("div",{style:{...we(),fontSize:8,color:a.danger,padding:"9px 10px",marginBottom:H.length?8:0},children:Oe}),H.length>0&&l.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:6},children:[H.slice(0,6).map((O,B)=>{const pe=Un(O.amount);return l.jsx("div",{style:{...we(),padding:"8px 9px"},children:l.jsxs("div",{style:{display:"flex",alignItems:"center",justifyContent:"space-between",gap:8},children:[l.jsxs("div",{style:{minWidth:0},children:[l.jsxs("div",{style:{fontSize:8,color:a.dim,...b,letterSpacing:"0.04em",whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis"},children:["#",B+1," ",O.txId.slice(0,16),":",O.outputIndex]}),l.jsxs("div",{style:{fontSize:8,color:a.muted,marginTop:2},children:["DAA ",O.blockDaaScore.toString()," ",O.isCoinbase?" COINBASE":""," ",(O.scriptClass??"standard")==="covenant"?" COVENANT":""]})]}),l.jsx("div",{style:{fontSize:11,color:a.accent,fontWeight:700,...b},children:ee(pe,4)})]})},`${O.txId}:${O.outputIndex}`)}),H.length>6&&l.jsxs("div",{style:{fontSize:8,color:a.dim,textAlign:"right",paddingTop:1},children:["+",H.length-6," more UTXOs"]})]}),l.jsx("div",{style:{...Im(),margin:"9px 0 6px"}}),l.jsxs("div",{style:{fontSize:8,color:a.muted,letterSpacing:"0.06em",textAlign:"right"},children:["UPDATED ",A]})]}),d==="idle"&&!m&&e&&l.jsxs("div",{style:{display:"flex",gap:6},children:[l.jsx("button",{onClick:()=>g("form"),style:rl(),children:"SEND"}),l.jsx("button",{onClick:()=>h(!0),style:rl(),children:"RECEIVE"}),l.jsx("button",{onClick:()=>i?i():chrome.tabs.create({url:"https://forge-os.xyz"}),style:rl(),children:"SWAP"})]}),d==="form"&&l.jsxs("div",{style:vr(),children:[l.jsxs("div",{style:{display:"flex",alignItems:"baseline",justifyContent:"space-between",marginBottom:6},children:[l.jsx("div",{style:Vn,children:"SEND KAS"}),l.jsxs("div",{style:{display:"flex",gap:8},children:[t!==null&&l.jsxs("div",{style:{fontSize:8,color:a.dim},children:["Bal: ",ee(t,2),n>0?`  ${xe(t*n,2)}`:""]}),l.jsx("button",{onClick:()=>g("idle"),style:{background:"none",border:"none",color:a.dim,fontSize:8,cursor:"pointer",...b},children:""})]})]}),!K&&l.jsx("div",{style:{...we(),fontSize:8,color:a.dim,marginBottom:6,lineHeight:1.4},children:"External wallet: signing opens in Forge-OS."}),l.jsx("input",{value:v,onChange:O=>k(O.target.value),placeholder:`Recipient ${ne}qp`,style:pd(!!(v&&!re))}),v&&!re&&l.jsx("div",{style:{fontSize:8,color:a.danger},children:v.toLowerCase().startsWith(ne)?"Invalid Kaspa address":`Must start with "${ne}" on ${r}`}),l.jsxs("div",{style:{position:"relative",display:"flex",alignItems:"center"},children:[l.jsx("input",{value:w,onChange:O=>E(O.target.value),placeholder:"Amount (KAS)",type:"number",min:"0",style:{...pd(!1),paddingRight:48}}),t!==null&&t>0&&l.jsx("button",{onClick:()=>{const O=Math.max(0,t-.01);E(O>0?String(parseFloat(O.toFixed(4))):"")},style:{position:"absolute",right:6,background:`${a.accent}20`,border:`1px solid ${a.accent}50`,borderRadius:4,padding:"2px 6px",color:a.accent,fontSize:8,fontWeight:700,cursor:"pointer",...b,letterSpacing:"0.06em"},children:"MAX"})]}),Z>0&&n>0&&l.jsxs("div",{style:{fontSize:8,color:a.dim},children:[" ",xe(Z*n,2)]}),l.jsx("button",{onClick:K?ae:()=>chrome.tabs.create({url:`https://forge-os.xyz?send=1&to=${encodeURIComponent(v)}&amount=${encodeURIComponent(w)}`}),disabled:!R,style:ol(R),children:K?"PREVIEW SEND ":"OPEN IN FORGE-OS "})]}),(d==="building"||d==="dry_run")&&l.jsx(il,{icon:"",title:d==="building"?"SELECTING INPUTS":"VALIDATING",sub:d==="building"?"Fetching UTXOs and estimating network fee.":"Running 5 security checks.",color:a.accent}),d==="confirm"&&p&&l.jsx(pv,{tx:p,usdPrice:n,onConfirm:Le,onCancel:se}),d==="signing"&&l.jsx(il,{icon:"",title:"SIGNING",sub:"Deriving key and signing inputs with kaspa-wasm.",color:a.warn}),d==="broadcast"&&l.jsx(il,{icon:"",title:"BROADCASTING",sub:`Polling for confirmation. TxID: ${p!=null&&p.txId?p.txId.slice(0,20)+"":"pending"}`,color:a.accent}),d==="done"&&l.jsxs("div",{style:{...vr(),background:`${a.ok}0A`,borderColor:`${a.ok}30`},children:[l.jsx("div",{style:{fontSize:10,color:a.ok,fontWeight:700,marginBottom:6},children:" TRANSACTION CONFIRMED"}),I&&l.jsxs(l.Fragment,{children:[l.jsx("div",{style:{fontSize:8,color:a.dim,marginBottom:3},children:"Transaction ID"}),l.jsx("div",{style:{fontSize:8,color:a.text,wordBreak:"break-all",marginBottom:8},children:I}),l.jsx("button",{onClick:()=>chrome.tabs.create({url:`${Et}/txs/${I}`}),style:{background:"none",border:"none",color:a.accent,fontSize:8,cursor:"pointer",...b},children:"View on Explorer "})]}),l.jsx("button",{onClick:xt,style:{...ol(!0),marginTop:10,background:`${a.ok}20`,color:a.ok},children:"DONE"})]}),d==="error"&&l.jsxs("div",{style:{...vr(),background:a.dLow,borderColor:`${a.danger}40`},children:[l.jsx("div",{style:{fontSize:9,color:a.danger,fontWeight:700,marginBottom:6},children:"TRANSACTION FAILED"}),j&&l.jsx("div",{style:{fontSize:8,color:a.dim,marginBottom:6,lineHeight:1.5},children:j}),y.map((O,B)=>l.jsxs("div",{style:{fontSize:8,color:a.danger,marginBottom:2},children:[" ",O]},B)),l.jsx("button",{onClick:xt,style:{...ol(!0),marginTop:8,background:a.dLow,border:`1px solid ${a.danger}50`,color:a.danger},children:"TRY AGAIN"})]}),m&&e&&l.jsxs("div",{style:vr(),children:[l.jsxs("div",{style:{display:"flex",alignItems:"center",justifyContent:"space-between",marginBottom:6},children:[l.jsx("div",{style:Vn,children:"RECEIVE KAS"}),l.jsx("button",{onClick:()=>h(!1),style:{background:"none",border:"none",color:a.dim,fontSize:8,cursor:"pointer",...b},children:""})]}),l.jsx("div",{style:{...we(),fontSize:8,color:a.dim,lineHeight:1.6,wordBreak:"break-all",marginBottom:6},children:e}),l.jsx("button",{onClick:Yt,style:{...te(W?a.ok:a.dim,!0),padding:"7px 8px",color:W?a.ok:a.dim,width:"100%"},children:W?" COPIED":"COPY ADDRESS"}),l.jsx("div",{style:{fontSize:8,color:a.dim,lineHeight:1.5,marginTop:4},children:"Send KAS to this address from any Kaspa wallet. Transactions confirm at BlockDAG speed."})]})]})}const vr=()=>({...je("default"),display:"flex",flexDirection:"column",gap:7}),pd=e=>({...Cm(e)}),rl=e=>({...te(a.dim,!0),flex:1,padding:"8px 0",textTransform:"uppercase",letterSpacing:"0.1em"}),ol=e=>({...$n(e),padding:"9px",width:"100%"});function il({icon:e,title:t,sub:n,color:r}){return l.jsxs("div",{style:{...vr(),textAlign:"center"},children:[l.jsx("div",{style:{fontSize:20},children:e}),l.jsx("div",{style:{fontSize:9,color:r,fontWeight:700,letterSpacing:"0.1em"},children:t}),l.jsx("div",{style:{fontSize:8,color:a.dim,lineHeight:1.5},children:n})]})}function pv({tx:e,usdPrice:t,onConfirm:n,onCancel:r}){var m;const o=e.outputs[0],i=o?Un(o.amount):0,s=Un(e.fee),u=e.platformFee?Un(e.platformFee):0,c=e.changeOutput?Un(e.changeOutput.amount):0,d=i+s+u,g=(h,v,k=a.text,w)=>l.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"baseline",marginBottom:5},children:[l.jsxs("span",{style:{fontSize:8,color:a.dim},children:[h,w&&l.jsx("span",{style:{fontSize:8,color:a.muted,marginLeft:4},children:w})]}),l.jsx("span",{style:{fontSize:9,color:k,fontWeight:700},children:v})]});return l.jsxs("div",{style:{...vr(),borderColor:`${a.accent}30`},children:[l.jsx("div",{style:{...Vn,color:a.accent},children:"CONFIRM TRANSACTION"}),l.jsxs("div",{style:we(),children:[g("TO",(m=e.outputs[0])!=null&&m.address?e.outputs[0].address.slice(0,22)+"":""),g("AMOUNT",`${It(i,4)} KAS${t>0?`  $${It(i*t,2)}`:""}`),g("NETWORK FEE",`${It(s,8)} KAS`,a.warn," miners"),u>0&&g("PLATFORM FEE",`${It(u,6)} KAS`,a.dim," treasury"),c>0&&g("CHANGE",`${It(c,4)} KAS`,a.dim),l.jsx("div",{style:{...Im(),margin:"6px 0"}}),g("TOTAL COST",`${It(d,4)} KAS`,a.accent)]}),l.jsx("div",{style:{fontSize:8,color:a.warn,lineHeight:1.5},children:" Kaspa transactions are irreversible once confirmed."}),l.jsxs("div",{style:{display:"flex",gap:8},children:[l.jsx("button",{onClick:r,style:{...te(a.dim,!0),flex:1,padding:"8px 0"},children:"CANCEL"}),l.jsx("button",{onClick:n,style:{...$n(!0),flex:2,padding:"8px 0"},children:"SIGN & SEND "})]})]})}function fo(e){return e&&typeof e=="object"?e:{}}function Jt(...e){for(const t of e)if(typeof t=="string"&&t.trim())return t.trim();return""}function md(e){if(typeof e=="number"&&Number.isFinite(e))return e;if(typeof e=="string"){const t=e.replace(/[$,\s]/g,""),n=Number(t);if(Number.isFinite(n))return n}return 0}function rr(e){if(typeof e=="number"&&Number.isFinite(e)&&e>0)return e;if(typeof e=="string"){const t=Number(e);if(Number.isFinite(t)&&t>0)return t}return 0}function mv(e){if(typeof e!="string")return null;const t=e.trim().toLowerCase();return t.startsWith("kaspa:")?"mainnet":t.startsWith("kaspatest:")?"testnet":null}function po(e,t="unknown"){const n=String(e??"").trim().toLowerCase().replace(/_/g,"-");if(n.includes("mainnet")||n==="main"||n==="livenet")return"mainnet";if(n.includes("testnet-12")||n==="tn12")return"testnet-12";if(n.includes("testnet-11")||n==="tn11")return"testnet-11";if(n.includes("testnet-10")||n==="tn10")return"testnet-10";if(n==="testnet"||n.startsWith("tn")||n.startsWith("testnet"))return"testnet";if(n==="kaspa")return"mainnet";if(n==="kaspatest")return"testnet";const r=String(t??"").trim().toLowerCase().replace(/_/g,"-");return r==="mainnet"?"mainnet":r==="testnet-12"||r==="tn12"?"testnet-12":r==="testnet-10"||r==="tn10"?"testnet-10":r==="testnet-11"||r==="tn11"?"testnet-11":r.startsWith("testnet")||r.startsWith("tn")?"testnet":"unknown"}function hv(e,t){const n=fo(e.wallet),r=fo(e.deployTx),o=fo(e.meta),i=Jt(e.network,n.network,r.network,o.network);if(i)return po(i,"unknown");const s=Jt(n.address,e.address,r.from,r.to),u=mv(s);return po(u||t,"unknown")}function gv(e){const t=e.toLowerCase();return t==="autonomous"||t==="auto"||t==="bot"}function yv(e){const t=e.toLowerCase();return t==="active"||t==="running"||t==="live"}function vv(e,t){const n=fo(e),r=fo(n.wallet),o=Date.now(),i=Jt(n.agentId,n.id,n.name)||`agent_${o}_${Math.random().toString(36).slice(2,8)}`,s=Jt(n.name,n.agentName)||"Agent",u=Jt(n.strategyLabel,n.strategy,n.strategyTemplate)||"",c=Jt(n.risk)||"",g=Jt(n.capitalLimit,n.capital_limit)||null,m=Jt(n.execMode,n.mode)||"manual",h=Jt(n.status)||"idle",v=hv(n,t),k=md(n.pnlUsd)||md(n.pnl),w=Math.max(rr(n.updatedAt),rr(n.lastActionTime),rr(n.lastDecisionTs),rr(n.lastSeenAt),rr(n.deployedAt),rr(r.updatedAt)),E=w>0&&o-w<=5*60*1e3,p=gv(m),f=yv(h)||p||E;return{id:i,name:s,strategy:u,risk:c,capitalLimitKas:g,execMode:m,status:h,isBot:p,isActive:f,pnlUsd:k,network:v,updatedAt:w,raw:n}}function Sv(e,t){const n=[];for(const r of e){const o=vv(r,t);if(o&&n.push(o),n.length>=64)break}return n.sort((r,o)=>r.isActive!==o.isActive?r.isActive?-1:1:o.updatedAt-r.updatedAt),n}function xv(e,t,n){if(t==="all")return!0;if(t==="mainnet")return e==="mainnet";if(t==="testnet-12")return e==="testnet-12"||e==="testnet";if(t==="testnet-10")return e==="testnet-10"||e==="testnet";if(t==="testnet-11")return e==="testnet-11"||e==="testnet";const r=po(n,"unknown");return r==="mainnet"?e==="mainnet":r==="testnet-12"?e==="testnet-12"||e==="testnet":r==="testnet-10"?e==="testnet-10"||e==="testnet":r==="testnet-11"?e==="testnet-11"||e==="testnet":r==="testnet"?e==="testnet"||e==="testnet-10"||e==="testnet-11"||e==="testnet-12":!0}function Ev(e,t,n,r){return e.filter(o=>!(!xv(o.network,t,r)||n==="bots"&&!o.isBot||n==="manual"&&o.isBot))}function Nm(e){return e==="mainnet"?"MAINNET":e==="testnet-12"?"TN12":e==="testnet-10"?"TN10":e==="testnet-11"?"TN11":e==="testnet"?"TESTNET":"UNKNOWN"}const wv="forgeos.session.agents.v2";function sl(e,t){if(!e||e<=0)return"No recent heartbeat";const n=Math.max(0,t-e);return n<1e3?"just now":n<6e4?`${Math.floor(n/1e3)}s ago`:n<36e5?`${Math.floor(n/6e4)}m ago`:n<864e5?`${Math.floor(n/36e5)}h ago`:`${Math.floor(n/864e5)}d ago`}function hd(e,t){if(e==="current"){const n=po(t,"unknown");return`CURRENT (${Nm(n)})`}return e==="mainnet"?"MAINNET":e==="testnet-12"?"TN12":e==="testnet-10"?"TN10":e==="testnet-11"?"TN11":"ALL"}function gd(e){return e==="all"?"ALL MODES":e==="bots"?"BOTS":"MANUAL"}function kv({network:e}){const[t,n]=x.useState([]),[r,o]=x.useState(!0),[i,s]=x.useState("current"),[u,c]=x.useState("all"),[d,g]=x.useState(0),[m,h]=x.useState(Date.now()),v=x.useCallback(async()=>{const E=await Ky();n(Sv(E,e)),g(Date.now()),o(!1)},[e]);x.useEffect(()=>{v().catch(()=>o(!1))},[v]),x.useEffect(()=>{const E=setInterval(()=>{v().catch(()=>{}),h(Date.now())},5e3);return()=>clearInterval(E)},[v]),x.useEffect(()=>{const E=(p,f)=>{f==="local"&&wv in p&&v().catch(()=>{})};return chrome.storage.onChanged.addListener(E),()=>chrome.storage.onChanged.removeListener(E)},[v]),x.useEffect(()=>{const E=p=>{(p==null?void 0:p.type)==="FORGEOS_AGENTS_UPDATED"&&v().catch(()=>{})};return chrome.runtime.onMessage.addListener(E),()=>chrome.runtime.onMessage.removeListener(E)},[v]);const k=x.useMemo(()=>Ev(t,i,u,e),[t,u,e,i]),w=x.useMemo(()=>{const E=k.length,p=k.filter(S=>S.isBot).length,f=k.filter(S=>S.isActive).length,y=k.reduce((S,I)=>S+I.pnlUsd,0);return{total:E,bots:p,active:f,pnlUsd:y}},[k]);return r?l.jsx("div",{style:{...Bn,paddingTop:20,fontSize:9,color:a.dim,textAlign:"center"},children:"Loading agents"}):k.length===0?l.jsxs("div",{style:{...Bn,gap:10},children:[l.jsxs("div",{style:je("default",!0),children:[l.jsx("div",{style:{...We,marginBottom:7},children:"LIVE AGENT FEED  TESTNET/MAINNET FILTERS"}),l.jsx("div",{style:{display:"flex",gap:6,flexWrap:"wrap",marginBottom:7},children:["current","mainnet","testnet-10","testnet-11","testnet-12","all"].map(E=>{const p=E===i;return l.jsx("button",{onClick:()=>s(E),style:{...te(p?a.accent:a.dim),padding:"5px 7px",fontSize:8,background:p?`${a.accent}20`:"rgba(16,25,35,0.45)",borderColor:p?`${a.accent}55`:a.border},children:hd(E,e)},E)})}),l.jsx("div",{style:{display:"flex",gap:6,flexWrap:"wrap"},children:["all","bots","manual"].map(E=>{const p=E===u;return l.jsx("button",{onClick:()=>c(E),style:{...te(p?a.ok:a.dim),padding:"5px 7px",fontSize:8,background:p?`${a.ok}20`:"rgba(16,25,35,0.45)",borderColor:p?`${a.ok}55`:a.border},children:gd(E)},E)})})]}),l.jsxs("div",{style:{...Bn,...je("accent"),padding:"20px 18px",textAlign:"center",gap:14,alignItems:"center"},children:[l.jsx("div",{style:{width:52,height:52,borderRadius:"50%",background:`${a.accent}14`,border:`1px solid ${a.accent}35`,display:"flex",alignItems:"center",justifyContent:"center",fontSize:22,boxShadow:"0 8px 18px rgba(57,221,182,0.12)"},children:""}),l.jsxs("div",{children:[l.jsx("div",{style:{...Vn,fontSize:11,marginBottom:6},children:"No Agents In This Filter"}),l.jsx("div",{style:{fontSize:8,color:a.dim,lineHeight:1.6,maxWidth:220},children:"Live refresh runs every 5 seconds. Switch filters or deploy a new bot on Forge-OS."}),l.jsxs("div",{style:{fontSize:8,color:a.muted,marginTop:7},children:["Last sync ",d>0?sl(d,m):"never"]})]}),l.jsx("button",{onClick:()=>chrome.tabs.create({url:`https://forge-os.xyz?network=${encodeURIComponent(e)}`}),style:{background:`linear-gradient(90deg, ${a.accent}, #7BE9CF)`,border:"none",borderRadius:10,padding:"10px 20px",color:"#04110E",fontSize:9,fontWeight:700,cursor:"pointer",...b,letterSpacing:"0.1em",boxShadow:"0 8px 18px rgba(57,221,182,0.16)"},children:"OPEN FORGE-OS "})]})]}):l.jsxs("div",{style:{...Bn,paddingTop:10,gap:8},children:[l.jsxs("div",{style:je("default",!0),children:[l.jsx("div",{style:{...We,marginBottom:7},children:"LIVE AGENT FEED  TESTNET/MAINNET OPTIONS"}),l.jsxs("div",{style:{display:"grid",gridTemplateColumns:"repeat(4, minmax(0, 1fr))",gap:6,marginBottom:8},children:[l.jsxs("div",{style:{background:"rgba(16,25,35,0.45)",border:`1px solid ${a.border}`,borderRadius:7,padding:"6px 7px"},children:[l.jsx("div",{style:{fontSize:8,color:a.dim},children:"VISIBLE"}),l.jsx("div",{style:{fontSize:10,color:a.text,fontWeight:700},children:w.total})]}),l.jsxs("div",{style:{background:"rgba(16,25,35,0.45)",border:`1px solid ${a.border}`,borderRadius:7,padding:"6px 7px"},children:[l.jsx("div",{style:{fontSize:8,color:a.dim},children:"BOTS"}),l.jsx("div",{style:{fontSize:10,color:a.accent,fontWeight:700},children:w.bots})]}),l.jsxs("div",{style:{background:"rgba(16,25,35,0.45)",border:`1px solid ${a.border}`,borderRadius:7,padding:"6px 7px"},children:[l.jsx("div",{style:{fontSize:8,color:a.dim},children:"ACTIVE"}),l.jsx("div",{style:{fontSize:10,color:a.ok,fontWeight:700},children:w.active})]}),l.jsxs("div",{style:{background:"rgba(16,25,35,0.45)",border:`1px solid ${a.border}`,borderRadius:7,padding:"6px 7px"},children:[l.jsx("div",{style:{fontSize:8,color:a.dim},children:"P&L USD"}),l.jsxs("div",{style:{fontSize:10,color:w.pnlUsd>=0?a.ok:a.danger,fontWeight:700},children:[w.pnlUsd>=0?"+":"-","$",It(Math.abs(w.pnlUsd),2)]})]})]}),l.jsx("div",{style:{display:"flex",gap:6,flexWrap:"wrap",marginBottom:7},children:["current","mainnet","testnet-10","testnet-11","testnet-12","all"].map(E=>{const p=E===i;return l.jsx("button",{onClick:()=>s(E),style:{...te(p?a.accent:a.dim),padding:"5px 7px",fontSize:8,background:p?`${a.accent}20`:"rgba(16,25,35,0.45)",borderColor:p?`${a.accent}55`:a.border},children:hd(E,e)},E)})}),l.jsx("div",{style:{display:"flex",gap:6,flexWrap:"wrap"},children:["all","bots","manual"].map(E=>{const p=E===u;return l.jsx("button",{onClick:()=>c(E),style:{...te(p?a.ok:a.dim),padding:"5px 7px",fontSize:8,background:p?`${a.ok}20`:"rgba(16,25,35,0.45)",borderColor:p?`${a.ok}55`:a.border},children:gd(E)},E)})})]}),l.jsxs("div",{style:{...We,marginBottom:2},children:["LIVE UPDATE  LAST SYNC ",d>0?sl(d,m).toUpperCase():"NEVER"]}),k.map(E=>{const p=E.pnlUsd>=0,f=String(E.execMode||"manual").toUpperCase(),y=E.isActive?a.ok:a.warn;return l.jsxs("div",{style:{...je(E.isActive?"accent":"default",!0),borderColor:E.isActive?`${a.accent}40`:a.border,padding:"10px 12px"},children:[l.jsxs("div",{style:{display:"flex",alignItems:"center",justifyContent:"space-between",marginBottom:6,gap:8},children:[l.jsxs("div",{style:{display:"flex",alignItems:"center",gap:6,minWidth:0},children:[l.jsx("div",{style:{width:6,height:6,borderRadius:"50%",background:y,flexShrink:0}}),l.jsx("span",{style:{fontSize:10,fontWeight:700,color:a.text,whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis"},children:E.name})]}),l.jsxs("div",{style:{display:"flex",alignItems:"center",gap:4,flexWrap:"wrap",justifyContent:"flex-end"},children:[l.jsx("span",{style:{fontSize:8,color:a.dim,...b,background:"rgba(16,25,35,0.65)",border:`1px solid ${a.border}`,borderRadius:3,padding:"2px 5px"},children:Nm(E.network)}),l.jsx("span",{style:{fontSize:8,color:E.isBot?a.accent:a.dim,...b,background:E.isBot?`${a.accent}18`:"rgba(16,25,35,0.65)",border:`1px solid ${E.isBot?`${a.accent}50`:a.border}`,borderRadius:3,padding:"2px 5px"},children:E.isBot?"BOT":"MANUAL"}),l.jsx("span",{style:{fontSize:8,color:E.isActive?a.ok:a.warn,fontWeight:700,...b,background:E.isActive?`${a.ok}15`:`${a.warn}15`,border:`1px solid ${E.isActive?a.ok:a.warn}30`,borderRadius:3,padding:"2px 5px"},children:f})]})]}),l.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:6},children:[l.jsxs("div",{children:[l.jsx("div",{style:{fontSize:8,color:a.dim,marginBottom:1},children:"STRATEGY"}),l.jsx("div",{style:{fontSize:8,color:a.text,whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis"},children:E.strategy})]}),l.jsxs("div",{children:[l.jsx("div",{style:{fontSize:8,color:a.dim,marginBottom:1},children:"P&L (USD)"}),l.jsxs("div",{style:{fontSize:8,color:p?a.ok:a.danger,fontWeight:700},children:[p?"+":"","$",It(Math.abs(E.pnlUsd),2)]})]}),E.capitalLimitKas&&l.jsxs("div",{children:[l.jsx("div",{style:{fontSize:8,color:a.dim,marginBottom:1},children:"CAPITAL"}),l.jsxs("div",{style:{fontSize:8,color:a.text},children:[E.capitalLimitKas," KAS"]})]}),l.jsxs("div",{children:[l.jsx("div",{style:{fontSize:8,color:a.dim,marginBottom:1},children:"LAST HEARTBEAT"}),l.jsx("div",{style:{fontSize:8,color:a.text},children:sl(E.updatedAt,m)})]}),l.jsxs("div",{children:[l.jsx("div",{style:{fontSize:8,color:a.dim,marginBottom:1},children:"RISK"}),l.jsx("div",{style:{fontSize:8,color:a.text},children:String(E.risk||"").toUpperCase()})]})]})]},E.id)}),l.jsx("button",{onClick:()=>chrome.tabs.create({url:`https://forge-os.xyz?network=${encodeURIComponent(e)}`}),style:{...te(a.dim,!0),padding:"8px 10px",marginTop:2},children:"MANAGE LIVE ON FORGE-OS "})]})}function Av({address:e,network:t,isManagedWallet:n,autoLockMinutes:r,persistUnlockSessionEnabled:o,onAutoLockMinutesChange:i,onPersistUnlockSessionChange:s,onLock:u}){const[c,d]=x.useState("none"),[g,m]=x.useState([]),[h,v]=x.useState(""),[k,w]=x.useState(null),[E,p]=x.useState(!1),[f,y]=x.useState(""),[S,I]=x.useState(""),[C,j]=x.useState(""),[N,W]=x.useState(null),[$,H]=x.useState(!1),[ve,de]=x.useState(!1),[Te,Oe]=x.useState(!1),[_e,q]=x.useState(!1),[P,M]=x.useState("official"),[U,G]=x.useState(""),[K,ne]=x.useState(!1),[re,Z]=x.useState(null),[Ie,R]=x.useState(!1),ae={official:"OFFICIAL",igra:"IGRA",kasplex:"KASPLEX",custom:"CUSTOM"},Le=n?"managed":e?"watch-only":"none",se=[{label:"1m",value:1},{label:"15m",value:15},{label:"1h",value:60},{label:"4h",value:240},{label:"Never",value:-1}];x.useEffect(()=>{let z=!0;return ne(!0),Z(null),R(!1),Promise.all([om(t),nm(t)]).then(([A,F])=>{z&&(G(A??""),M(F))}).catch(()=>{z&&Z("Failed to load RPC settings.")}).finally(()=>{z&&ne(!1)}),()=>{z=!1}},[t]);const xt=async z=>{z.preventDefault(),w(null),p(!0);try{const A=await Zn(h,r,{persistSession:o});m(A.mnemonic.split(" ")),v("")}catch(A){const F=A instanceof Error?A.message:String(A);w(F==="INVALID_PASSWORD"?"Incorrect password.":"Authentication failed."),v("")}finally{p(!1)}},Yt=()=>{m([]),v(""),w(null),d("none")},at=async z=>{if(z.preventDefault(),W(null),S.length<8){W("New password must be at least 8 characters.");return}if(S!==C){W("New passwords do not match.");return}if(S===f){W("New password must differ from current password.");return}de(!0);try{await pm(f,S),H(!0),y(""),I(""),j("")}catch(A){const F=A instanceof Error?A.message:String(A);W(F==="INVALID_PASSWORD"?"Current password is incorrect.":F==="WEAK_PASSWORD"?"New password is too short (min 8 chars).":"Failed to change password. Try again.")}finally{de(!1)}},ut=async()=>{if(!Te){Oe(!0);return}await mm(),u()},Ce=(z=!1)=>({...Cm(z)}),Et=()=>{d("none"),m([]),v(""),w(null),y(""),I(""),j(""),W(null),H(!1),Oe(!1)},wt=async z=>{q(!0);try{await i(z)}finally{q(!1)}},kt=async()=>{q(!0);try{await s(!o)}finally{q(!1)}},Ot=async z=>{ne(!0),Z(null),R(!1);try{await Zs(t,z),M(z),R(!0)}catch{Z("Failed to save RPC provider preset.")}finally{ne(!1)}},_=async()=>{ne(!0),Z(null),R(!1);try{await ed(t,U.trim()||null),await Zs(t,"custom"),M("custom"),R(!0),U.trim()||G("")}catch(z){const A=z instanceof Error?z.message:String(z);Z(A==="INVALID_RPC_ENDPOINT"?"Invalid endpoint URL. Use http(s)://...":"Failed to save custom RPC endpoint.")}finally{ne(!1)}},Y=async()=>{ne(!0),Z(null),R(!1);try{await ed(t,null),await Zs(t,"official"),M("official"),G(""),R(!0)}catch{Z("Failed to clear custom RPC endpoint.")}finally{ne(!1)}};return l.jsxs("div",{style:Bn,children:[l.jsxs("div",{style:je("default"),children:[l.jsx("div",{style:{...We,marginBottom:8},children:"CONNECTION STATUS"}),l.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:8},children:[l.jsxs("div",{children:[l.jsx("div",{style:{fontSize:8,color:a.dim,marginBottom:3},children:"PROVIDER"}),l.jsxs("div",{style:{display:"flex",alignItems:"center",gap:5},children:[l.jsx("div",{style:{width:5,height:5,borderRadius:"50%",background:e?a.ok:a.warn}}),l.jsx("span",{style:{fontSize:9,color:a.text,fontWeight:700},children:Le.toUpperCase()})]})]}),l.jsxs("div",{children:[l.jsx("div",{style:{fontSize:8,color:a.dim,marginBottom:3},children:"NETWORK"}),l.jsx("span",{style:{fontSize:8,color:t==="mainnet"?a.warn:a.ok,fontWeight:700,background:t==="mainnet"?`${a.warn}15`:`${a.ok}15`,border:`1px solid ${t==="mainnet"?a.warn:a.ok}30`,borderRadius:3,padding:"2px 6px"},children:t.toUpperCase()})]}),e&&l.jsxs("div",{style:{gridColumn:"1 / -1"},children:[l.jsx("div",{style:{fontSize:8,color:a.dim,marginBottom:3},children:"ADDRESS"}),l.jsx("div",{style:{...we(),fontSize:8,color:a.text,padding:"7px 9px"},children:Fo(e)})]})]})]}),l.jsxs("div",{style:je("default"),children:[l.jsx("div",{style:{...We,marginBottom:8},children:"KASPA RPC ENDPOINT"}),l.jsxs("div",{style:{fontSize:8,color:a.dim,lineHeight:1.5,marginBottom:7},children:["Active network: ",l.jsx("span",{style:{color:a.text,fontWeight:700},children:t.toUpperCase()})]}),l.jsx("div",{style:{display:"flex",gap:6,flexWrap:"wrap",marginBottom:8},children:Object.keys(ae).map(z=>{const A=P===z;return l.jsx("button",{onClick:()=>{Ot(z)},disabled:K,style:{...te(A?a.accent:a.dim,!0),padding:"6px 8px",fontSize:8,color:A?a.accent:a.dim,opacity:K?.7:1},children:ae[z]},z)})}),l.jsx("input",{value:U,onChange:z=>{G(z.target.value),R(!1),Z(null)},placeholder:t==="mainnet"?"https://your-mainnet-kaspa-rpc.example":"https://your-kaspa-rpc.example",disabled:K||P!=="custom",style:{...Ce(!!re),marginBottom:7}}),l.jsxs("div",{style:{display:"flex",gap:6},children:[l.jsx("button",{onClick:()=>{_()},disabled:K||P!=="custom",style:{...te(a.accent,!0),flex:1,padding:"7px 8px",color:a.accent,opacity:K?.7:1},children:K?"SAVING":"SAVE RPC"}),l.jsx("button",{onClick:()=>{Y()},disabled:K,style:{...te(a.dim,!0),flex:1,padding:"7px 8px",color:a.dim,opacity:K?.7:1},children:"CLEAR"})]}),re&&l.jsx("div",{style:{fontSize:8,color:a.danger,marginTop:6},children:re}),!re&&Ie&&l.jsx("div",{style:{fontSize:8,color:a.ok,marginTop:6},children:"Saved RPC settings for this network."}),l.jsx("div",{style:{fontSize:8,color:a.dim,lineHeight:1.5,marginTop:6},children:"Presets are stored per network. Igra/Kasplex pools read from env (`VITE_KASPA_IGRA_*` / `VITE_KASPA_KASPLEX_*`) and fall back to Official if unset."})]}),n&&l.jsxs("div",{style:je("default"),children:[l.jsx("div",{style:{...We,marginBottom:8},children:"SESSION SETTINGS"}),l.jsxs("div",{style:{marginBottom:10},children:[l.jsx("div",{style:{fontSize:8,color:a.dim,marginBottom:5,letterSpacing:"0.08em"},children:"AUTO-LOCK"}),l.jsx("div",{style:{display:"flex",gap:6,flexWrap:"wrap"},children:se.map(z=>l.jsx("button",{disabled:_e,onClick:()=>{wt(z.value)},style:{...te(r===z.value?a.accent:a.dim,!0),padding:"6px 8px",fontSize:8,color:r===z.value?a.accent:a.dim,opacity:_e?.7:1},children:z.label},z.value))})]}),l.jsx("button",{onClick:()=>{kt()},disabled:_e,style:{...te(o?a.ok:a.dim,!0),width:"100%",padding:"8px 10px",color:o?a.ok:a.dim,textAlign:"left",opacity:_e?.7:1},children:o?" KEEP UNLOCKED WHEN POPUP CLOSES":"KEEP UNLOCKED WHEN POPUP CLOSES"}),l.jsx("div",{style:{fontSize:8,color:a.dim,lineHeight:1.5,marginTop:6},children:"Stores an unlocked session only in browser session memory; lock manually on shared devices."})]}),n&&l.jsxs(l.Fragment,{children:[c==="none"&&l.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:7},children:[l.jsx("button",{onClick:()=>d("reveal"),style:ll(a.accent),children:" REVEAL SEED PHRASE"}),l.jsx("button",{onClick:()=>d("change_pw"),style:ll(a.dim),children:" CHANGE PASSWORD"}),l.jsx("button",{onClick:()=>d("reset"),style:ll(a.danger),children:" RESET WALLET"})]}),c==="reveal"&&l.jsxs("div",{style:{...je("warn")},children:[l.jsxs("div",{style:{display:"flex",alignItems:"center",justifyContent:"space-between",marginBottom:8},children:[l.jsx("span",{style:{...Vn,color:a.warn},children:"SEED PHRASE"}),l.jsx("button",{onClick:Yt,style:{background:"none",border:"none",color:a.dim,fontSize:8,cursor:"pointer",...b},children:" close"})]}),g.length===0?l.jsxs("form",{onSubmit:xt,children:[l.jsx("div",{style:{fontSize:8,color:a.dim,marginBottom:6,lineHeight:1.5},children:"Enter your password to view your seed phrase. Never share it  anyone with this phrase controls your wallet."}),l.jsx("input",{type:"password",value:h,onChange:z=>v(z.target.value),placeholder:"Your password",disabled:E,style:{...Ce(!!k),marginBottom:6}}),k&&l.jsx("div",{style:{fontSize:8,color:a.danger,marginBottom:6},children:k}),l.jsx("button",{type:"submit",disabled:!h||E,style:{...te(h&&!E?a.warn:a.dim,!0),width:"100%",padding:"7px 0",color:h&&!E?a.warn:a.dim,cursor:h&&!E?"pointer":"not-allowed"},children:E?"AUTHENTICATING":"SHOW SEED PHRASE"})]}):l.jsxs(l.Fragment,{children:[l.jsx("div",{style:{...we(),display:"grid",gridTemplateColumns:"repeat(4, 1fr)",gap:4,marginBottom:8},children:g.map((z,A)=>l.jsxs("div",{style:{background:"rgba(5,7,10,0.9)",border:`1px solid ${a.border}`,borderRadius:4,padding:"5px 4px",display:"flex",alignItems:"center",gap:3},children:[l.jsxs("span",{style:{fontSize:8,color:a.dim,flexShrink:0},children:[A+1,"."]}),l.jsx("span",{style:{fontSize:8,color:a.text,fontWeight:600},children:z})]},A))}),l.jsx("div",{style:{fontSize:8,color:a.warn,lineHeight:1.4},children:" Store offline. Never photograph or share digitally."})]})]}),c==="change_pw"&&l.jsxs("div",{style:je("default"),children:[l.jsxs("div",{style:{display:"flex",alignItems:"center",justifyContent:"space-between",marginBottom:8},children:[l.jsx("span",{style:Vn,children:"CHANGE PASSWORD"}),l.jsx("button",{onClick:Et,style:{background:"none",border:"none",color:a.dim,fontSize:8,cursor:"pointer",...b},children:" close"})]}),$?l.jsx("div",{style:{fontSize:8,color:a.ok,textAlign:"center",padding:"8px 0"},children:" Password updated successfully."}):l.jsxs("form",{onSubmit:at,style:{display:"flex",flexDirection:"column",gap:7},children:[l.jsx("input",{type:"password",value:f,onChange:z=>y(z.target.value),placeholder:"Current password",disabled:ve,style:Ce()}),l.jsx("input",{type:"password",value:S,onChange:z=>I(z.target.value),placeholder:"New password (min 8 chars)",disabled:ve,style:Ce()}),l.jsx("input",{type:"password",value:C,onChange:z=>j(z.target.value),placeholder:"Confirm new password",disabled:ve,style:Ce()}),N&&l.jsx("div",{style:{fontSize:8,color:a.danger},children:N}),l.jsx("button",{type:"submit",disabled:!f||!S||!C||ve,style:{...$n(f&&S&&C&&!ve),padding:"8px 0",cursor:f&&S&&C&&!ve?"pointer":"not-allowed"},children:ve?"RE-ENCRYPTING":"UPDATE PASSWORD"})]})]}),c==="reset"&&l.jsxs("div",{style:{...je("danger"),backgroundColor:a.dLow},children:[l.jsxs("div",{style:{display:"flex",alignItems:"center",justifyContent:"space-between",marginBottom:8},children:[l.jsx("span",{style:{...Vn,color:a.danger},children:" RESET WALLET"}),l.jsx("button",{onClick:Et,style:{background:"none",border:"none",color:a.dim,fontSize:8,cursor:"pointer",...b},children:" cancel"})]}),l.jsxs("div",{style:{fontSize:8,color:a.dim,lineHeight:1.5,marginBottom:10},children:["This will permanently delete your encrypted vault from this extension. Your on-chain funds are NOT affected. You can re-import using your seed phrase.",l.jsx("strong",{style:{color:a.warn},children:" Make sure your seed phrase is backed up before proceeding."})]}),l.jsx("button",{onClick:ut,style:{...te(a.danger,!0),width:"100%",padding:"8px 0",background:Te?a.danger:"rgba(49,21,32,0.65)",border:`1px solid ${a.danger}${Te?"90":"50"}`,color:Te?"#fff":a.danger},children:Te?" CONFIRM  PERMANENTLY DELETE VAULT":"RESET WALLET"}),Te&&l.jsx("div",{style:{fontSize:8,color:a.danger,marginTop:5,textAlign:"center"},children:"This cannot be undone. Your seed phrase is your only recovery option."})]})]}),l.jsxs("div",{style:{...we(),padding:"10px 12px"},children:[l.jsx("div",{style:{...We,marginBottom:6},children:"SECURITY NOTES"}),["Seed phrase encrypted with AES-256-GCM before storage.","Password derived with PBKDF2-SHA256 (600,000 iterations).","Plaintext secrets never touch chrome.storage.","All signing happens locally  nothing is transmitted to servers."].map((z,A,F)=>l.jsxs("div",{style:{display:"flex",gap:6,marginBottom:A<F.length-1?4:0},children:[l.jsx("span",{style:{color:a.ok,fontSize:8,flexShrink:0},children:""}),l.jsx("span",{style:{fontSize:8,color:a.dim,lineHeight:1.5},children:z})]},A))]}),n&&c==="none"&&l.jsx("button",{onClick:u,style:{...te(a.dim,!0),padding:"8px 0"},children:" LOCK WALLET"})]})}function ll(e){return{...te(e,!0),padding:"10px 12px",color:e,textAlign:"left",letterSpacing:"0.08em"}}var Od;const ie=((Od=import.meta)==null?void 0:Od.env)??{};function yd(e,t){const n=ie==null?void 0:ie[e];return typeof n!="string"?t:n.trim().toLowerCase()==="true"?!0:n.trim().toLowerCase()==="false"?!1:t}function Xr(e,t,n,r){const o=ie==null?void 0:ie[e],i=Number(o);return Number.isFinite(i)?Math.min(r,Math.max(n,Math.floor(i))):t}function Tv(e,t){const n=String((ie==null?void 0:ie[e])??"").trim();if(!n)return t;const r=n.split(/[,\s]+/).map(i=>Number(i)).filter(i=>Number.isInteger(i)&&i>0),o=[...new Set(r)];return o.length?o:t}function _v(e,t){const n=String((ie==null?void 0:ie[e])??"").trim().toLowerCase();return n==="kaspa_native"||n==="evm_0x"||n==="blocked"?n:t}const X={enabled:yd("VITE_SWAP_ENABLED",!1),routeSource:_v("VITE_SWAP_ROUTE_SOURCE","blocked"),maxSlippageBps:Xr("VITE_SWAP_MAX_SLIPPAGE_BPS",500,1,2e3),defaultSlippageBps:Xr("VITE_SWAP_DEFAULT_SLIPPAGE_BPS",50,1,2e3),dexEndpoint:String((ie==null?void 0:ie.VITE_SWAP_DEX_ENDPOINT)??"").trim()||null,evmChainIdAllowlist:Tv("VITE_SWAP_EVM_CHAIN_IDS",[1]),requireExternalEvmSigner:yd("VITE_SWAP_REQUIRE_EXTERNAL_EVM_SIGNER",!0),zeroExQuoteEndpoint:String((ie==null?void 0:ie.VITE_SWAP_ZEROX_QUOTE_ENDPOINT)??"https://api.0x.org/swap/allowance-holder/quote").trim()||null,zeroExApiKey:String((ie==null?void 0:ie.VITE_SWAP_ZEROX_API_KEY)??"").trim(),zeroExExpectedSettlerTo:String((ie==null?void 0:ie.VITE_SWAP_ZEROX_EXPECTED_SETTLER_TO)??"").trim(),zeroExExpectedAllowanceSpender:String((ie==null?void 0:ie.VITE_SWAP_ZEROX_EXPECTED_ALLOWANCE_SPENDER)??"").trim(),settlementRequiredConfirmations:Xr("VITE_SWAP_SETTLEMENT_CONFIRMATIONS",2,1,128),settlementPollIntervalMs:Xr("VITE_SWAP_SETTLEMENT_POLL_MS",4e3,500,6e4),settlementTimeoutMs:Xr("VITE_SWAP_SETTLEMENT_TIMEOUT_MS",24e4,15e3,36e5)};function gn(e){switch(e){case"kaspa_native":return"Kaspa Native";case"evm_0x":return"0x EVM";case"blocked":default:return"Blocked"}}function Iv(e,t){return e==="KAS"||t==="KAS"}function Cv(e,t){return e==="ZRX"||t==="ZRX"}function Pm(e,t,n=X.routeSource){return n==="blocked"?{source:n,label:gn(n),allowed:!1,reason:"Swap routes are currently disabled on Kaspa.",requiresEvmSigner:!1}:n==="kaspa_native"?Cv(e,t)?{source:n,label:gn(n),allowed:!1,reason:"0x token routes are not enabled on Kaspa-native swap.",requiresEvmSigner:!1}:{source:n,label:gn(n),allowed:!0,reason:null,requiresEvmSigner:!1}:Iv(e,t)?{source:n,label:gn(n),allowed:!1,reason:"0x routes are EVM-domain only and cannot use native Kaspa balances directly.",requiresEvmSigner:!0}:{source:n,label:gn(n),allowed:!0,reason:null,requiresEvmSigner:!0}}function Nv(e=X.routeSource){return e==="blocked"?{source:e,label:gn(e),allowed:!1,reason:"Swap routes are currently disabled on Kaspa.",requiresEvmSigner:!1}:e==="evm_0x"?{source:e,label:gn(e),allowed:!0,reason:null,requiresEvmSigner:!0}:{source:e,label:gn(e),allowed:!0,reason:null,requiresEvmSigner:!1}}function Pv(){return Nv(X.routeSource)}function vd(e){return e.trim().toLowerCase()}function Sd(e){return e.routeSource==="evm_0x"?e.hasExternalEvmSigner?{ok:!0,requiredDomain:"evm_sidecar",reason:null}:{ok:!1,requiredDomain:"evm_sidecar",reason:"0x route requires an external EVM signer. Kaspa managed signer is isolated."}:e.hasManagedKaspaSession?{ok:!0,requiredDomain:"kaspa_managed",reason:null}:{ok:!1,requiredDomain:"kaspa_managed",reason:"Kaspa managed wallet must be unlocked for Kaspa-native swap."}}function jv(e,t){return!e||!t?!1:vd(e)===vd(t)}const Cu="forgeos.swap.evm.sidecar.v1";function Rv(e){if(!e)return null;try{return JSON.parse(e)}catch{return null}}function jm(e){if(typeof e!="string")return"";const t=e.trim();return/^0x[a-fA-F0-9]{40}$/.test(t)?t:""}function xs(e){if(typeof e=="number"&&Number.isInteger(e)&&e>0)return e;if(typeof e=="string"){const t=e.trim().toLowerCase();if(!t)return 0;if(t.startsWith("0x")){const r=Number.parseInt(t.slice(2),16);return Number.isInteger(r)&&r>0?r:0}const n=Number(t);return Number.isInteger(n)&&n>0?n:0}return 0}function Nu(){return typeof window<"u"&&typeof window.localStorage<"u"}function Rm(e){const t=e;if(!t)return null;const n=jm(t.address),r=xs(t.chainId),o=t.walletType==="metamask"?"metamask":null,i=typeof t.connectedAt=="number"&&Number.isFinite(t.connectedAt)?t.connectedAt:0,s=typeof t.updatedAt=="number"&&Number.isFinite(t.updatedAt)?t.updatedAt:i;return!o||!n||r<=0?null:{walletType:o,address:n,chainId:r,connectedAt:i||Date.now(),updatedAt:s||Date.now()}}function ua(){if(!Nu())return null;const e=Rv(window.localStorage.getItem(Cu));return Rm(e)}function Ov(e){const t=Date.now(),n=Rm({...e,connectedAt:e.connectedAt??t,updatedAt:e.updatedAt??t});if(!n)throw new Error("EVM_SIDECAR_INVALID_SESSION");return Nu()&&window.localStorage.setItem(Cu,JSON.stringify(n)),n}function Lv(){Nu()&&window.localStorage.removeItem(Cu)}function Om(e){return X.evmChainIdAllowlist.includes(e)}function Es(){const e=globalThis==null?void 0:globalThis.ethereum;return e&&typeof e.request=="function"?e:null}async function Dv(){const e=Es();if(!e)throw new Error("EVM_SIDECAR_UNAVAILABLE: No injected EVM provider found.");const t=await e.request({method:"eth_requestAccounts"}),n=Array.isArray(t)?t:[],r=jm(n[0]);if(!r)throw new Error("EVM_SIDECAR_CONNECT_FAILED: No EVM account returned.");const o=await e.request({method:"eth_chainId"}),i=xs(o);if(i<=0)throw new Error("EVM_SIDECAR_CHAIN_INVALID: Could not determine chain ID.");if(!Om(i))throw new Error(`EVM_SIDECAR_CHAIN_NOT_ALLOWED: chainId ${i} not allowed.`);return Ov({walletType:"metamask",address:r,chainId:i})}async function bv(e){const t=Es();if(!t)throw new Error("EVM_SIDECAR_UNAVAILABLE: No injected EVM provider found.");const n=await t.request({method:"eth_sendTransaction",params:[e]});if(typeof n!="string"||!n.startsWith("0x"))throw new Error("EVM_TX_HASH_INVALID");return n}async function zv(e){const t=Es();if(!t)return null;const n=await t.request({method:"eth_getTransactionReceipt",params:[e]});return!n||typeof n!="object"?null:n}async function Mv(){const e=Es();if(!e)return null;const t=await e.request({method:"eth_blockNumber"}),n=xs(t);return n>0?n:null}function Fv(e){const t=e.status;if(typeof t=="number")return t===1?"success":"revert";if(typeof t=="string"){const n=t.trim().toLowerCase();if(n==="0x1"||n==="1")return"success";if(n==="0x0"||n==="0")return"revert"}return"unknown"}function Uv(e){return xs(e.blockNumber)}function ui(e){return e.trim().toLowerCase()}const Bv={1:{USDC:"0xA0b86991c6218b36c1d19d4a2e9eb0ce3606eb48",USDT:"0xdAC17F958D2ee523a2206206994597C13D831ec7",ZRX:"0xE41d2489571d322189246DaFA5ebDe1F4699F498"}};function xd(e,t){if(e==="KAS")return null;const r=(Bv[t]??{})[e];return typeof r=="string"&&r?r:null}function $v(e,t,n){const r=xd(e.tokenIn,t.chainId),o=xd(e.tokenOut,t.chainId);if(!r||!o)throw new Error("ZEROX_TOKEN_UNSUPPORTED: token pair is not mapped for selected EVM chain.");return{endpoint:n.endpoint,apiKey:n.apiKey,expectedSettlerTo:n.expectedSettlerTo,expectedAllowanceSpender:n.expectedAllowanceSpender,slippageBps:e.slippageBps,sellTokenAddress:r,buyTokenAddress:o,sellAmount:e.amountIn.toString()}}async function Kv(e,t,n){var d;const r=new URLSearchParams({sellToken:e.sellTokenAddress,buyToken:e.buyTokenAddress,sellAmount:e.sellAmount,slippageBps:String(e.slippageBps)}),o=`${e.endpoint}?${r.toString()}`,i={Accept:"application/json","Content-Type":"application/json"};e.apiKey&&(i["0x-api-key"]=e.apiKey);const s=await fetch(o,{method:"GET",headers:i}),u=await s.json().catch(()=>({}));if(!s.ok){const g=typeof(u==null?void 0:u.reason)=="string"?u.reason:`HTTP ${s.status}`;throw new Error(`ZEROX_QUOTE_FAILED: ${g}`)}const c=Wv(u,{allowedChainIds:t,expectedChainId:n,expectedSettlerTo:e.expectedSettlerTo,expectedAllowanceSpender:e.expectedAllowanceSpender});if((d=u.issues)!=null&&d.simulationIncomplete&&c.push("ZEROX_SIMULATION_INCOMPLETE"),c.length>0)throw new Error(`ZEROX_POLICY_REJECTED: ${c.join(", ")}`);return u}function Wv(e,t){var i,s,u;const n=[],r=Number(e.chainId??0);(!Number.isFinite(r)||!t.allowedChainIds.includes(r))&&n.push("ZEROX_CHAIN_NOT_ALLOWED"),t.expectedChainId&&r!==t.expectedChainId&&n.push("ZEROX_CHAIN_SESSION_MISMATCH"),e.liquidityAvailable||n.push("ZEROX_NO_LIQUIDITY");const o=typeof((i=e.transaction)==null?void 0:i.to)=="string"?e.transaction.to:"";if((!o||ui(o)!==ui(t.expectedSettlerTo))&&n.push("ZEROX_SETTLER_MISMATCH"),t.expectedAllowanceSpender){const c=typeof((u=(s=e.issues)==null?void 0:s.allowance)==null?void 0:u.spender)=="string"?e.issues.allowance.spender:"";(!c||ui(c)!==ui(t.expectedAllowanceSpender))&&n.push("ZEROX_ALLOWANCE_SPENDER_MISMATCH")}return(!e.minBuyAmount||!/^\d+$/.test(String(e.minBuyAmount)))&&n.push("ZEROX_MIN_BUY_AMOUNT_INVALID"),n}var Ld;const _r=((Ld=import.meta)==null?void 0:Ld.env)??{},Vv=12e3,Hv="/quote",Gv="/execute",Xv="/status";function Qv(e,t,n,r){const o=Number(_r==null?void 0:_r[e]);return Number.isFinite(o)?Math.min(r,Math.max(n,Math.floor(o))):t}function Pu(e,t){return String((_r==null?void 0:_r[e])??"").trim()||t}const Yv=Qv("VITE_SWAP_KASPA_NATIVE_TIMEOUT_MS",Vv,1e3,6e4),Zv=Pu("VITE_SWAP_KASPA_NATIVE_QUOTE_PATH",Hv),Jv=Pu("VITE_SWAP_KASPA_NATIVE_EXECUTE_PATH",Gv),qv=Pu("VITE_SWAP_KASPA_NATIVE_STATUS_PATH",Xv);function Lm(e){return String(e||"").trim().replace(/\/+$/,"")}function eS(e){const t=String(e||"").trim();return t?t.startsWith("/")?t:`/${t}`:"/"}function ju(e,t){const n=Lm(e);if(!n)throw new Error("KASPA_NATIVE_ENDPOINT_MISSING");return`${n}${eS(t)}`}async function Ru(e,t){const n=new AbortController,r=setTimeout(()=>n.abort(),t.timeoutMs??Yv);try{const o=await fetch(e,{method:t.method,headers:{"Content-Type":"application/json"},...t.body?{body:JSON.stringify(t.body)}:{},signal:n.signal}),i=await o.text().catch(()=>"");let s=null;if(i)try{s=JSON.parse(i)}catch{throw new Error(`KASPA_NATIVE_HTTP_${o.status}: invalid JSON response`)}if(!o.ok){const u=typeof(s==null?void 0:s.error)=="string"?s.error:`HTTP ${o.status}`;throw new Error(`KASPA_NATIVE_HTTP_${o.status}: ${u}`)}return{status:o.status,data:s}}catch(o){throw(o==null?void 0:o.name)==="AbortError"?new Error("KASPA_NATIVE_TIMEOUT: request timed out"):o instanceof Error?o:new Error(String(o))}finally{clearTimeout(r)}}function tS(e){return typeof e=="bigint"?e.toString():typeof e=="number"&&Number.isFinite(e)&&e>=0?String(Math.floor(e)):typeof e=="string"&&/^\d+$/.test(e.trim())?e.trim():""}function Ed(e,t){const n=tS(e);if(!n)throw new Error(`KASPA_NATIVE_QUOTE_INVALID: "${t}" must be an integer string`);const r=BigInt(n);if(r<0n)throw new Error(`KASPA_NATIVE_QUOTE_INVALID: "${t}" must be >= 0`);return r}function Ji(e){const t=typeof e=="number"?e:Number(e);return Number.isFinite(t)?t:null}function nS(e){const t=Ji(e.priceImpactBps);if(t!==null&&t>=0)return t/1e4;const n=Ji(e.priceImpact);if(n!==null&&n>=0&&n<=1)return n;throw new Error("KASPA_NATIVE_QUOTE_INVALID: missing price impact")}function rS(e){if(!Array.isArray(e))return[];const t=e.map(n=>String(n||"").trim()).filter(Boolean);return t.length?t:[]}function oS(e){return e==="mainnet"?"kaspa:":"kaspatest:"}function iS(e,t){const n=String(e||"").trim().toLowerCase();if(!Ro(n))throw new Error("KASPA_NATIVE_QUOTE_INVALID: settlement address is invalid");const r=oS(t);if(!n.startsWith(r))throw new Error("KASPA_NATIVE_QUOTE_INVALID: settlement address network mismatch")}function sS(e,t,n,r){const o=e??{},i=typeof o.quoteId=="string"?o.quoteId.trim():"";if(!i)throw new Error("KASPA_NATIVE_QUOTE_INVALID: missing quoteId");const s=typeof o.settlementAddress=="string"?o.settlementAddress.trim():"";if(!s)throw new Error("KASPA_NATIVE_QUOTE_INVALID: missing settlementAddress");iS(s,r);const u=Ed(o.minAmountOut??o.amountOut,"amountOut"),c=Ed(o.feeAmount??o.fee??"0","feeAmount"),d=nS(o),g=rS(o.route),m=Ji(o.validUntil);if(m===null||m<=Date.now())throw new Error("KASPA_NATIVE_QUOTE_INVALID: quote is missing or expired");if(g.length===0)throw new Error("KASPA_NATIVE_QUOTE_INVALID: missing route");return{tokenIn:t.tokenIn,tokenOut:t.tokenOut,amountIn:t.amountIn,amountOut:u,priceImpact:d,fee:c,route:g,validUntil:m,dexEndpoint:n,routeSource:"kaspa_native",rawQuote:{...o,quoteId:i,settlementAddress:s,network:r}}}function lS(e){const t=e.rawQuote??{},n=typeof t.quoteId=="string"?t.quoteId.trim():"",r=typeof t.settlementAddress=="string"?t.settlementAddress.trim():"";if(!n||!r)throw new Error("KASPA_NATIVE_QUOTE_META_INVALID");return{quoteId:n,settlementAddress:r}}async function aS(e,t){const n=ju(t.endpoint,Zv),r={tokenIn:e.tokenIn,tokenOut:e.tokenOut,amountIn:e.amountIn.toString(),slippageBps:e.slippageBps,network:t.network,walletAddress:t.walletAddress};e.customTokenOut&&(r.tokenOutAddress=e.customTokenOut.address,r.tokenOutStandard=e.customTokenOut.standard,r.tokenOutSymbol=e.customTokenOut.symbol,r.tokenOutName=e.customTokenOut.name,r.tokenOutDecimals=e.customTokenOut.decimals);const{data:o}=await Ru(n,{method:"POST",body:r});return sS(o,e,Lm(t.endpoint),t.network)}async function uS(e){const t=ju(e.endpoint,Jv),n={quoteId:e.quoteId,network:e.network,depositTxId:e.depositTxId,walletAddress:e.walletAddress,amountIn:e.amountIn.toString()},{data:r}=await Ru(t,{method:"POST",body:n}),o=r??{};if(o.accepted===!1)throw new Error(typeof o.error=="string"?o.error:"KASPA_NATIVE_EXECUTION_REJECTED");const i=typeof o.state=="string"?o.state.toLowerCase().trim():"";if(["failed","rejected","error"].includes(i))throw new Error(typeof o.error=="string"?o.error:`KASPA_NATIVE_EXECUTION_${i.toUpperCase()}`)}function cS(e){const t=e.toLowerCase().trim();return["confirmed","completed","success","settled"].includes(t)?"confirmed":["failed","reverted","rejected","expired","error"].includes(t)?"failed":"pending"}async function dS(e){const t=ju(e.endpoint,qv),n=new URLSearchParams({quoteId:e.quoteId,depositTxId:e.depositTxId,network:e.network}),r=`${t}?${n.toString()}`;try{const{status:o,data:i}=await Ru(r,{method:"GET"});if(o===404)return{state:"pending",confirmations:0,error:null,settlementTxId:null};const s=i??{},u=String(s.state??s.status??"pending"),c=cS(u),d=Math.max(0,Math.floor(Ji(s.confirmations)??0)),g=typeof s.error=="string"?s.error:null,m=typeof s.settlementTxId=="string"?s.settlementTxId:typeof s.txId=="string"?s.txId:null;return{state:c,confirmations:d,error:g,settlementTxId:m}}catch(o){if(String((o==null?void 0:o.message)||"").includes("HTTP 404"))return{state:"pending",confirmations:0,error:null,settlementTxId:null};throw o}}const fS={REQUESTED:["QUOTED","FAILED_TIMEOUT"],QUOTED:["SIGNED","FAILED_TIMEOUT","FAILED_BRIDGE"],SIGNED:["SUBMITTED","FAILED_TIMEOUT","FAILED_BRIDGE"],SUBMITTED:["SUBMITTED","PENDING_CONFIRMATION","CONFIRMED","FAILED_REVERT","FAILED_TIMEOUT"],PENDING_CONFIRMATION:["PENDING_CONFIRMATION","CONFIRMED","FAILED_REVERT","FAILED_TIMEOUT","FAILED_BRIDGE"],CONFIRMED:[],FAILED_REVERT:[],FAILED_TIMEOUT:[],FAILED_BRIDGE:[]};function Dm(e,t,n=Date.now()){return{id:e,routeSource:t,state:"REQUESTED",createdAt:n,updatedAt:n,txHash:null,bridgeTransferId:null,confirmations:0,error:null}}function He(e,t,n={},r=Date.now()){if(!fS[e.state].includes(t))throw new Error(`INVALID_SETTLEMENT_TRANSITION: ${e.state} -> ${t}`);return{...e,...n,state:t,updatedAt:r}}const ca="forgeos.swap.settlements.v1",bm=200;function zm(){return chrome.storage.local}async function pS(){return new Promise(e=>{zm().get(ca,t=>e((t==null?void 0:t[ca])??null))})}async function mS(e){return new Promise(t=>{zm().set({[ca]:e},t)})}function hS(e){return["REQUESTED","QUOTED","SIGNED","SUBMITTED","PENDING_CONFIRMATION","CONFIRMED","FAILED_REVERT","FAILED_TIMEOUT","FAILED_BRIDGE"].includes(String(e))}function gS(e){const t=e;if(!t)return null;const n=typeof t.id=="string"?t.id:"",r=typeof t.routeSource=="string"?t.routeSource:"",o=t.state;return!n||!hS(o)||r!=="blocked"&&r!=="kaspa_native"&&r!=="evm_0x"?null:{id:n,routeSource:r,state:o,createdAt:typeof t.createdAt=="number"&&Number.isFinite(t.createdAt)?t.createdAt:Date.now(),updatedAt:typeof t.updatedAt=="number"&&Number.isFinite(t.updatedAt)?t.updatedAt:Date.now(),txHash:typeof t.txHash=="string"?t.txHash:null,bridgeTransferId:typeof t.bridgeTransferId=="string"?t.bridgeTransferId:null,confirmations:typeof t.confirmations=="number"&&Number.isFinite(t.confirmations)?t.confirmations:0,error:typeof t.error=="string"?t.error:null}}function yS(e){if(!Array.isArray(e))return[];const t=[];for(const n of e){const r=gS(n);r&&t.push(r)}return t.sort((n,r)=>r.updatedAt-n.updatedAt),t.slice(0,bm)}async function mo(){const e=await pS();return yS(e)}async function ke(e){const t=await mo(),n=[e,...t.filter(r=>r.id!==e.id)].sort((r,o)=>o.updatedAt-r.updatedAt).slice(0,bm);await mS(n)}function Ou(e){return e.state==="SUBMITTED"||e.state==="PENDING_CONFIRMATION"}function Mm(e){return`${e}_${Date.now()}_${Math.random().toString(36).slice(2,8)}`}function Lu(){const e=ua();return e&&Om(e.chainId)?e:null}const vS=["mainnet","testnet-10","testnet-11","testnet-12"],SS=1e8;function xS(e){const t=Number(e)/SS;if(!Number.isFinite(t)||t<=0)throw new Error("KASPA_NATIVE_EXECUTION_INVALID_AMOUNT");return t}async function Du(){const e=await cu().catch(()=>"mainnet");return e==="mainnet"||e==="testnet-10"||e==="testnet-11"||e==="testnet-12"?e:"mainnet"}function Sr(e,t,n="FAILED_BRIDGE"){return He(e,n,{error:t})}async function ES(e){for(const t of vS){const n=await sm(e,t).catch(()=>null);if(n!=null&&n.acceptingBlockHash)return!0}return!1}function Fm(){return X.zeroExQuoteEndpoint?X.zeroExExpectedSettlerTo?{ok:!0,reason:null}:{ok:!1,reason:"0x settler target is not configured."}:{ok:!1,reason:"0x quote endpoint is not configured."}}function Um(){if(!X.enabled)return{enabled:!1,reason:"Swap functionality not yet active on Kaspa."};const e=un();if(!e)return{enabled:!1,reason:"Wallet is locked."};if(X.routeSource==="blocked")return{enabled:!1,reason:"Swap routes are currently disabled on Kaspa."};if(X.routeSource==="kaspa_native"){if(!X.dexEndpoint)return{enabled:!1,reason:"No DEX endpoint configured."};const o=Sd({routeSource:"kaspa_native",hasManagedKaspaSession:!!(e!=null&&e.mnemonic),hasExternalEvmSigner:!1});return o.ok?{enabled:!0,reason:null}:{enabled:!1,reason:o.reason}}const t=Fm();if(!t.ok)return{enabled:!1,reason:t.reason};const n=Lu(),r=Sd({routeSource:"evm_0x",hasManagedKaspaSession:!!(e!=null&&e.mnemonic),hasExternalEvmSigner:!!n});return r.ok?{enabled:!0,reason:null}:{enabled:!1,reason:r.reason}}function wS(e){const t=[],n=e.customTokenOut??null,r=!!n,o=r?"USDC":e.tokenOut;!r&&e.tokenIn===e.tokenOut&&t.push("Token in and token out must be different.");const i=Pm(e.tokenIn,o,X.routeSource);if(!i.allowed&&i.reason&&t.push(i.reason),dd(e.tokenIn)||t.push(`${e.tokenIn} is not currently available.`),!r&&!dd(e.tokenOut)&&t.push(`${e.tokenOut} is not currently available.`),r&&(String((n==null?void 0:n.address)??"").trim()||t.push("Custom token address is required."),(n==null?void 0:n.standard)!=="krc20"&&(n==null?void 0:n.standard)!=="krc721"&&t.push("Custom token standard must be KRC20 or KRC721.")),e.amountIn<=0n&&t.push("Amount must be greater than zero."),(e.slippageBps<0||e.slippageBps>X.maxSlippageBps)&&t.push(`Slippage must be between 0 and ${X.maxSlippageBps} bps (${X.maxSlippageBps/100}%).`),i.source==="evm_0x"){const s=Fm();!s.ok&&s.reason&&t.push(s.reason)}return i.source==="kaspa_native"?(X.dexEndpoint||t.push("Kaspa-native DEX endpoint is not configured."),e.tokenIn!=="KAS"&&t.push("Kaspa-native swap currently supports KAS as the input token.")):r&&t.push("Custom KRC token output requires kaspa-native swap route."),t}async function kS(e){var i,s,u,c,d,g,m;if(!Um().enabled)return null;const n=wS(e);if(n.length>0)throw new Error(`SWAP_VALIDATION: ${n.join("; ")}`);const r=e.customTokenOut?"USDC":e.tokenOut,o=Pm(e.tokenIn,r,X.routeSource);if(o.source==="kaspa_native"){const h=X.dexEndpoint;if(!h)throw new Error("KASPA_NATIVE_ROUTE_UNAVAILABLE: dex endpoint is not configured.");const v=un();if(!(v!=null&&v.mnemonic))throw new Error("KASPA_NATIVE_SIGNER_REQUIRED: unlock managed Kaspa wallet.");const k=await Du(),w=uo(v.address,k);return{...await aS(e,{endpoint:h,network:k,walletAddress:w}),customTokenOut:e.customTokenOut??null}}if(o.source==="evm_0x"){const h=Lu();if(!h)throw new Error("EVM_SIDECAR_REQUIRED: connect external EVM signer first.");const v=$v(e,h,{endpoint:X.zeroExQuoteEndpoint||"",apiKey:X.zeroExApiKey||void 0,expectedSettlerTo:X.zeroExExpectedSettlerTo,expectedAllowanceSpender:X.zeroExExpectedAllowanceSpender||void 0}),k=await Kv(v,X.evmChainIdAllowlist,h.chainId),w=BigInt(k.minBuyAmount||k.buyAmount||"0"),E=typeof((i=k.transaction)==null?void 0:i.to)=="string"?k.transaction.to:"",p=typeof((s=k.transaction)==null?void 0:s.data)=="string"?k.transaction.data:"";if(!E||!p)throw new Error("ZEROX_QUOTE_INVALID: missing transaction payload.");return{tokenIn:e.tokenIn,tokenOut:e.tokenOut,amountIn:e.amountIn,amountOut:w,priceImpact:0,fee:0n,route:((c=(u=k.route)==null?void 0:u.fills)==null?void 0:c.map(f=>String((f==null?void 0:f.source)||"0x")))||["0x"],validUntil:Date.now()+3e4,dexEndpoint:X.zeroExQuoteEndpoint||"https://api.0x.org",routeSource:"evm_0x",transaction:{to:E,data:p,value:typeof((d=k.transaction)==null?void 0:d.value)=="string"?k.transaction.value:"0x0"},allowanceSpender:(m=(g=k.issues)==null?void 0:g.allowance)==null?void 0:m.spender,rawQuote:k,customTokenOut:e.customTokenOut??null}}throw new Error(`SWAP_ROUTE_UNSUPPORTED: ${o.source}`)}async function AS(e){if(!e.txHash||e.routeSource!=="evm_0x"||!Ou(e))return e;if(e.createdAt+X.settlementTimeoutMs<=Date.now()){const u=He(e,"FAILED_TIMEOUT",{error:"Swap timed out waiting for confirmations."});return await ke(u),u}const t=await zv(e.txHash).catch(()=>null);if(!t)return e;if(Fv(t)==="revert"){const u=He(e,"FAILED_REVERT",{error:"EVM transaction reverted."});return await ke(u),u}const r=Uv(t),o=await Mv().catch(()=>null),i=r&&o&&o>=r?o-r+1:e.confirmations||1;if(i>=X.settlementRequiredConfirmations){const u=He(e,"CONFIRMED",{confirmations:i,error:null});return await ke(u),u}const s=He(e,"PENDING_CONFIRMATION",{confirmations:i});return await ke(s),s}async function Bm(e){if(!e.txHash||e.routeSource!=="kaspa_native"||!Ou(e))return e;if(e.createdAt+X.settlementTimeoutMs<=Date.now()){const s=He(e,"FAILED_TIMEOUT",{error:"Swap timed out waiting for confirmations."});return await ke(s),s}const t=e.bridgeTransferId||"";if(!t){const s=Sr(e,"KASPA_NATIVE_SETTLEMENT_MISSING_QUOTE_ID");return await ke(s),s}const n=X.dexEndpoint;if(!n)return e;let r;try{const s=await Du();r=await dS({endpoint:n,network:s,quoteId:t,depositTxId:e.txHash})}catch{return e}if(r.state==="failed"){const s=Sr(e,r.error||"KASPA_NATIVE_EXECUTION_FAILED");return await ke(s),s}const o=await ES(e.txHash);if(o&&r.state==="confirmed"){const s=He(e,"CONFIRMED",{confirmations:Math.max(1,r.confirmations||1),error:null});return await ke(s),s}const i=He(e,"PENDING_CONFIRMATION",{confirmations:o?1:0});return await ke(i),i}async function $m(e){return e.routeSource==="evm_0x"?AS(e):e.routeSource==="kaspa_native"?Bm(e):e}async function wd(){const t=(await mo()).filter(r=>Ou(r)&&(r.routeSource==="evm_0x"||r.routeSource==="kaspa_native")),n=[];for(const r of t)n.push(await $m(r));return n}async function TS(){return Dv()}async function _S(e){if(!e.transaction)throw new Error("SWAP_EXECUTION_UNSUPPORTED: missing EVM transaction payload.");const t=Lu();if(!t)throw new Error("EVM_SIDECAR_REQUIRED: connect external EVM signer first.");if(!jv(e.transaction.to,X.zeroExExpectedSettlerTo))throw new Error("ZEROX_SETTLER_MISMATCH: refusing to execute unexpected transaction target.");const n=Mm("swap");let r=Dm(n,"evm_0x");r=He(r,"QUOTED"),await ke(r),r=He(r,"SIGNED"),await ke(r);let o="";try{o=await bv({from:t.address,to:e.transaction.to,data:e.transaction.data,value:e.transaction.value||"0x0"})}catch(u){const c=He(r,"FAILED_BRIDGE",{error:u instanceof Error?u.message:String(u)});return await ke(c),c}r=He(r,"SUBMITTED",{txHash:o,confirmations:0,error:null}),await ke(r);const i=Date.now()+X.settlementTimeoutMs;for(;Date.now()<i;){if(r=await $m(r),r.state==="CONFIRMED"||r.state==="FAILED_REVERT"||r.state==="FAILED_BRIDGE")return r;await new Promise(c=>setTimeout(c,X.settlementPollIntervalMs))}const s=He(r,"FAILED_TIMEOUT",{error:"Swap timed out waiting for confirmations."});return await ke(s),s}async function IS(e){if(e.routeSource!=="kaspa_native")throw new Error("KASPA_NATIVE_ROUTE_REQUIRED");if(e.tokenIn!=="KAS")throw new Error("KASPA_NATIVE_INPUT_UNSUPPORTED: only KAS input is supported.");if(Date.now()>e.validUntil)throw new Error("KASPA_NATIVE_QUOTE_EXPIRED");const t=X.dexEndpoint;if(!t)throw new Error("KASPA_NATIVE_ENDPOINT_MISSING");const n=un();if(!(n!=null&&n.mnemonic))throw new Error("KASPA_NATIVE_SIGNER_REQUIRED: unlock managed Kaspa wallet.");const r=await Du(),o=uo(n.address,r),i=lS(e),s=xS(e.amountIn),u=Mm("swap");let c=Dm(u,"kaspa_native");c=He(c,"QUOTED"),await ke(c),c=He(c,"SIGNED"),await ke(c);let d="";try{let h=await wm(o,i.settlementAddress,s,r);await Em(h);const v=await km(h);if(!v.valid){const E=v.errors.join("; ");await mt({...h,state:"DRY_RUN_FAIL",error:E});const p=Sr(c,`KASPA_NATIVE_DRY_RUN_FAILED: ${E}`);return await ke(p),p}h={...h,state:"DRY_RUN_OK",fee:v.estimatedFee},await mt(h);const k=await Am(h);await mt(k);const w=await Tm(k);await mt(w),d=w.txId||k.txId||""}catch(h){const v=Sr(c,h instanceof Error?h.message:String(h));return await ke(v),v}if(!d){const h=Sr(c,"KASPA_NATIVE_EXECUTION_NO_TXID");return await ke(h),h}c=He(c,"SUBMITTED",{txHash:d,bridgeTransferId:i.quoteId,confirmations:0,error:null}),await ke(c);try{await uS({endpoint:t,network:r,quoteId:i.quoteId,depositTxId:d,walletAddress:o,amountIn:e.amountIn})}catch{}const g=Date.now()+X.settlementTimeoutMs;for(;Date.now()<g;){if(c=await Bm(c),c.state==="CONFIRMED"||c.state==="FAILED_REVERT"||c.state==="FAILED_BRIDGE"||c.state==="FAILED_TIMEOUT")return c;await new Promise(h=>setTimeout(h,X.settlementPollIntervalMs))}const m=Sr(c,"Swap timed out waiting for confirmations.","FAILED_TIMEOUT");return await ke(m),m}async function CS(e){if(e.routeSource==="kaspa_native")return IS(e);if(e.routeSource==="evm_0x")return _S(e);throw new Error(`SWAP_EXECUTION_UNSUPPORTED: ${e.routeSource||"unknown route"}`)}var Dd;const rn=((Dd=import.meta)==null?void 0:Dd.env)??{},NS=3500,PS=2e4,jS=512,Vt=new Map,kd=100,RS=0,OS=200,LS=12,DS=35,bS=55,zS=8,MS=2,FS=12e4,US=1500,BS=3e4,Ad=new Map;function al(e){const t=String((rn==null?void 0:rn[e])??"").trim();if(!t)return[];const n=t.split(/[,\s]+/).map(r=>r.trim().replace(/\/+$/,"")).filter(Boolean);return[...new Set(n)]}function Uo(e,t){const n=String((rn==null?void 0:rn[e])??"").trim();if(!n)return t;const r=Number(n);return Number.isFinite(r)?Math.max(0,Math.floor(r)):t}function Bo(e,t){const n=String((rn==null?void 0:rn[e])??"").trim();if(!n)return t;const r=Number(n);return Number.isFinite(r)?Math.max(0,r):t}function $S(){return Uo("VITE_SWAP_KRC_TOKEN_METADATA_CACHE_TTL_MS",PS)}function KS(){return Math.max(1,Uo("VITE_SWAP_KRC_TOKEN_METADATA_CACHE_MAX_ENTRIES",jS))}function WS(){return Bo("VITE_SWAP_KRC_TOKEN_METADATA_ENDPOINT_SUCCESS_REWARD",LS)}function VS(){return Bo("VITE_SWAP_KRC_TOKEN_METADATA_ENDPOINT_FAILURE_PENALTY",DS)}function HS(){return Bo("VITE_SWAP_KRC_TOKEN_METADATA_ENDPOINT_TIMEOUT_PENALTY",bS)}function GS(){return Bo("VITE_SWAP_KRC_TOKEN_METADATA_ENDPOINT_MISS_PENALTY",zS)}function XS(){return Bo("VITE_SWAP_KRC_TOKEN_METADATA_ENDPOINT_LATENCY_PENALTY_PER_100MS",MS)}function QS(){return Uo("VITE_SWAP_KRC_TOKEN_METADATA_ENDPOINT_DECAY_TAU_MS",FS)}function YS(){return Uo("VITE_SWAP_KRC_TOKEN_METADATA_ENDPOINT_BACKOFF_BASE_MS",US)}function ZS(){return Uo("VITE_SWAP_KRC_TOKEN_METADATA_ENDPOINT_BACKOFF_MAX_MS",BS)}function JS(e){return e==="testnet-10"?"TN10":e==="testnet-11"?"TN11":e==="testnet-12"?"TN12":"MAINNET"}function qS(e){const t=JS(e),n=al("VITE_SWAP_KRC_TOKEN_METADATA_ENDPOINTS"),r=al(`VITE_KASPA_KASPLEX_${t}_API_ENDPOINTS`),o=al("VITE_KASPA_KASPLEX_API_ENDPOINTS");return[...new Set([...n,...r,...o])]}function ex(e,t={},n=NS){const r=new AbortController,o=setTimeout(()=>r.abort(),n);return fetch(e,{...t,signal:r.signal}).finally(()=>clearTimeout(o))}function da(e){return e&&typeof e=="object"&&!Array.isArray(e)?e:null}function tx(e){const t=["token","data","result","item","collection","metadata"];for(const n of t){const r=da(e[n]);if(r)return r}return null}function ir(e,t){for(const n of t){const r=e[n];if(typeof r=="string"&&r.trim())return r.trim()}return""}function nx(e,t){for(const n of t){const r=e[n],o=typeof r=="number"?r:Number(r);if(Number.isFinite(o))return o}return null}function qi(e){return String(e||"").trim().toLowerCase()}function rx(e,t,n){return`${n}|${t}|${qi(e)}`}function es(e){return{...e}}function ox(e){const t=Vt.get(e);return t?t.expiresAt<=Date.now()?(Vt.delete(e),null):(Vt.delete(e),Vt.set(e,t),es(t.token)):null}function Td(e,t){const n=$S();if(n<=0)return;Vt.has(e)&&Vt.delete(e),Vt.set(e,{token:es(t),expiresAt:Date.now()+n});const r=KS();for(;Vt.size>r;){const o=Vt.keys().next().value;if(typeof o!="string")break;Vt.delete(o)}}function ki(e){return Math.max(RS,Math.min(OS,e))}function Km(e,t=Date.now()){let n=Ad.get(e);if(!n)return n={score:kd,consecutiveFailures:0,backoffUntil:0,lastUpdatedAt:t},Ad.set(e,n),n;const r=Math.max(0,t-n.lastUpdatedAt),o=QS();if(o>0&&r>0){const i=1-Math.exp(-r/o);n.score=ki(n.score+(kd-n.score)*i)}return n.lastUpdatedAt=t,n}function ix(e){const t=XS();return t<=0?0:Math.max(0,e)/100*t}function sx(e,t,n,r=Date.now()){const o=Km(e,r),i=ix(n);if(t==="success"){o.consecutiveFailures=0,o.backoffUntil=0,o.score=ki(o.score+WS()-i);return}if(t==="miss"){o.score=ki(o.score-GS()-i*.5),o.consecutiveFailures=Math.max(0,o.consecutiveFailures-1);return}const s=t==="timeout"?HS():VS();o.consecutiveFailures+=1,o.score=ki(o.score-s-i);const u=YS(),c=ZS(),d=Math.min(c,u*Math.pow(2,Math.max(0,o.consecutiveFailures-1)));o.backoffUntil=r+d}function lx(e,t=Date.now()){const n=[],r=[];for(const o of e){const i=Km(o,t);i.backoffUntil>t?r.push({endpoint:o,score:i.score,backoffUntil:i.backoffUntil}):n.push({endpoint:o,score:i.score})}return n.sort((o,i)=>i.score-o.score),n.length>0?n.map(o=>o.endpoint):(r.sort((o,i)=>o.backoffUntil-i.backoffUntil||i.score-o.score),r.length>0?[r[0].endpoint]:[])}function ax(e,t){const n=t==="krc721"?0:8;return Number.isFinite(e)?Math.max(0,Math.min(18,Math.floor(e))):n}function ux(e){let t=2166136261;for(let n=0;n<e.length;n+=1)t^=e.charCodeAt(n),t=Math.imul(t,16777619);return t>>>0}function _d(e,t=64,n=52){return`hsl(${e%360} ${t}% ${n}%)`}function Wm(e,t){const n=qi(e),r=ux(`${t}:${n}`),o=_d(r),i=_d(r>>3),s=t==="krc721"?"721":"20",u=n.slice(0,6).toUpperCase(),c=`<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 120 120'><defs><linearGradient id='g' x1='0' y1='0' x2='1' y2='1'><stop offset='0%' stop-color='${o}'/><stop offset='100%' stop-color='${i}'/></linearGradient></defs><rect width='120' height='120' rx='24' fill='url(#g)'/><text x='60' y='56' text-anchor='middle' font-family='IBM Plex Mono, monospace' font-size='18' fill='white'>${s}</text><text x='60' y='78' text-anchor='middle' font-family='IBM Plex Mono, monospace' font-size='10' fill='white'>${u}</text></svg>`;return`data:image/svg+xml;utf8,${encodeURIComponent(c)}`}function cx(e,t){const n=String(e??"").trim().toLowerCase();return n.includes("721")?"krc721":n.includes("20")?"krc20":n==="nft"?"krc721":n==="ft"?"krc20":t}function dx(e,t,n){const o=ir(e,["address","tokenAddress","contractAddress","contract","id","assetId"])||t,i=cx(ir(e,["standard","type","tokenType","protocol"]),n),s=ir(e,["symbol","ticker","tick","tokenSymbol"])||o.slice(0,6).toUpperCase(),u=ir(e,["name","collectionName","tokenName","title"])||s,c=nx(e,["decimals","decimal","precision"]),d=ax(c??(i==="krc721"?0:8),i),g=ir(e,["logo","logoUrl","image","imageUrl","icon","iconUrl"])||Wm(o,i);return{address:o,standard:i,symbol:s,name:u,decimals:d,logoUri:g}}function fx(e){const t=[],n=da(e);if(!n)return t;t.push(n);const r=tx(n);r&&t.push(r);for(const o of["tokens","items","results","data"]){const i=n[o];if(Array.isArray(i))for(const s of i){const u=da(s);u&&t.push(u)}}return t}function px(e,t){const n=qi(t);if(!n)return e[0]??null;for(const r of e){const o=qi(ir(r,["address","tokenAddress","contractAddress","contract","id","assetId"]));if(o&&o===n)return r}return e[0]??null}function mx(e,t){const n=encodeURIComponent(e);return t==="krc721"?[`/krc721/tokens/${n}`,`/krc721/collections/${n}`,`/krc721/${n}`,`/tokens/${n}`,`/token/${n}`,`/v1/krc721/${n}`]:[`/krc20/tokens/${n}`,`/krc20/token/${n}`,`/krc20/${n}`,`/tokens/${n}`,`/token/${n}`,`/v1/krc20/${n}`]}async function hx(e,t,n){const r=Date.now(),o=e.replace(/\/+$/,""),i=mx(t,n);let s=!1,u=!1;for(const c of i)try{const d=await ex(`${o}${c}`,{method:"GET"});if(!d.ok){(d.status>=500||d.status===429)&&(s=!0);continue}const g=await d.json().catch(()=>null);if(!g){s=!0;continue}const m=fx(g);if(m.length===0)continue;const h=px(m,t);if(!h)continue;return{token:dx(h,t,n),outcome:"success",elapsedMs:Math.max(0,Date.now()-r)}}catch(d){d instanceof Error&&d.name==="AbortError"?u=!0:s=!0}return{token:null,outcome:u?"timeout":s?"failure":"miss",elapsedMs:Math.max(0,Date.now()-r)}}async function gx(e,t,n){const r=String(e||"").trim();if(!r)throw new Error("Token address is required.");const o=rx(r,t,n),i=ox(o);if(i)return i;const s=lx(qS(n));for(const c of s){const d=await hx(c,r,t);if(sx(c,d.outcome,d.elapsedMs),d.token)return Td(o,d.token),es(d.token)}const u={address:r,standard:t,symbol:r.slice(0,6).toUpperCase(),name:t==="krc721"?"KRC721 Token":"KRC20 Token",decimals:t==="krc721"?0:8,logoUri:Wm(r,t)};return Td(o,u),es(u)}function yx(e,t){const n=String(e||"").trim();if(!n||!/^\d+(\.\d+)?$/.test(n))return null;const[r,o=""]=n.split("."),i=r.replace(/^0+(?=\d)/,"")||"0",s=o.slice(0,t).padEnd(t,"0"),u=`${i}${s}`.replace(/^0+(?=\d)/,"")||"0";try{return BigInt(u)}catch{return null}}function vx(){const[e,t]=x.useState(()=>ua()),[n,r]=x.useState(null),[o,i]=x.useState([]),[s,u]=x.useState(null),[c,d]=x.useState(!1),[g,m]=x.useState(!1),[h,v]=x.useState(!1),[k,w]=x.useState(!1),[E,p]=x.useState(!1),f=Um(),y=Pv(),S=aa(),[I,C]=x.useState("KAS"),[j,N]=x.useState("USDC"),[W,$]=x.useState(""),[H,ve]=x.useState(X.defaultSlippageBps),[de,Te]=x.useState(""),[Oe,_e]=x.useState("krc20"),[q,P]=x.useState(null),[M,U]=x.useState(!1),[G,K]=x.useState(null),[ne,re]=x.useState(!1),[Z,Ie]=x.useState(!1),R=!f.enabled,ae=X.routeSource==="evm_0x";x.useEffect(()=>{t(ua()),wd().catch(()=>{}),mo().then(i).catch(()=>{})},[]),x.useEffect(()=>{const _=setInterval(()=>{wd().then(()=>mo().then(Y=>i(Y.slice(0,4)))).catch(()=>{})},X.settlementPollIntervalMs);return()=>clearInterval(_)},[]);const Le=async()=>{const _=await mo();i(_.slice(0,4))},se=async()=>{u(null);const _=S.find(z=>z.id===I),Y=yx(W,(_==null?void 0:_.decimals)??8);if(!Y||Y<=0n){u("Enter a valid amount.");return}m(!0);try{const z=await kS({tokenIn:I,tokenOut:j,amountIn:Y,slippageBps:H,customTokenOut:q});if(!z){u(f.reason??"Swap is currently unavailable.");return}r(z)}catch(z){u(z instanceof Error?z.message:String(z))}finally{m(!1)}},xt=async()=>{K(null),u(null);const _=de.trim();if(!_){K("Paste a token address first.");return}U(!0);try{const Y=await cu().catch(()=>"mainnet"),z=await gx(_,Oe,Y);P(z)}catch(Y){P(null),K(Y instanceof Error?Y.message:String(Y))}finally{U(!1)}},Yt=()=>{P(null),K(null),Ie(!1)},at=async()=>{var _;if(K(null),u(null),!((_=navigator==null?void 0:navigator.clipboard)!=null&&_.readText)){K("Clipboard read is unavailable in this browser.");return}re(!0);try{const z=(await navigator.clipboard.readText()).trim();if(!z){K("Clipboard is empty.");return}Te(z)}catch(Y){K(Y instanceof Error?Y.message:"Failed to read clipboard.")}finally{re(!1)}},ut=async()=>{var _;if(q!=null&&q.address&&(_=navigator==null?void 0:navigator.clipboard)!=null&&_.writeText)try{await navigator.clipboard.writeText(q.address),Ie(!0),setTimeout(()=>Ie(!1),1400)}catch{}},Ce=async()=>{u(null),d(!0);try{const _=await TS();t(_),w(!1)}catch(_){u(_ instanceof Error?_.message:String(_))}finally{d(!1)}},Et=()=>{Lv(),t(null)},wt=async()=>{if(n){u(null),v(!0);try{await CS(n),p(!1),await Le()}catch(_){u(_ instanceof Error?_.message:String(_))}finally{v(!1)}}},kt=_=>({width:"100%",boxSizing:"border-box",background:_?"rgba(8,13,20,0.4)":"rgba(8,13,20,0.7)",border:`1px solid ${a.border}`,borderRadius:8,padding:"10px 12px",color:_?a.dim:a.text,fontSize:11,cursor:_?"not-allowed":"text",...b,outline:"none"}),Ot=_=>({...kt(_),cursor:_?"not-allowed":"pointer",appearance:"none"});return l.jsxs("div",{style:Bn,children:[R&&l.jsxs("div",{style:{...je("purple"),display:"flex",alignItems:"flex-start",gap:10},children:[l.jsx("span",{style:{fontSize:18,flexShrink:0},children:""}),l.jsxs("div",{children:[l.jsx("div",{style:{fontSize:9,color:a.purple,fontWeight:700,letterSpacing:"0.1em",marginBottom:4},children:"SWAP UNAVAILABLE"}),l.jsx("div",{style:{fontSize:8,color:a.dim,lineHeight:1.5},children:f.reason??"Swap functionality not yet active on Kaspa."}),l.jsxs("div",{style:{fontSize:8,color:a.muted,lineHeight:1.4,marginTop:6},children:["Route source: ",y.label]})]})]}),ae&&l.jsxs("div",{style:je("default",!0),children:[l.jsx("div",{style:{...We,marginBottom:6},children:"EVM SIDECAR SIGNER"}),e?l.jsxs(l.Fragment,{children:[l.jsxs("div",{style:{fontSize:8,color:a.text,marginBottom:6},children:["Connected: ",e.address.slice(0,8),"",e.address.slice(-6)," (chain ",e.chainId,")"]}),l.jsx("button",{onClick:Et,style:{...te(a.warn),width:"100%",padding:"8px 0"},children:"DISCONNECT EVM SIGNER"})]}):l.jsxs(l.Fragment,{children:[l.jsx("div",{style:{fontSize:8,color:a.dim,lineHeight:1.5,marginBottom:7},children:"Required for `0x` route. Kaspa managed signer remains isolated."}),k?l.jsxs("div",{style:{...we(),padding:"8px 10px"},children:[l.jsx("div",{style:{fontSize:8,color:a.dim,lineHeight:1.5,marginBottom:6},children:"You are connecting an EVM signer domain. Forge-OS Kaspa wallet keys are not shared with this signer."}),l.jsxs("div",{style:{display:"flex",gap:6},children:[l.jsx("button",{onClick:Ce,style:{...$n(!0),flex:1,padding:"7px 0"},disabled:c,children:c?"CONNECTING":"I AGREE, CONNECT"}),l.jsx("button",{onClick:()=>w(!1),style:{...te(a.dim),flex:1,padding:"7px 0"},disabled:c,children:"CANCEL"})]})]}):l.jsx("button",{onClick:()=>w(!0),style:{...te(a.accent),width:"100%",padding:"8px 0"},disabled:c,children:"CONNECT METAMASK SIDECAR"})]})]}),l.jsxs("div",{style:je("default"),children:[l.jsx("div",{style:{...We,marginBottom:6},children:"YOU PAY"}),l.jsxs("div",{style:{display:"flex",gap:8},children:[l.jsx("select",{value:I,onChange:_=>C(_.target.value),disabled:R,style:{...Ot(R),flex:"0 0 100px"},children:S.filter(_=>_.enabled).map(_=>l.jsx("option",{value:_.id,children:_.symbol},_.id))}),l.jsx("input",{type:"number",min:"0",value:W,onChange:_=>$(_.target.value),placeholder:R?"":"0.00",disabled:R,style:{...kt(R),flex:1}})]})]}),l.jsx("div",{style:{textAlign:"center"},children:l.jsx("button",{disabled:R,onClick:()=>{C(j),N(I)},style:{background:"linear-gradient(180deg, rgba(16,25,35,0.7), rgba(8,13,20,0.7))",border:`1px solid ${a.border}`,borderRadius:"50%",width:28,height:28,color:R?a.muted:a.accent,fontSize:14,cursor:R?"not-allowed":"pointer",display:"inline-flex",alignItems:"center",justifyContent:"center",boxShadow:"0 8px 16px rgba(0,0,0,0.16)"},children:""})}),l.jsxs("div",{style:je("default"),children:[l.jsx("div",{style:{...We,marginBottom:6},children:"YOU RECEIVE (ESTIMATED)"}),l.jsxs("div",{style:{display:"flex",gap:8},children:[l.jsx("select",{value:j,onChange:_=>N(_.target.value),disabled:R,style:{...Ot(R),flex:"0 0 100px"},children:aa().map(_=>l.jsxs("option",{value:_.id,disabled:!_.enabled,children:[_.symbol,_.enabled?"":" (soon)"]},_.id))}),l.jsx("div",{style:{...kt(!0),flex:1,display:"flex",alignItems:"center",color:a.muted,fontSize:11},children:""})]}),l.jsxs("div",{style:{...we(),marginTop:8,padding:"8px 10px"},children:[l.jsx("div",{style:{fontSize:8,color:a.dim,letterSpacing:"0.08em",marginBottom:6},children:"PASTE KRC TOKEN ADDRESS (KRC20 / KRC721)"}),l.jsx("div",{style:{display:"flex",gap:6,marginBottom:6},children:["krc20","krc721"].map(_=>{const Y=Oe===_;return l.jsx("button",{onClick:()=>_e(_),disabled:R,style:{...te(Y?a.accent:a.dim),flex:1,padding:"5px 0",fontSize:8,background:Y?`${a.accent}20`:"rgba(16,25,35,0.45)",borderColor:Y?`${a.accent}55`:a.border,color:Y?a.accent:a.dim},children:_.toUpperCase()},_)})}),l.jsxs("div",{style:{display:"flex",gap:6},children:[l.jsx("input",{value:de,onChange:_=>Te(_.target.value),placeholder:"Paste token address",disabled:R,style:{...kt(R),flex:1,padding:"8px 10px",fontSize:9}}),l.jsx("button",{onClick:at,disabled:R||ne,style:{...te(a.dim),padding:"0 10px",fontSize:8},children:ne?"...":"PASTE"}),l.jsx("button",{onClick:xt,disabled:R||M,style:{...te(a.accent),padding:"0 10px",fontSize:8},children:M?"...":"RESOLVE"})]}),G&&l.jsx("div",{style:{fontSize:8,color:a.danger,marginTop:6},children:G}),q&&l.jsx("div",{style:{...we(),marginTop:8,padding:"8px 9px"},children:l.jsxs("div",{style:{display:"flex",alignItems:"center",justifyContent:"space-between",gap:8},children:[l.jsxs("div",{style:{display:"flex",alignItems:"center",gap:8,minWidth:0},children:[l.jsx("img",{src:q.logoUri,alt:q.symbol,style:{width:26,height:26,borderRadius:6,objectFit:"cover",flexShrink:0}}),l.jsxs("div",{style:{minWidth:0},children:[l.jsxs("div",{style:{fontSize:9,color:a.text,fontWeight:700,letterSpacing:"0.06em"},children:[q.symbol,"  ",q.standard.toUpperCase()]}),l.jsx("div",{style:{fontSize:8,color:a.dim,whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis"},children:q.address})]})]}),l.jsx("button",{onClick:ut,style:{...te(Z?a.ok:a.dim),padding:"4px 7px",fontSize:8},children:Z?"COPIED":"COPY"}),l.jsx("button",{onClick:Yt,style:{...te(a.dim),padding:"4px 7px",fontSize:8},children:"CLEAR"})]})})]})]}),l.jsxs("div",{style:je("default",!0),children:[l.jsxs("div",{style:{display:"flex",alignItems:"center",justifyContent:"space-between",marginBottom:8},children:[l.jsx("div",{style:We,children:"SLIPPAGE TOLERANCE"}),l.jsxs("div",{style:{fontSize:8,color:R?a.muted:a.text,fontWeight:700},children:[(H/100).toFixed(1),"%"]})]}),l.jsx("div",{style:{display:"flex",gap:6},children:[25,50,100].map(_=>l.jsxs("button",{onClick:()=>ve(_),disabled:R,style:{...te(H===_&&!R?a.accent:a.dim),flex:1,padding:"5px 0",borderRadius:6,background:H===_&&!R?`${a.accent}20`:"rgba(33,48,67,0.4)",border:`1px solid ${H===_&&!R?a.accent:a.border}`,color:H===_&&!R?a.accent:a.dim,fontSize:8,fontWeight:700,cursor:R?"not-allowed":"pointer"},children:[(_/100).toFixed(1),"%"]},_))})]}),R?l.jsx("div",{style:{textAlign:"center"},children:l.jsx("div",{style:{fontSize:8,color:a.muted,letterSpacing:"0.08em"},children:"SWAP COMING SOON"})}):l.jsxs(l.Fragment,{children:[l.jsx("button",{onClick:se,style:{...$n(!0),width:"100%",padding:"11px 0",fontSize:10,letterSpacing:"0.1em"},disabled:g,children:g?"REQUESTING QUOTE":"GET QUOTE "}),n&&l.jsxs("div",{style:je("default",!0),children:[l.jsx("div",{style:{...We,marginBottom:6},children:"QUOTE PREVIEW"}),n.customTokenOut&&l.jsxs("div",{style:{fontSize:8,color:a.text,marginBottom:6},children:["Output token: ",n.customTokenOut.symbol," (",n.customTokenOut.standard.toUpperCase(),")  ",n.customTokenOut.address]}),l.jsxs("div",{style:{fontSize:8,color:a.text,marginBottom:6},children:["Route: ",n.route.join(" -> ")," | Valid ~30s"]}),l.jsxs("div",{style:{fontSize:8,color:a.text,marginBottom:8},children:["Min output units: ",n.amountOut.toString()]}),E?l.jsxs("div",{style:{...we(),padding:"8px 10px"},children:[l.jsx("div",{style:{fontSize:8,color:a.dim,lineHeight:1.5,marginBottom:6},children:"Confirm execution in the external EVM signer. Settlement is persisted and recovered after restart."}),l.jsxs("div",{style:{display:"flex",gap:6},children:[l.jsx("button",{onClick:wt,style:{...$n(!0),flex:1,padding:"7px 0"},disabled:h,children:h?"EXECUTING":"CONFIRM EXECUTION"}),l.jsx("button",{onClick:()=>p(!1),style:{...te(a.dim),flex:1,padding:"7px 0"},disabled:h,children:"CANCEL"})]})]}):l.jsx("button",{onClick:()=>p(!0),style:{...$n(!0),width:"100%",padding:"8px 0"},disabled:h,children:"SIGN & EXECUTE SWAP"})]})]}),s&&l.jsx("div",{style:{...we(),border:`1px solid ${a.danger}60`,color:a.danger,fontSize:8},children:s}),o.length>0&&l.jsxs("div",{style:{...we(),padding:"9px 12px"},children:[l.jsx("div",{style:{...We,marginBottom:6},children:"SWAP SETTLEMENTS"}),o.map((_,Y)=>l.jsxs("div",{style:{marginBottom:Y<o.length-1?4:0,fontSize:8,color:a.dim},children:[l.jsx("span",{style:{color:a.text},children:_.state}),"  ",_.txHash?`${_.txHash.slice(0,10)}`:"tx pending","  ",new Date(_.updatedAt).toLocaleTimeString()]},_.id))]}),l.jsxs("div",{style:{...we(),padding:"9px 12px"},children:[l.jsx("div",{style:{...We,marginBottom:5},children:"SWAP NOTES"}),[`Route source: ${y.label}.`,y.requiresEvmSigner?"This route requires a dedicated EVM signer (Kaspa signer is isolated).":"Signing domain remains inside Kaspa managed wallet boundaries.","Use PASTE or manual input for KRC20/KRC721 token address, then RESOLVE for live metadata + token image.","Output preview required before any signature.",`Max slippage cap: ${X.maxSlippageBps/100}%.`,"No silent token redirection  destination enforced.","Swap routes verified against active network only."].map((_,Y)=>l.jsxs("div",{style:{display:"flex",gap:6,marginBottom:Y<6?3:0},children:[l.jsx("span",{style:{color:R?a.muted:a.ok,fontSize:8,flexShrink:0},children:""}),l.jsx("span",{style:{fontSize:8,color:a.muted,lineHeight:1.4},children:_})]},Y))]})]})}const Dr=1,ts=440,ns=720,Vm=420,Hm=620;function Sx({autoLockMinutes:e,persistSession:t,onUnlock:n,onReset:r,walletAddress:o}){const[i,s]=x.useState(""),[u,c]=x.useState(null),[d,g]=x.useState(!1),[m,h]=x.useState(!1),v=x.useRef(null);x.useEffect(()=>{var w;(w=v.current)==null||w.focus()},[]);const k=async w=>{var E;if(w.preventDefault(),!(!i||d)){g(!0),c(null);try{const p=await Zn(i,e,{persistSession:t});n(p)}catch(p){const f=p instanceof Error?p.message:String(p);c(f==="INVALID_PASSWORD"?"Incorrect password.":"Failed to unlock. Try again."),s(""),(E=v.current)==null||E.focus()}finally{g(!1)}}};return l.jsxs("div",{style:{width:ts,minHeight:ns,...Lr(),display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"flex-start",padding:"28px 30px 24px",...b,position:"relative",overflow:"hidden",overflowX:"hidden",overflowY:"auto",zoom:Dr},children:[l.jsx("div",{style:{position:"absolute",top:"-12%",left:"50%",transform:"translateX(-50%)",width:360,height:360,borderRadius:"50%",background:`radial-gradient(ellipse, ${a.accent}18 0%, transparent 70%)`,pointerEvents:"none"}}),l.jsx("div",{style:{position:"absolute",bottom:"-10%",right:"-32%",width:260,height:260,borderRadius:"50%",background:`radial-gradient(ellipse, ${a.accent}0A 0%, transparent 72%)`,pointerEvents:"none"}}),l.jsxs("div",{style:{position:"relative",zIndex:1,width:"100%",display:"flex",flexDirection:"column",alignItems:"center",marginTop:4},children:[l.jsxs("div",{style:{marginBottom:o?14:22,textAlign:"center"},children:[l.jsx("img",{src:"../icons/icon128.png",alt:"Forge-OS",style:{width:58,height:58,objectFit:"contain",imageRendering:"auto",filter:"drop-shadow(0 0 8px rgba(57,221,182,0.52))",marginBottom:12}}),l.jsxs("div",{style:{fontSize:17,fontWeight:700,letterSpacing:"0.12em"},children:[l.jsx("span",{style:{color:a.accent},children:"FORGE"}),l.jsx("span",{style:{color:a.text},children:"-OS"})]}),l.jsx("div",{style:{fontSize:10,color:a.dim,marginTop:5,letterSpacing:"0.12em"},children:o?"WELCOME BACK":"WALLET LOCKED"})]}),o&&l.jsxs("div",{style:{display:"flex",alignItems:"center",gap:6,marginBottom:16,background:`${a.accent}0A`,border:`1px solid ${a.accent}25`,borderRadius:20,padding:"6px 14px"},children:[l.jsx("div",{style:{width:7,height:7,borderRadius:"50%",background:a.ok,flexShrink:0}}),l.jsx("span",{style:{fontSize:11,color:a.text,fontWeight:600},children:Fo(o)})]}),l.jsx("div",{style:{width:48,height:48,borderRadius:"50%",background:`${a.accent}15`,border:`1px solid ${a.accent}30`,display:"flex",alignItems:"center",justifyContent:"center",marginBottom:18},children:l.jsx("span",{style:{fontSize:22},children:""})}),l.jsxs("form",{onSubmit:k,style:{width:"100%"},children:[l.jsxs("div",{style:{marginBottom:12},children:[l.jsx("div",{style:{fontSize:8,color:a.dim,letterSpacing:"0.1em",marginBottom:6},children:o?"ENTER PASSWORD TO SIGN IN":"PASSWORD"}),l.jsx("input",{ref:v,type:"password",value:i,onChange:w=>s(w.target.value),placeholder:"Enter your password",disabled:d,style:{width:"100%",boxSizing:"border-box",background:"rgba(8,13,20,0.7)",border:`1px solid ${u?a.danger:a.border}`,borderRadius:8,padding:"10px 12px",color:a.text,fontSize:11,...b,outline:"none"}})]}),u&&l.jsx("div",{style:{fontSize:8,color:a.danger,marginBottom:10,textAlign:"center"},children:u}),l.jsx("button",{type:"submit",disabled:!i||d,style:{width:"100%",padding:"10px 0",background:i&&!d?`linear-gradient(90deg, ${a.accent}, #7BE9CF)`:`${a.accent}30`,border:"none",borderRadius:8,color:i&&!d?"#04110E":a.dim,fontSize:10,fontWeight:700,cursor:i&&!d?"pointer":"not-allowed",letterSpacing:"0.1em",...b,transition:"background 0.15s, color 0.15s"},children:d?"UNLOCKING":"UNLOCK WALLET"})]}),l.jsx("div",{style:{marginTop:20,textAlign:"center"},children:m?l.jsxs("div",{style:{background:a.dLow,border:`1px solid ${a.danger}40`,borderRadius:8,padding:"12px 14px",marginTop:4},children:[l.jsx("div",{style:{fontSize:9,color:a.warn,fontWeight:700,marginBottom:6,letterSpacing:"0.08em"},children:" RESET WALLET"}),l.jsx("div",{style:{fontSize:8,color:a.dim,lineHeight:1.5,marginBottom:10},children:"This will permanently delete your encrypted vault. Make sure you have your seed phrase backed up before proceeding."}),l.jsxs("div",{style:{display:"flex",gap:8},children:[l.jsx("button",{onClick:()=>h(!1),style:{flex:1,padding:"7px 0",background:"rgba(33,48,67,0.5)",border:`1px solid ${a.border}`,borderRadius:6,color:a.dim,fontSize:8,cursor:"pointer",...b},children:"CANCEL"}),l.jsx("button",{onClick:r,style:{flex:1,padding:"7px 0",background:a.dLow,border:`1px solid ${a.danger}60`,borderRadius:6,color:a.danger,fontSize:8,fontWeight:700,cursor:"pointer",...b},children:"RESET WALLET"})]})]}):l.jsx("button",{onClick:()=>h(!0),style:{background:"none",border:"none",color:a.dim,fontSize:8,cursor:"pointer",...b},children:"Forgot password?"})})]})]})}const Gm="forgeos.import.addressbook.v1",Id="forgeos.import.addressbook.salt.v1",xx=32,Ex=240;function Xm(){return chrome.storage.local}function wx(e){return String(e||"").trim().toLowerCase().split(/\s+/).join(" ")}function kx(e){return String(e||"").trim()}function fa(e){return Array.from(e,t=>t.toString(16).padStart(2,"0")).join("")}function Ax(e){const t=e.trim();if(!t||t.length%2!==0)return new Uint8Array;const n=new Uint8Array(t.length/2);for(let r=0;r<t.length;r+=2)n[r/2]=parseInt(t.slice(r,r+2),16);return n}async function Qm(e){return new Promise(t=>{Xm().get(e,n=>t((n==null?void 0:n[e])??null))})}async function Ym(e,t){return new Promise(n=>{Xm().set({[e]:t},n)})}async function Tx(){const e=await Qm(Id);if(e&&typeof e=="string"){const n=Ax(e);if(n.length>0)return n}const t=crypto.getRandomValues(new Uint8Array(16));return await Ym(Id,fa(t)),t}async function Zm(){const e=await Qm(Gm);return!e||typeof e!="object"?{}:e}async function _x(e){await Ym(Gm,e)}async function Jm(e,t){const n=await Tx(),r=wx(e),o=kx(t);if(!r)return"";const i=new TextEncoder().encode(`${fa(n)}
${r}
${o}`),s=await crypto.subtle.digest("SHA-256",i);return fa(new Uint8Array(s))}function Ix(e){const t=rt(e.derivation);return{address:e.address,derivation:t,derivationPath:zt(t),chainLabel:fu(t.chain)}}function Cx(e,t,n){const r=rt(e.derivation);return{address:e.address,network:t,derivation:r,derivationPath:zt(r),chainLabel:fu(r.chain),createdAt:n,lastUsedAt:n}}function Nx(e){const t=new Map;for(const n of e){const r=`${n.network.toLowerCase()}|${n.address.toLowerCase()}|${n.derivationPath}`,o=t.get(r);if(!o){t.set(r,n);continue}t.set(r,{...o,lastUsedAt:Math.max(o.lastUsedAt,n.lastUsedAt),createdAt:Math.min(o.createdAt,n.createdAt)})}return[...t.values()].sort((n,r)=>r.lastUsedAt-n.lastUsedAt)}function Px(e){const t=Object.entries(e).sort((n,r)=>{var s,u,c,d;const o=((u=(s=n[1])==null?void 0:s[0])==null?void 0:u.lastUsedAt)??0;return(((d=(c=r[1])==null?void 0:c[0])==null?void 0:d.lastUsedAt)??0)-o});return Object.fromEntries(t.slice(0,xx))}async function jx(e,t,n){const r=await Jm(e,t);return r?((await Zm())[r]??[]).filter(s=>s.network===n).sort((s,u)=>u.lastUsedAt-s.lastUsedAt).map(Ix):[]}async function pa(e,t,n,r){const o=await Jm(e,t);if(!o||!r.length)return;const i=Date.now(),s=await Zm(),u=s[o]??[],c=r.map(g=>Cx(g,n,i)),d=Nx([...c,...u]).slice(0,Ex);s[o]=d,await _x(Px(s))}async function Rx(e,t,n,r){await pa(e,t,n,[r])}const Ox=ts,ul=[0,4],cl=[0,9],ma=80,qm=320,Lx=[...du].join(`
`);function Qr(e){return`${e.address.toLowerCase()}|${e.derivationPath}`}function ha(e,t){const n=Number(String(e||"").trim());return!Number.isFinite(n)||n<0?t:Math.floor(n)}function Cd(e,t,n){const r=ha(e,n[0]),o=ha(t,n[1]);return[Math.min(r,o),Math.max(r,o)]}function Dx(e){const t=ha(e,ma);return Math.max(1,Math.min(qm,t||ma))}function bx(e){const t=String(e||"").split(/[,\n]+/).map(n=>n.trim()).filter(Boolean);return t.length?t:[...du]}function Nd({onSubmit:e,loading:t,submitLabel:n}){const[r,o]=x.useState(""),[i,s]=x.useState(""),[u,c]=x.useState(null),d=m=>{if(m.preventDefault(),c(null),r.length<8){c("Password must be at least 8 characters.");return}if(r!==i){c("Passwords do not match.");return}e(r)},g=(m=!1)=>({width:"100%",boxSizing:"border-box",background:"rgba(8,13,20,0.8)",border:`1px solid ${m?a.danger:a.border}`,borderRadius:8,padding:"10px 12px",color:a.text,fontSize:11,...b,outline:"none",marginBottom:8});return l.jsxs("form",{onSubmit:d,children:[l.jsx("div",{style:{fontSize:8,color:a.dim,letterSpacing:"0.1em",marginBottom:8},children:"CREATE PASSWORD"}),l.jsx("input",{type:"password",placeholder:"Password (min 8 characters)",value:r,onChange:m=>o(m.target.value),disabled:t,style:g()}),l.jsx("input",{type:"password",placeholder:"Confirm password",value:i,onChange:m=>s(m.target.value),disabled:t,style:{...g(),marginBottom:0}}),u&&l.jsx("div",{style:{fontSize:8,color:a.danger,marginTop:6},children:u}),l.jsx("button",{type:"submit",disabled:!r||!i||t,style:{width:"100%",marginTop:12,padding:"11px 0",background:r&&i&&!t?`linear-gradient(90deg, ${a.accent}, #7BE9CF)`:`${a.accent}25`,border:"none",borderRadius:8,color:r&&i&&!t?"#04110E":a.dim,fontSize:10,fontWeight:700,cursor:r&&i&&!t?"pointer":"not-allowed",letterSpacing:"0.1em",...b},children:t?"ENCRYPTING":n})]})}function Ln({children:e}){return l.jsxs("div",{style:{width:Ox,minHeight:ns,...Lr(),display:"flex",flexDirection:"column",padding:"22px 22px 18px",...b,overflowX:"hidden",overflowY:"auto",position:"relative",zoom:Dr},children:[l.jsx("div",{style:{position:"absolute",top:-80,right:-50,width:240,height:240,background:`radial-gradient(ellipse, ${a.accent}14 0%, transparent 70%)`,borderRadius:"50%",pointerEvents:"none"}}),l.jsx("div",{style:{position:"absolute",bottom:-60,left:-50,width:180,height:180,background:"radial-gradient(ellipse, rgba(57,221,182,0.10) 0%, transparent 70%)",borderRadius:"50%",pointerEvents:"none"}}),l.jsx("div",{style:{position:"relative",zIndex:1,display:"flex",flexDirection:"column",flex:1},children:e})]})}function or({title:e,sub:t,onBack:n}){return l.jsxs("div",{style:{marginBottom:20},children:[n&&l.jsx("button",{onClick:n,style:{background:"none",border:"none",color:a.dim,fontSize:8,cursor:"pointer",...b,marginBottom:10,padding:0},children:" back"}),l.jsxs("div",{style:{display:"flex",alignItems:"center",gap:8,marginBottom:12},children:[l.jsx("img",{src:"../icons/icon48.png",alt:"",style:{width:30,height:30,objectFit:"contain",filter:"drop-shadow(0 0 10px rgba(57,221,182,0.65))"}}),l.jsxs("span",{style:{fontSize:15,fontWeight:700,letterSpacing:"0.11em"},children:[l.jsx("span",{style:{color:a.accent},children:"FORGE"}),l.jsx("span",{style:{color:a.text},children:"-OS"})]})]}),l.jsx("div",{style:{fontSize:13,color:a.text,fontWeight:700,letterSpacing:"0.05em"},children:e}),t&&l.jsx("div",{style:{fontSize:8,color:a.dim,marginTop:5,lineHeight:1.6},children:t})]})}function zx({network:e,onComplete:t}){const[n,r]=x.useState("choose"),o="mainnet",[i,s]=x.useState(""),[u,c]=x.useState(""),[d,g]=x.useState(Qe),[m,h]=x.useState(""),[v,k]=x.useState(""),[w,E]=x.useState(""),[p,f]=x.useState(Qe),[y,S]=x.useState([]),[I,C]=x.useState([]),[j,N]=x.useState(Lx),[W,$]=x.useState(String(ul[0])),[H,ve]=x.useState(String(ul[1])),[de,Te]=x.useState(String(cl[0])),[Oe,_e]=x.useState(String(cl[1])),[q,P]=x.useState(!0),[M,U]=x.useState(!0),[G,K]=x.useState(String(ma)),[ne,re]=x.useState(zt(Qe)),[Z,Ie]=x.useState(!1),[R,ae]=x.useState(!1),[Le,se]=x.useState(null),xt=(A,F)=>{const ee=new Map;for(const xe of[...A,...F]){const O=Qr(xe);ee.has(O)||ee.set(O,xe)}return[...ee.values()]},Yt=()=>{const A=[];return q&&A.push(0),M&&A.push(1),A.length?A:[0]},at=async()=>{const A=await jx(m,v||void 0,o);return C(A.map(F=>Qr(F))),A},ut=async()=>{ae(!0),se(null);try{const A=await at();if(!A.length)throw new Error("No remembered candidates found for this phrase/passphrase.");S(A);const F=A[0];E(F.address),f(F.derivation),re(F.derivationPath),r("import_discover")}catch(A){const F=A instanceof Error?A.message:String(A);se(F||"Failed to load remembered candidates.")}finally{ae(!1)}},Ce=async()=>{var A;ae(!0),se(null);try{const F=E0(ne),ee=await od(m,o,{mnemonicPassphrase:v||void 0,derivation:F}),xe={address:ee.address,derivation:rt(ee.derivation??F),derivationPath:zt(ee.derivation??F),chainLabel:((A=ee.derivation)==null?void 0:A.chain)===1?"change":"receive"};E(xe.address),f(xe.derivation),S(O=>xt([xe],O)),await pa(m,v||void 0,o,[xe]),C(O=>{const B=new Set(O);return B.add(Qr(xe)),[...B]}),r("import_password")}catch(F){const ee=F instanceof Error?F.message:String(F);se(ee||"Failed to validate derivation path.")}finally{ae(!1)}},Et=async()=>{ae(!0),se(null);try{const A=await b0(o);s(A.phrase),c(A.address),g(rt(A.derivation??Qe)),r("create_view")}catch{se("Failed to generate wallet. Please try again.")}finally{ae(!1)}},wt=async A=>{ae(!0),se(null);try{await Zi(i,A,u,o,{derivation:d}),await oa({address:u,network:o});const F=await Zn(A);s(""),t(F)}catch{se("Failed to encrypt vault. Please try again."),ae(!1)}},kt=async()=>{ae(!0),se(null);try{const A=await od(m,o,{mnemonicPassphrase:v||void 0}),F=rt(A.derivation??Qe),ee={address:A.address,derivation:F,derivationPath:zt(F),chainLabel:F.chain===1?"change":"receive"};E(A.address),f(F),S([ee]),re(ee.derivationPath),r("import_password")}catch(A){const F=A instanceof Error?A.message:String(A);se(F.toLowerCase().includes("bip39")||F.toLowerCase().includes("checksum")?"Invalid BIP39 phrase. Check word count, spelling, and passphrase.":"Failed to validate phrase.")}finally{ae(!1)}},Ot=async()=>{ae(!0),se(null);let A=[],F=[],ee="";try{try{A=await at()}catch{A=[]}const xe=Cd(W,H,ul),O=Cd(de,Oe,cl),B=Yt(),pe=bx(j),ct=Dx(G);try{F=await z0(m,o,{mnemonicPassphrase:v||void 0,basePaths:pe,accountRange:xe,indexRange:O,chains:B,limit:ct})}catch(dt){ee=dt instanceof Error?dt.message:String(dt)}const et=xt(F,A);if(!et.length)throw new Error(ee||"No derivation candidates found for the configured scan window.");F.length&&await pa(m,v||void 0,o,F),ee&&A.length&&se(`${ee} Showing remembered candidates only.`),S(et),C(et.map(dt=>Qr(dt)));const Lt=et[0];w||(E(Lt.address),f(Lt.derivation)),re(Lt.derivationPath),r("import_discover")}catch(xe){const O=xe instanceof Error?xe.message:String(xe);se(O||"Failed to scan import paths.")}finally{ae(!1)}},_=A=>{E(A.address),f(rt(A.derivation)),re(A.derivationPath),r("import_password")},Y=async A=>{ae(!0),se(null);try{const F=m.trim().toLowerCase().split(/\s+/).join(" ");await Zi(F,A,w,o,{mnemonicPassphrase:v||void 0,derivation:p}),await oa({address:w,network:o});try{await Rx(F,v||void 0,o,{address:w,derivation:p,derivationPath:zt(p),chainLabel:p.chain===1?"change":"receive"})}catch{}const ee=await Zn(A);h(""),k(""),S([]),C([]),t(ee)}catch{se("Failed to encrypt vault. Please try again."),ae(!1)}},z=i.split(" ");return n==="choose"?l.jsxs(Ln,{children:[l.jsx(or,{title:"SET UP YOUR WALLET",sub:"Non-custodial  Your keys never leave your device"}),l.jsx("div",{style:{display:"flex",gap:5,flexWrap:"wrap",marginBottom:14},children:["KASPA L1  L2","NON-CUSTODIAL","BIP44"].map(A=>l.jsx("span",{style:{fontSize:8,color:a.accent,fontWeight:700,letterSpacing:"0.08em",background:`${a.accent}10`,border:`1px solid ${a.accent}22`,borderRadius:4,padding:"3px 7px"},children:A},A))}),l.jsxs("div",{style:{display:"flex",alignItems:"center",gap:8,marginBottom:18,padding:"7px 12px",background:`${a.accent}08`,border:`1px solid ${a.accent}20`,borderRadius:8},children:[l.jsx("div",{style:{width:7,height:7,borderRadius:"50%",background:a.ok,flexShrink:0}}),l.jsx("span",{style:{fontSize:8,color:a.accent,fontWeight:700,letterSpacing:"0.08em"},children:"MAINNET"})]}),Le&&l.jsx("div",{style:{fontSize:8,color:a.danger,marginBottom:10},children:Le}),l.jsx("button",{onClick:Et,disabled:R,style:{width:"100%",padding:"18px 16px",textAlign:"left",background:`linear-gradient(145deg, ${a.accent}1A, rgba(11,17,24,0.95))`,border:`1px solid ${a.accent}45`,borderRadius:12,marginBottom:10,cursor:R?"not-allowed":"pointer",...b},children:l.jsxs("div",{style:{display:"flex",alignItems:"center",gap:12},children:[l.jsx("div",{style:{width:40,height:40,borderRadius:"50%",flexShrink:0,background:`${a.accent}18`,border:`1px solid ${a.accent}40`,display:"flex",alignItems:"center",justifyContent:"center"},children:l.jsx("span",{style:{color:a.accent,fontSize:18},children:""})}),l.jsxs("div",{children:[l.jsx("div",{style:{fontSize:11,fontWeight:700,color:a.accent,marginBottom:4,letterSpacing:"0.06em"},children:R?"GENERATING":"CREATE NEW WALLET"}),l.jsx("div",{style:{fontSize:8,color:a.dim,lineHeight:1.6},children:"Generate a new wallet  24-word seed phrase  fully encrypted locally"})]})]})}),l.jsx("button",{onClick:()=>{se(null),h(""),k(""),E(""),S([]),C([]),f(Qe),re(zt(Qe)),r("import_phrase")},style:{width:"100%",padding:"18px 16px",textAlign:"left",background:"rgba(11,17,24,0.85)",border:`1px solid ${a.border}`,borderRadius:12,marginBottom:18,cursor:"pointer",...b},children:l.jsxs("div",{style:{display:"flex",alignItems:"center",gap:12},children:[l.jsx("div",{style:{width:40,height:40,borderRadius:"50%",flexShrink:0,background:"rgba(33,48,67,0.5)",border:`1px solid ${a.border}`,display:"flex",alignItems:"center",justifyContent:"center"},children:l.jsx("span",{style:{color:a.dim,fontSize:18},children:""})}),l.jsxs("div",{children:[l.jsx("div",{style:{fontSize:11,fontWeight:700,color:a.text,marginBottom:4,letterSpacing:"0.06em"},children:"IMPORT WALLET"}),l.jsx("div",{style:{fontSize:8,color:a.dim,lineHeight:1.6},children:"Restore from a BIP39 seed phrase  supports 12/15/18/21/24 words"})]})]})}),l.jsx("div",{style:{marginTop:"auto",padding:"10px 12px",background:"rgba(5,7,10,0.5)",border:`1px solid ${a.border}`,borderRadius:8},children:["Your keys never leave your device.","Non-custodial  Forge-OS has zero access to your funds."].map((A,F)=>l.jsxs("div",{style:{display:"flex",gap:6,marginBottom:F===0?4:0},children:[l.jsx("span",{style:{color:a.ok,fontSize:8,flexShrink:0},children:""}),l.jsx("span",{style:{fontSize:8,color:a.dim,lineHeight:1.5},children:A})]},F))})]}):n==="create_view"?l.jsxs(Ln,{children:[l.jsx(or,{title:"YOUR SEED PHRASE",sub:"Write these 24 words down in order and store them offline. Anyone with this phrase controls your wallet.",onBack:()=>{r("choose"),s(""),c(""),g(Qe)}}),l.jsx("div",{style:{background:a.wLow,border:`1px solid ${a.warn}40`,borderRadius:8,padding:"8px 12px",marginBottom:12},children:l.jsx("div",{style:{fontSize:8,color:a.warn,fontWeight:700},children:" NEVER share this phrase. Forge-OS will never ask for it."})}),l.jsx("div",{style:{display:"grid",gridTemplateColumns:"repeat(4, 1fr)",gap:4,marginBottom:14},children:z.map((A,F)=>l.jsxs("div",{style:{background:"rgba(5,7,10,0.9)",border:`1px solid ${a.border}`,borderRadius:5,padding:"5px 4px",display:"flex",alignItems:"center",gap:3},children:[l.jsxs("span",{style:{fontSize:8,color:a.dim,flexShrink:0},children:[F+1,"."]}),l.jsx("span",{style:{fontSize:8,color:a.text,fontWeight:600},children:A})]},F))}),l.jsxs("label",{style:{display:"flex",gap:8,alignItems:"flex-start",cursor:"pointer",marginBottom:14},children:[l.jsx("input",{type:"checkbox",checked:Z,onChange:A=>Ie(A.target.checked),style:{marginTop:2,accentColor:a.accent,flexShrink:0}}),l.jsx("span",{style:{fontSize:8,color:a.dim,lineHeight:1.5},children:"I have written down my 24-word seed phrase and stored it securely offline."})]}),l.jsx("button",{onClick:()=>r("create_password"),disabled:!Z,style:{width:"100%",padding:"11px 0",background:Z?`linear-gradient(90deg, ${a.accent}, #7BE9CF)`:`${a.accent}25`,border:"none",borderRadius:8,color:Z?"#04110E":a.dim,fontSize:10,fontWeight:700,cursor:Z?"pointer":"not-allowed",letterSpacing:"0.1em",...b},children:"I'VE SAVED MY PHRASE "})]}):n==="create_password"?l.jsxs(Ln,{children:[l.jsx(or,{title:"ENCRYPT YOUR WALLET",sub:"Your seed phrase will be encrypted and stored locally. You'll need this password to unlock your wallet.",onBack:()=>r("create_view")}),Le&&l.jsx("div",{style:{fontSize:8,color:a.danger,marginBottom:10},children:Le}),l.jsx(Nd,{onSubmit:wt,loading:R,submitLabel:"CREATE WALLET"})]}):n==="import_phrase"?l.jsxs(Ln,{children:[l.jsx(or,{title:"IMPORT SEED PHRASE",sub:"Enter a BIP39 seed phrase (12/15/18/21/24 words). Optional BIP39 passphrase supported.",onBack:()=>r("choose")}),Le&&l.jsx("div",{style:{fontSize:8,color:a.danger,marginBottom:10},children:Le}),l.jsx("div",{style:{fontSize:8,color:a.dim,letterSpacing:"0.1em",marginBottom:7},children:"SEED PHRASE"}),l.jsx("textarea",{value:m,onChange:A=>{h(A.target.value),S([]),C([]),E(""),se(null)},placeholder:"word1 word2 word3  (space-separated)",rows:4,style:{width:"100%",boxSizing:"border-box",background:"rgba(8,13,20,0.8)",border:`1px solid ${a.border}`,borderRadius:8,padding:"10px 12px",color:a.text,fontSize:10,resize:"vertical",...b,outline:"none",marginBottom:10}}),l.jsx("div",{style:{fontSize:8,color:a.dim,letterSpacing:"0.1em",marginBottom:7},children:"BIP39 PASSPHRASE (OPTIONAL)"}),l.jsx("input",{type:"password",value:v,onChange:A=>{k(A.target.value),S([]),C([]),E(""),se(null)},placeholder:"Optional passphrase / 25th word",style:{width:"100%",boxSizing:"border-box",background:"rgba(8,13,20,0.8)",border:`1px solid ${a.border}`,borderRadius:8,padding:"10px 12px",color:a.text,fontSize:10,...b,outline:"none",marginBottom:10}}),m.trim()&&(()=>{const A=m.trim().split(/\s+/).filter(Boolean).length,F=[12,15,18,21,24].includes(A);return l.jsxs("div",{style:{fontSize:8,color:F?a.ok:a.warn,marginBottom:8},children:[A," words ",F?"":"(need 12/15/18/21/24)"]})})(),l.jsxs("div",{style:{background:"rgba(8,13,20,0.65)",border:`1px solid ${a.border}`,borderRadius:8,padding:"9px 10px",marginBottom:10},children:[l.jsx("div",{style:{fontSize:8,color:a.dim,letterSpacing:"0.08em",marginBottom:6},children:"DISCOVERY SCAN OPTIONS"}),l.jsx("div",{style:{fontSize:8,color:a.dim,marginBottom:5},children:"BASE PATH ROOTS (ONE PER LINE)"}),l.jsx("textarea",{value:j,onChange:A=>N(A.target.value),rows:2,style:{width:"100%",boxSizing:"border-box",background:"rgba(5,7,10,0.8)",border:`1px solid ${a.border}`,borderRadius:8,padding:"8px 10px",color:a.text,fontSize:8,resize:"vertical",...b,outline:"none",marginBottom:8}}),l.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:8,marginBottom:8},children:[l.jsxs("div",{children:[l.jsx("div",{style:{fontSize:8,color:a.dim,marginBottom:4},children:"ACCOUNT RANGE"}),l.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:6},children:[l.jsx("input",{type:"number",min:0,value:W,onChange:A=>$(A.target.value),placeholder:"start",style:{width:"100%",boxSizing:"border-box",background:"rgba(5,7,10,0.8)",border:`1px solid ${a.border}`,borderRadius:7,padding:"7px 8px",color:a.text,fontSize:8,...b,outline:"none"}}),l.jsx("input",{type:"number",min:0,value:H,onChange:A=>ve(A.target.value),placeholder:"end",style:{width:"100%",boxSizing:"border-box",background:"rgba(5,7,10,0.8)",border:`1px solid ${a.border}`,borderRadius:7,padding:"7px 8px",color:a.text,fontSize:8,...b,outline:"none"}})]})]}),l.jsxs("div",{children:[l.jsx("div",{style:{fontSize:8,color:a.dim,marginBottom:4},children:"INDEX RANGE"}),l.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:6},children:[l.jsx("input",{type:"number",min:0,value:de,onChange:A=>Te(A.target.value),placeholder:"start",style:{width:"100%",boxSizing:"border-box",background:"rgba(5,7,10,0.8)",border:`1px solid ${a.border}`,borderRadius:7,padding:"7px 8px",color:a.text,fontSize:8,...b,outline:"none"}}),l.jsx("input",{type:"number",min:0,value:Oe,onChange:A=>_e(A.target.value),placeholder:"end",style:{width:"100%",boxSizing:"border-box",background:"rgba(5,7,10,0.8)",border:`1px solid ${a.border}`,borderRadius:7,padding:"7px 8px",color:a.text,fontSize:8,...b,outline:"none"}})]})]})]}),l.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:8},children:[l.jsxs("div",{children:[l.jsx("div",{style:{fontSize:8,color:a.dim,marginBottom:5},children:"CHAINS"}),l.jsxs("div",{style:{display:"flex",gap:10},children:[l.jsxs("label",{style:{display:"flex",alignItems:"center",gap:5,fontSize:8,color:a.dim,cursor:"pointer"},children:[l.jsx("input",{type:"checkbox",checked:q,onChange:A=>P(A.target.checked),style:{accentColor:a.accent}}),"RECEIVE (0)"]}),l.jsxs("label",{style:{display:"flex",alignItems:"center",gap:5,fontSize:8,color:a.dim,cursor:"pointer"},children:[l.jsx("input",{type:"checkbox",checked:M,onChange:A=>U(A.target.checked),style:{accentColor:a.accent}}),"CHANGE (1)"]})]})]}),l.jsxs("div",{children:[l.jsx("div",{style:{fontSize:8,color:a.dim,marginBottom:4},children:"RESULT LIMIT"}),l.jsx("input",{type:"number",min:1,max:qm,value:G,onChange:A=>K(A.target.value),style:{width:"100%",boxSizing:"border-box",background:"rgba(5,7,10,0.8)",border:`1px solid ${a.border}`,borderRadius:7,padding:"7px 8px",color:a.text,fontSize:8,...b,outline:"none"}})]})]})]}),l.jsxs("div",{style:{background:"rgba(8,13,20,0.65)",border:`1px solid ${a.border}`,borderRadius:8,padding:"9px 10px",marginBottom:10},children:[l.jsx("div",{style:{fontSize:8,color:a.dim,letterSpacing:"0.08em",marginBottom:6},children:"MANUAL DERIVATION PATH"}),l.jsx("input",{value:ne,onChange:A=>re(A.target.value),placeholder:"m/44'/111'/0'/0/0",style:{width:"100%",boxSizing:"border-box",background:"rgba(5,7,10,0.8)",border:`1px solid ${a.border}`,borderRadius:8,padding:"9px 10px",color:a.text,fontSize:8,...b,outline:"none",marginBottom:8}}),l.jsx("button",{onClick:Ce,disabled:!m.trim()||R,style:{width:"100%",padding:"9px 0",background:"rgba(11,17,24,0.85)",border:`1px solid ${a.border}`,borderRadius:8,color:m.trim()&&!R?a.text:a.dim,fontSize:8,fontWeight:700,cursor:m.trim()&&!R?"pointer":"not-allowed",letterSpacing:"0.08em",...b},children:R?"VALIDATING":"USE MANUAL PATH"})]}),l.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:8},children:[l.jsx("button",{onClick:kt,disabled:!m.trim()||R,style:{width:"100%",padding:"11px 0",background:m.trim()&&!R?`linear-gradient(90deg, ${a.accent}, #7BE9CF)`:`${a.accent}25`,border:"none",borderRadius:8,color:m.trim()&&!R?"#04110E":a.dim,fontSize:10,fontWeight:700,cursor:m.trim()&&!R?"pointer":"not-allowed",letterSpacing:"0.1em",...b},children:R?"VALIDATING":"VALIDATE PHRASE "}),l.jsx("button",{onClick:Ot,disabled:!m.trim()||R,style:{width:"100%",padding:"11px 0",background:"rgba(11,17,24,0.85)",border:`1px solid ${a.border}`,borderRadius:8,color:m.trim()&&!R?a.text:a.dim,fontSize:9,fontWeight:700,cursor:m.trim()&&!R?"pointer":"not-allowed",letterSpacing:"0.08em",...b},children:R?"SCANNING":"SCAN PATHS"})]}),l.jsx("button",{onClick:ut,disabled:!m.trim()||R,style:{width:"100%",padding:"10px 0",marginTop:8,background:"rgba(11,17,24,0.85)",border:`1px solid ${a.border}`,borderRadius:8,color:m.trim()&&!R?a.text:a.dim,fontSize:8,fontWeight:700,cursor:m.trim()&&!R?"pointer":"not-allowed",letterSpacing:"0.08em",...b},children:R?"LOADING":"LOAD REMEMBERED CANDIDATES"})]}):n==="import_discover"?l.jsxs(Ln,{children:[l.jsx(or,{title:"SELECT DERIVATION",sub:"Choose the address/path that matches your existing wallet. This choice will be saved for signing.",onBack:()=>r("import_phrase")}),Le&&l.jsx("div",{style:{fontSize:8,color:a.danger,marginBottom:10},children:Le}),l.jsxs("div",{style:{background:"rgba(11,17,24,0.65)",border:`1px solid ${a.border}`,borderRadius:8,padding:"8px 10px",marginBottom:10},children:[l.jsx("div",{style:{fontSize:8,color:a.dim,lineHeight:1.5},children:"Showing common derivation candidates for your phrase/passphrase. If unsure, compare with the address shown in your current wallet app and select the exact match."}),l.jsxs("div",{style:{fontSize:8,color:a.dim,marginTop:6},children:["Remembered candidates for this mnemonic fingerprint: ",I.length]})]}),l.jsx("div",{style:{display:"flex",flexDirection:"column",gap:6,maxHeight:300,overflowY:"auto",paddingRight:2,marginBottom:12},children:y.map((A,F)=>{const ee=A.address.toLowerCase()===w.toLowerCase()&&zt(A.derivation)===zt(p),xe=I.includes(Qr(A));return l.jsxs("button",{onClick:()=>_(A),style:{width:"100%",textAlign:"left",background:ee?`${a.accent}10`:"rgba(8,13,20,0.8)",border:`1px solid ${ee?`${a.accent}55`:a.border}`,borderRadius:8,padding:"9px 10px",cursor:"pointer",...b},children:[l.jsxs("div",{style:{display:"flex",alignItems:"center",justifyContent:"space-between",gap:8,marginBottom:4},children:[l.jsxs("span",{style:{fontSize:8,color:ee?a.accent:a.text,fontWeight:700},children:["#",F+1,"  ",A.chainLabel.toUpperCase()]}),l.jsxs("div",{style:{display:"flex",alignItems:"center",gap:6},children:[xe&&l.jsx("span",{style:{fontSize:8,color:a.accent,border:`1px solid ${a.accent}44`,background:`${a.accent}14`,borderRadius:4,padding:"2px 4px",letterSpacing:"0.06em"},children:"REMEMBERED"}),l.jsx("span",{style:{fontSize:8,color:a.dim},children:A.derivation.account===0?"acct 0":`acct ${A.derivation.account}`})]})]}),l.jsx("div",{style:{fontSize:8,color:a.text,lineHeight:1.45,wordBreak:"break-all",marginBottom:4},children:A.address}),l.jsx("div",{style:{fontSize:8,color:a.dim,lineHeight:1.4,wordBreak:"break-all"},children:A.derivationPath})]},`${A.address}-${A.derivationPath}`)})}),l.jsx("button",{onClick:()=>Ot(),disabled:R,style:{width:"100%",padding:"10px 0",background:"rgba(11,17,24,0.85)",border:`1px solid ${a.border}`,borderRadius:8,color:R?a.dim:a.text,fontSize:9,fontWeight:700,cursor:R?"not-allowed":"pointer",letterSpacing:"0.08em",...b},children:R?"SCANNING":"RESCAN CANDIDATES"})]}):n==="import_password"?l.jsxs(Ln,{children:[l.jsx(or,{title:"ENCRYPT YOUR WALLET",sub:"Your imported phrase will be encrypted and stored locally. Choose a strong password.",onBack:()=>r(y.length?"import_discover":"import_phrase")}),l.jsxs("div",{style:{background:"rgba(8,13,20,0.8)",border:`1px solid ${a.border}`,borderRadius:8,padding:"8px 10px",marginBottom:10},children:[l.jsx("div",{style:{fontSize:8,color:a.dim,marginBottom:4,letterSpacing:"0.08em"},children:"SELECTED ADDRESS"}),l.jsx("div",{style:{fontSize:8,color:a.text,lineHeight:1.4,wordBreak:"break-all",marginBottom:4},children:w}),l.jsx("div",{style:{fontSize:8,color:a.dim,lineHeight:1.4,wordBreak:"break-all"},children:zt(p)})]}),Le&&l.jsx("div",{style:{fontSize:8,color:a.danger,marginBottom:10},children:Le}),l.jsx(Nd,{onSubmit:Y,loading:R,submitLabel:"IMPORT WALLET"})]}):l.jsx(Ln,{children:l.jsx("div",{style:{flex:1,display:"flex",alignItems:"center",justifyContent:"center"},children:l.jsxs("div",{style:{textAlign:"center"},children:[l.jsx("img",{src:"../icons/icon48.png",alt:"",style:{width:36,height:36,objectFit:"contain",filter:"drop-shadow(0 0 12px rgba(57,221,182,0.7))",marginBottom:14}}),l.jsx("div",{style:{fontSize:10,color:a.accent,marginBottom:6,letterSpacing:"0.1em",fontWeight:700},children:"ENCRYPTING VAULT"}),l.jsx("div",{style:{fontSize:8,color:a.dim},children:"Deriving key  This may take a moment"})]})})})}function Mx({address:e,network:t,origin:n,onApprove:r,onReject:o}){const i=n??"forge-os.xyz";return l.jsxs("div",{style:{width:Vm,minHeight:Hm,...Lr(),display:"flex",flexDirection:"column",...b,overflowX:"hidden",overflowY:"auto",zoom:Dr},children:[l.jsxs("div",{style:{padding:"12px 14px 10px",borderBottom:`1px solid ${a.border}`,display:"flex",alignItems:"center",gap:8},children:[l.jsx("img",{src:"../icons/icon48.png",alt:"Forge-OS",style:{width:22,height:22,objectFit:"contain",filter:"drop-shadow(0 0 6px rgba(57,221,182,0.5))"}}),l.jsxs("span",{style:{fontSize:13,fontWeight:700,letterSpacing:"0.1em"},children:[l.jsx("span",{style:{color:a.accent},children:"FORGE"}),l.jsx("span",{style:{color:a.text},children:"-OS"})]})]}),l.jsxs("div",{style:{flex:1,display:"flex",flexDirection:"column",padding:"24px 16px",gap:16},children:[l.jsxs("div",{style:{textAlign:"center"},children:[l.jsx("div",{style:{width:52,height:52,borderRadius:"50%",background:`${a.accent}18`,border:`2px solid ${a.accent}40`,display:"flex",alignItems:"center",justifyContent:"center",margin:"0 auto 14px"},children:l.jsx("img",{src:"../icons/icon48.png",alt:"",style:{width:30,height:30,objectFit:"contain"}})}),l.jsx("div",{style:{fontSize:13,fontWeight:700,color:a.text,marginBottom:4},children:"Connect to Site"}),l.jsx("div",{style:{fontSize:10,color:a.dim,letterSpacing:"0.06em",wordBreak:"break-word",overflowWrap:"anywhere"},children:i})]}),l.jsxs("div",{style:{background:"rgba(11,17,24,0.8)",border:`1px solid ${a.border}`,borderRadius:10,padding:"12px 14px"},children:[l.jsx("div",{style:{fontSize:8,color:a.dim,letterSpacing:"0.12em",marginBottom:10},children:"THIS SITE WILL BE ABLE TO"}),[{icon:"",label:"View your wallet address"},{icon:"",label:"Request message signatures"}].map(s=>l.jsxs("div",{style:{display:"flex",alignItems:"center",gap:8,marginBottom:6,fontSize:10,color:a.text},children:[l.jsx("span",{style:{color:a.ok,fontSize:9,flexShrink:0},children:s.icon}),s.label]},s.label)),l.jsx("div",{style:{height:1,background:a.border,margin:"10px 0"}}),l.jsx("div",{style:{fontSize:8,color:a.dim,letterSpacing:"0.12em",marginBottom:6},children:"THIS SITE WILL NOT BE ABLE TO"}),[{icon:"",label:"Access your private keys or seed phrase"},{icon:"",label:"Send transactions without your approval"}].map(s=>l.jsxs("div",{style:{display:"flex",alignItems:"center",gap:8,marginBottom:4,fontSize:10,color:a.muted},children:[l.jsx("span",{style:{color:a.danger,fontSize:9,flexShrink:0},children:s.icon}),s.label]},s.label))]}),l.jsxs("div",{style:{background:`${a.accent}08`,border:`1px solid ${a.accent}20`,borderRadius:8,padding:"10px 12px",display:"flex",alignItems:"center",gap:10},children:[l.jsx("div",{style:{width:8,height:8,borderRadius:"50%",background:a.ok,flexShrink:0}}),l.jsxs("div",{children:[l.jsx("div",{style:{fontSize:9,color:a.dim,marginBottom:2},children:"CONNECTING WITH"}),l.jsx("div",{style:{fontSize:11,color:a.text,fontWeight:600},children:Fo(e)}),l.jsx("div",{style:{fontSize:8,color:a.dim},children:t})]})]})]}),l.jsxs("div",{style:{padding:"12px 16px",borderTop:`1px solid ${a.border}`,display:"flex",gap:10},children:[l.jsx("button",{onClick:o,style:{flex:1,background:"rgba(33,48,67,0.5)",border:`1px solid ${a.border}`,borderRadius:8,padding:"10px 0",color:a.dim,fontSize:10,fontWeight:700,cursor:"pointer",letterSpacing:"0.08em",...b},children:"REJECT"}),l.jsx("button",{onClick:r,style:{flex:2,background:`linear-gradient(90deg, ${a.accent}, #7BE9CF)`,border:"none",borderRadius:8,padding:"10px 0",color:"#04110E",fontSize:11,fontWeight:700,cursor:"pointer",letterSpacing:"0.08em",...b},children:"CONNECT "})]})]})}function Fx({address:e,network:t,origin:n,message:r,loading:o=!1,error:i,onApprove:s,onReject:u}){const c=n??"forge-os.xyz";return l.jsxs("div",{style:{width:Vm,minHeight:Hm,...Lr(),display:"flex",flexDirection:"column",...b,overflowX:"hidden",overflowY:"auto",zoom:Dr},children:[l.jsxs("div",{style:{padding:"12px 14px 10px",borderBottom:`1px solid ${a.border}`,display:"flex",alignItems:"center",gap:8},children:[l.jsx("img",{src:"../icons/icon48.png",alt:"Forge-OS",style:{width:22,height:22,objectFit:"contain",filter:"drop-shadow(0 0 6px rgba(57,221,182,0.5))"}}),l.jsxs("span",{style:{fontSize:13,fontWeight:700,letterSpacing:"0.1em"},children:[l.jsx("span",{style:{color:a.accent},children:"FORGE"}),l.jsx("span",{style:{color:a.text},children:"-OS"})]})]}),l.jsxs("div",{style:{flex:1,display:"flex",flexDirection:"column",padding:"18px 16px",gap:12},children:[l.jsxs("div",{style:{textAlign:"center"},children:[l.jsx("div",{style:{width:52,height:52,borderRadius:"50%",background:`${a.warn}18`,border:`2px solid ${a.warn}40`,display:"flex",alignItems:"center",justifyContent:"center",margin:"0 auto 12px"},children:l.jsx("span",{style:{fontSize:22},children:""})}),l.jsx("div",{style:{fontSize:12,fontWeight:700,color:a.text,marginBottom:3},children:"Signature Request"}),l.jsx("div",{style:{fontSize:10,color:a.dim,letterSpacing:"0.06em"},children:c})]}),l.jsxs("div",{style:{background:"rgba(11,17,24,0.9)",border:`1px solid ${a.border}`,borderRadius:10,padding:"10px 12px",minWidth:0},children:[l.jsx("div",{style:{fontSize:8,color:a.dim,letterSpacing:"0.12em",marginBottom:6},children:"MESSAGE TO SIGN"}),l.jsx("div",{style:{maxHeight:180,overflowY:"auto",background:"rgba(5,7,10,0.7)",border:`1px solid ${a.border}`,borderRadius:8,padding:"10px",fontSize:9,color:a.text,lineHeight:1.5,whiteSpace:"pre-wrap",wordBreak:"break-word",overflowWrap:"anywhere"},children:r})]}),l.jsxs("div",{style:{background:`${a.accent}08`,border:`1px solid ${a.accent}20`,borderRadius:8,padding:"10px 12px",display:"flex",alignItems:"center",gap:10,minWidth:0},children:[l.jsx("div",{style:{width:8,height:8,borderRadius:"50%",background:a.ok,flexShrink:0}}),l.jsxs("div",{style:{minWidth:0},children:[l.jsx("div",{style:{fontSize:9,color:a.dim,marginBottom:2},children:"SIGNING WITH"}),l.jsx("div",{style:{fontSize:11,color:a.text,fontWeight:600},children:Fo(e)}),l.jsx("div",{style:{fontSize:8,color:a.dim},children:t})]})]}),i&&l.jsx("div",{style:{fontSize:9,color:a.danger,lineHeight:1.5,textAlign:"center"},children:i})]}),l.jsxs("div",{style:{padding:"12px 16px",borderTop:`1px solid ${a.border}`,display:"flex",gap:10},children:[l.jsx("button",{onClick:u,disabled:o,style:{flex:1,background:"rgba(33,48,67,0.5)",border:`1px solid ${a.border}`,borderRadius:8,padding:"10px 0",color:a.dim,fontSize:10,fontWeight:700,cursor:o?"not-allowed":"pointer",letterSpacing:"0.08em",...b},children:"REJECT"}),l.jsx("button",{onClick:s,disabled:o,style:{flex:2,background:o?`${a.accent}35`:`linear-gradient(90deg, ${a.accent}, #7BE9CF)`,border:"none",borderRadius:8,padding:"10px 0",color:o?a.dim:"#04110E",fontSize:11,fontWeight:700,cursor:o?"not-allowed":"pointer",letterSpacing:"0.08em",...b},children:o?"SIGNING":"SIGN MESSAGE "})]})]})}const Pd="forgeos.connect.pending",jd="forgeos.sign.pending";function Ux(){const[e,t]=x.useState({type:"loading"}),[n,r]=x.useState(null),[o,i]=x.useState("mainnet"),[s,u]=x.useState(null),[c,d]=x.useState(0),[g,m]=x.useState(!1),[h,v]=x.useState("wallet"),[k,w]=x.useState(),[E,p]=x.useState(15),[f,y]=x.useState(!1),[S,I]=x.useState(!1),[C,j]=x.useState(null),[N,W]=x.useState(null),[$,H]=x.useState(!1),[ve,de]=x.useState(null),[Te,Oe]=x.useState(null),[_e,q]=x.useState(null),[P,M]=x.useState(null),[U,G]=x.useState(null),[K,ne]=x.useState(null),[re,Z]=x.useState(null),[Ie,R]=x.useState(null),ae=["mainnet","testnet-10","testnet-11","testnet-12"],Le={mainnet:"MAINNET","testnet-10":"TN10","testnet-11":"TN11","testnet-12":"TN12"},se=45e3,xt=45e3,Yt=6e4;x.useEffect(()=>{(async()=>{try{const[D,V,Ee,Me,De]=await Promise.all([um(),cu(),Vy(),Gy(),Qy()]);if(i(V),p(Ee),y(Me===!0),I(De===!0),!D){const ft=await qc();ft!=null&&ft.address?(r({mnemonic:"",address:ft.address,network:V,autoLockAt:1/0}),Ce(ft.address,V),t({type:"unlocked"})):t({type:"first_run"});return}const At=un()??await cm();if(At)r(At),Ce(At.address,V),t({type:"unlocked"});else{const ft=await qc();Oe((ft==null?void 0:ft.address)??null),t({type:"locked"})}}catch{t({type:"first_run"})}})()},[]);const at=x.useCallback(()=>{var V;const D=(V=chrome.storage)==null?void 0:V.session;D!=null&&D.get&&D.get([Pd,jd]).then(Ee=>{const Me=Ee==null?void 0:Ee[Pd],De=Ee==null?void 0:Ee[jd];j(Me!=null&&Me.requestId?Me:null),W(De!=null&&De.requestId&&typeof(De==null?void 0:De.message)=="string"?De:null)}).catch(()=>{})},[]);x.useEffect(()=>{at()},[at]),x.useEffect(()=>{const D=(V,Ee)=>{Ee==="session"&&at()};return chrome.storage.onChanged.addListener(D),()=>chrome.storage.onChanged.removeListener(D)},[at]),x.useEffect(()=>{de(null)},[N==null?void 0:N.requestId]),x.useEffect(()=>{const D=V=>{(V==null?void 0:V.type)==="AUTOLOCK_FIRED"&&wt()};return chrome.runtime.onMessage.addListener(D),()=>chrome.runtime.onMessage.removeListener(D)},[]),x.useEffect(()=>{if(e.type!=="unlocked"||!n)return;const D=setInterval(()=>{un()||wt()},3e4);return()=>clearInterval(D)},[e.type,n]);const ut=x.useCallback(D=>{var Me;const V=l0(D);if(!Array.isArray(V)||V.length===0){M(null);return}const Ee=[...V].sort((De,At)=>De.lastOkAt!==At.lastOkAt?At.lastOkAt-De.lastOkAt:De.consecutiveFails!==At.consecutiveFails?De.consecutiveFails-At.consecutiveFails:At.lastFailAt-De.lastFailAt);M(((Me=Ee[0])==null?void 0:Me.base)??null)},[]);x.useEffect(()=>{if(e.type!=="unlocked")return;const D=async()=>{const Ee=await y0(o);Ee!=null&&Ee.virtualDaaScore?(q(Ee.virtualDaaScore),Z(Date.now()),R(Me=>Me!=null&&Me.startsWith("Live BlockDAG feed")?null:Me)):R("Live BlockDAG feed unavailable  retrying"),ut(o)};D();const V=setInterval(D,2e4);return()=>clearInterval(V)},[e.type,o,ut]);const Ce=x.useCallback(async(D,V)=>{try{const Ee=uo(D,V),[Me,De]=await Promise.allSettled([v0(Ee,V),S0(V)]),At=Date.now();let ft=!1;Me.status==="fulfilled"?(u(Me.value),G(At)):ft=!0,De.status==="fulfilled"?(d(De.value),ne(At)):ft=!0,R($o=>ft?"Live balance/price feed degraded  retrying":$o!=null&&$o.startsWith("Live balance/price feed")?null:$o),ut(V)}catch{}},[ut]);x.useEffect(()=>{if(e.type!=="unlocked"||!(n!=null&&n.address))return;const D=()=>{Ce(n.address,o)};D();const V=setInterval(D,15e3);return()=>clearInterval(V)},[e.type,n==null?void 0:n.address,o,Ce]);const Et=D=>{Oe(null),r(D),Ce(D.address,o),t({type:"unlocked"})},wt=()=>{Oe((n==null?void 0:n.address)??null),fm(),r(null),u(null),d(0),q(null),M(null),G(null),ne(null),Z(null),R(null),t({type:"locked"})},kt=async()=>{const{resetWallet:D}=await Yp(async()=>{const{resetWallet:V}=await Promise.resolve().then(()=>P0);return{resetWallet:V}},void 0);await D(),r(null),u(null),d(0),q(null),M(null),G(null),ne(null),Z(null),R(null),t({type:"first_run"})},Ot=D=>{r(D),Ce(D.address,o),t({type:"unlocked"})},_=(()=>{if(!(n!=null&&n.address))return null;try{return uo(n.address,o)}catch{return n.address}})(),Y=async()=>{if(_)try{await navigator.clipboard.writeText(_),m(!0),setTimeout(()=>m(!1),2e3)}catch{}},z=async()=>{const D=ae.indexOf(o),V=ae[(D+1)%ae.length];if(i(V),await Wy(V),u(null),q(null),M(null),G(null),ne(null),Z(null),R(null),n!=null&&n.address){try{await oa({address:uo(n.address,V),network:V})}catch{}Ce(n.address,V)}},A=()=>{e.type==="unlocked"&&wi(E,{persistSession:f})},F=async D=>{p(D),await Hy(D),e.type==="unlocked"&&wi(D,{persistSession:f})},ee=async D=>{y(D),await Xy(D),await dm(D),e.type==="unlocked"&&wi(E,{persistSession:D})},xe=async()=>{const D=!S;I(D);try{await Yy(D)}catch{}};x.useEffect(()=>{e.type!=="unlocked"||!N||n!=null&&n.mnemonic||(chrome.runtime.sendMessage({type:"FORGEOS_SIGN_REJECT",requestId:N.requestId,error:"Managed wallet is required for site signing"}).catch(()=>{}),W(null))},[e.type,N,n==null?void 0:n.mnemonic]);const O=async()=>{const D=N;if(D){if(!(n!=null&&n.mnemonic)){de("Wallet is locked. Unlock to sign.");return}H(!0),de(null);try{const V=await M0(n.mnemonic,D.message,{mnemonicPassphrase:n.mnemonicPassphrase,derivation:n.derivation});await chrome.runtime.sendMessage({type:"FORGEOS_SIGN_APPROVE",requestId:D.requestId,signature:V}),W(null)}catch(V){const Ee=V instanceof Error?V.message:String(V);de(Ee||"Signing failed")}finally{H(!1)}}},B=()=>{N&&(chrome.runtime.sendMessage({type:"FORGEOS_SIGN_REJECT",requestId:N.requestId,error:"Signing rejected by user"}).catch(()=>{}),window.close())};if(e.type==="loading")return l.jsxs("div",{style:{width:ts,height:ns,...Lr(),display:"flex",alignItems:"center",justifyContent:"center",...b,position:"relative",overflowX:"hidden",overflowY:"auto",zoom:Dr},children:[l.jsx("div",{style:{position:"absolute",top:"30%",left:"50%",transform:"translate(-50%,-50%)",width:260,height:260,borderRadius:"50%",background:`radial-gradient(ellipse, ${a.accent}12 0%, transparent 70%)`,pointerEvents:"none"}}),l.jsxs("div",{style:{textAlign:"center",position:"relative"},children:[l.jsx("img",{src:"../icons/icon48.png",alt:"",style:{width:36,height:36,objectFit:"contain",opacity:.7,filter:"drop-shadow(0 0 10px rgba(57,221,182,0.5))"}}),l.jsx("div",{style:{fontSize:9,color:a.dim,marginTop:10,letterSpacing:"0.14em"},children:"LOADING"})]})]});if(e.type==="first_run")return l.jsx(zx,{network:o,onComplete:Ot});if(e.type==="locked")return l.jsx(Sx,{walletAddress:Te,autoLockMinutes:E,persistSession:f,onUnlock:Et,onReset:kt});const pe=!!(n!=null&&n.mnemonic);if(N&&_&&pe)return l.jsx(Fx,{address:_,network:o,origin:N.origin,message:N.message,loading:$,error:ve,onApprove:O,onReject:B});if(C&&_)return l.jsx(Mx,{address:_,network:o,origin:C.origin,onApprove:()=>{chrome.runtime.sendMessage({type:"FORGEOS_CONNECT_APPROVE",requestId:C.requestId,address:_,network:o}).catch(()=>{}),j(null)},onReject:()=>{chrome.runtime.sendMessage({type:"FORGEOS_CONNECT_REJECT",requestId:C.requestId}).catch(()=>{}),window.close()}});const ct=_,et="USD",Lt=s!==null&&c>0?s*c:null,dt=Lt!==null?My(Lt,et):"",tr=S?"":dt,ws=o==="mainnet",eh=Date.now(),ks=(D,V)=>D!==null&&eh-D<=V,bu=ks(U,se),zu=ks(K,xt),Mu=ks(re,Yt),Fu=bu&&zu&&Mu,Uu=bu||zu||Mu,th=Fu?"LIVE FEED":Uu?"PARTIAL FEED":"FEED OFFLINE",nh=Fu?a.ok:Uu?a.warn:a.danger,Bu=Math.max(U??0,K??0,re??0),rh=Bu>0?new Date(Bu).toLocaleTimeString([],{hour12:!1}):"never",oh=(()=>{if(!P)return"endpoint unknown";try{return new URL(P).host}catch{return P}})(),As=ws?a.ok:a.warn;return l.jsxs("div",{onClick:A,style:{width:ts,minHeight:ns,...Lr(),display:"flex",flexDirection:"column",...b,position:"relative",overflowX:"hidden",overflowY:"auto",zoom:Dr},children:[l.jsx("div",{style:{position:"absolute",top:-60,left:"50%",transform:"translateX(-50%)",width:320,height:320,borderRadius:"50%",background:`radial-gradient(ellipse, ${a.accent}0D 0%, transparent 70%)`,pointerEvents:"none",zIndex:0}}),l.jsx("div",{style:{position:"absolute",bottom:40,right:-60,width:200,height:200,borderRadius:"50%",background:`radial-gradient(ellipse, ${a.accent}07 0%, transparent 70%)`,pointerEvents:"none",zIndex:0}}),l.jsxs("div",{style:{padding:"13px 16px 11px",borderBottom:`1px solid ${a.border}`,display:"flex",alignItems:"center",justifyContent:"space-between",position:"relative",zIndex:1},children:[l.jsxs("div",{style:{display:"flex",alignItems:"center",gap:9},children:[l.jsx("img",{src:"../icons/icon48.png",alt:"Forge-OS",style:{width:24,height:24,objectFit:"contain",filter:"drop-shadow(0 0 8px rgba(57,221,182,0.55))"}}),l.jsxs("span",{style:{fontSize:14,fontWeight:700,letterSpacing:"0.1em"},children:[l.jsx("span",{style:{color:a.accent},children:"FORGE"}),l.jsx("span",{style:{color:a.text},children:"-OS"})]})]}),l.jsxs("div",{style:{display:"flex",alignItems:"center",gap:8},children:[l.jsx("button",{onClick:z,title:"Click to switch network",style:{fontSize:9,color:As,fontWeight:700,letterSpacing:"0.1em",background:`${As}15`,border:`1px solid ${As}35`,borderRadius:4,padding:"3px 8px",cursor:"pointer",...b},children:Le[o]??o.toUpperCase()}),pe&&l.jsx("button",{onClick:wt,title:"Lock wallet",style:{background:"rgba(33,48,67,0.5)",border:`1px solid ${a.border}`,borderRadius:4,padding:"3px 8px",color:a.dim,fontSize:10,cursor:"pointer",...b},children:""})]})]}),ct?l.jsxs("div",{style:{padding:"20px 16px 16px",borderBottom:`1px solid ${a.border}`,textAlign:"center",position:"relative",zIndex:1},children:[l.jsxs("div",{style:{display:"flex",alignItems:"center",justifyContent:"center",gap:6,marginBottom:16},children:[l.jsx("div",{style:{width:6,height:6,borderRadius:"50%",background:a.ok,flexShrink:0,boxShadow:`0 0 6px ${a.ok}`}}),l.jsx("span",{style:{fontSize:10,color:a.dim,letterSpacing:"0.04em"},children:Fo(ct)}),l.jsx("button",{onClick:Y,style:{...te(g?a.ok:a.dim,!0),padding:"3px 8px",fontSize:9,letterSpacing:"0.08em",color:g?a.ok:a.dim,minWidth:56},children:g?"COPIED":"COPY"}),l.jsx("button",{onClick:xe,style:{...te(S?a.warn:a.dim,!0),padding:"3px 8px",fontSize:9,letterSpacing:"0.08em",color:S?a.warn:a.dim,minWidth:56},children:S?"SHOW":"HIDE"})]}),l.jsxs("div",{style:{marginBottom:6},children:[l.jsx("div",{style:{fontSize:8,color:a.dim,letterSpacing:"0.1em",marginBottom:6},children:"TOTAL PORTFOLIO VALUE"}),l.jsx("div",{style:{fontSize:38,fontWeight:700,color:a.text,letterSpacing:"0.005em",lineHeight:1},children:tr})]}),l.jsx("div",{style:{display:"flex",gap:8,marginTop:16},children:[{label:"SEND",action:()=>{v("wallet"),w("send")}},{label:"RECEIVE",action:()=>{v("wallet"),w("receive")}},{label:"SWAP",action:()=>v("swap")}].map(D=>l.jsx("button",{onClick:D.action,style:{flex:1,background:`linear-gradient(145deg, ${a.accent}1A, rgba(8,13,20,0.7))`,border:`1px solid ${a.accent}40`,borderRadius:10,padding:"9px 0",color:a.accent,fontSize:10,fontWeight:700,cursor:"pointer",...b,letterSpacing:"0.1em",transition:"background 0.15s, border-color 0.15s"},children:D.label},D.label))})]}):l.jsxs("div",{style:{padding:"28px 16px",textAlign:"center",borderBottom:`1px solid ${a.border}`,position:"relative",zIndex:1},children:[l.jsx("div",{style:{fontSize:11,color:a.dim,marginBottom:12},children:"No wallet connected"}),l.jsx("button",{onClick:()=>chrome.tabs.create({url:"https://forge-os.xyz"}),style:{background:`linear-gradient(90deg, ${a.accent}, #7BE9CF)`,color:"#04110E",border:"none",borderRadius:10,padding:"10px 20px",fontSize:11,fontWeight:700,cursor:"pointer",...b,letterSpacing:"0.08em"},children:"OPEN FORGE-OS "})]}),l.jsx("div",{style:{display:"flex",borderBottom:`1px solid ${a.border}`,position:"relative",zIndex:1},children:["wallet","swap","agents","security"].map(D=>l.jsx("button",{onClick:()=>v(D),style:{flex:1,background:h===D?`${a.accent}08`:"none",border:"none",borderBottom:`2px solid ${h===D?a.accent:"transparent"}`,color:h===D?a.accent:a.dim,fontSize:10,fontWeight:700,cursor:"pointer",padding:"9px 0",letterSpacing:"0.1em",...b,textTransform:"uppercase",transition:"color 0.15s, border-color 0.15s, background 0.15s",boxShadow:h===D?`0 2px 12px ${a.accent}25`:"none"},children:D},D))}),l.jsxs("div",{style:{flex:1,overflow:"auto",position:"relative",zIndex:1},children:[h==="wallet"&&l.jsx(fv,{address:ct,balance:s,usdPrice:c,network:o,onOpenSwap:()=>v("swap"),mode:k,onModeConsumed:()=>w(void 0),onBalanceInvalidated:()=>(n==null?void 0:n.address)&&Ce(n.address,o),hideBalances:S}),h==="swap"&&l.jsx(vx,{}),h==="agents"&&l.jsx(kv,{network:o}),h==="security"&&l.jsx(Av,{address:ct,network:o,isManagedWallet:pe,autoLockMinutes:E,persistUnlockSessionEnabled:f,onAutoLockMinutesChange:F,onPersistUnlockSessionChange:ee,onLock:wt})]}),l.jsxs("div",{style:{padding:"7px 16px",borderTop:`1px solid ${a.border}`,display:"flex",justifyContent:"space-between",alignItems:"center",position:"relative",zIndex:1},children:[l.jsxs("div",{style:{display:"flex",alignItems:"center",gap:6},children:[l.jsx("span",{style:{fontSize:8,color:a.muted,letterSpacing:"0.06em"},children:"FORGE-OS"}),l.jsxs("span",{style:{fontSize:8,color:nh,letterSpacing:"0.05em",fontWeight:700},children:[" ",th]}),_e&&l.jsxs("span",{style:{fontSize:8,color:a.dim,letterSpacing:"0.04em"},children:[" ",d0[o]??10," BPS  DAA ",(parseInt(_e,10)/1e6).toFixed(1),"M"]}),l.jsxs("span",{style:{fontSize:8,color:a.dim,letterSpacing:"0.04em"},children:[" RPC ",oh]}),l.jsxs("span",{style:{fontSize:8,color:a.dim,letterSpacing:"0.04em"},children:[" UPDATE ",rh]})]}),l.jsx("button",{onClick:()=>chrome.tabs.create({url:"https://forge-os.xyz"}),style:{background:"none",border:"none",color:a.accent,fontSize:8,cursor:"pointer",...b,letterSpacing:"0.06em"},children:"OPEN SITE "})]}),Ie&&l.jsx("div",{style:{padding:"0 16px 7px",fontSize:8,color:a.warn,letterSpacing:"0.03em",position:"relative",zIndex:1},children:Ie})]})}Qp(document.getElementById("root")).render(l.jsx(x.StrictMode,{children:l.jsx(Ux,{})}));
